<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPGPU-Sim: v3.x/src/gpgpu-sim/gpu-sim.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_c934b74ccb33d6b9bfd1e576787940d8.html">v3.x</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_da58ad9beee6988f697f1a76e412a52a.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_d956d62670f5e9a38a62eba10b09b5c2.html">gpgpu-sim</a>
  </div>
</div>
<div class="contents">
<h1>gpu-sim.h</h1><a href="gpu-sim_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (c) 2009-2011, Tor M. Aamodt, Wilson W.L. Fung</span>
<a name="l00002"></a>00002 <span class="comment">// The University of British Columbia</span>
<a name="l00003"></a>00003 <span class="comment">// All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment">// modification, are permitted provided that the following conditions are met:</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Redistributions of source code must retain the above copyright notice, this</span>
<a name="l00009"></a>00009 <span class="comment">// list of conditions and the following disclaimer.</span>
<a name="l00010"></a>00010 <span class="comment">// Redistributions in binary form must reproduce the above copyright notice, this</span>
<a name="l00011"></a>00011 <span class="comment">// list of conditions and the following disclaimer in the documentation and/or</span>
<a name="l00012"></a>00012 <span class="comment">// other materials provided with the distribution.</span>
<a name="l00013"></a>00013 <span class="comment">// Neither the name of The University of British Columbia nor the names of its</span>
<a name="l00014"></a>00014 <span class="comment">// contributors may be used to endorse or promote products derived from this</span>
<a name="l00015"></a>00015 <span class="comment">// software without specific prior written permission.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00017"></a>00017 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span>
<a name="l00018"></a>00018 <span class="comment">// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00019"></a>00019 <span class="comment">// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00020"></a>00020 <span class="comment">// DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span>
<a name="l00021"></a>00021 <span class="comment">// FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<a name="l00022"></a>00022 <span class="comment">// DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
<a name="l00023"></a>00023 <span class="comment">// SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<a name="l00024"></a>00024 <span class="comment">// CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
<a name="l00025"></a>00025 <span class="comment">// OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef GPU_SIM_H</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define GPU_SIM_H</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;../option_parser.h&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;../abstract_hardware_model.h&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;../trace.h&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="addrdec_8h.html">addrdec.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="shader_8h.html">shader.h</a>&quot;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="comment">// constants for statistics printouts</span>
<a name="l00044"></a>00044 <span class="preprocessor">#define GPU_RSTAT_SHD_INFO 0x1</span>
<a name="l00045"></a>00045 <span class="preprocessor"></span><span class="preprocessor">#define GPU_RSTAT_BW_STAT  0x2</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span><span class="preprocessor">#define GPU_RSTAT_WARP_DIS 0x4</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#define GPU_RSTAT_DWF_MAP  0x8</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define GPU_RSTAT_L1MISS 0x10</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#define GPU_RSTAT_PDOM 0x20</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="preprocessor">#define GPU_RSTAT_SCHED 0x40</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">#define GPU_MEMLATSTAT_MC 0x2</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span>
<a name="l00053"></a>00053 <span class="comment">// constants for configuring merging of coalesced scatter-gather requests</span>
<a name="l00054"></a>00054 <span class="preprocessor">#define TEX_MSHR_MERGE 0x4</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span><span class="preprocessor">#define CONST_MSHR_MERGE 0x2</span>
<a name="l00056"></a>00056 <span class="preprocessor"></span><span class="preprocessor">#define GLOBAL_MSHR_MERGE 0x1</span>
<a name="l00057"></a>00057 <span class="preprocessor"></span>
<a name="l00058"></a>00058 <span class="comment">// clock constants</span>
<a name="l00059"></a>00059 <span class="preprocessor">#define MhZ *1000000</span>
<a name="l00060"></a>00060 <span class="preprocessor"></span>
<a name="l00061"></a>00061 <span class="preprocessor">#define CREATELOG 111</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span><span class="preprocessor">#define SAMPLELOG 222</span>
<a name="l00063"></a>00063 <span class="preprocessor"></span><span class="preprocessor">#define DUMPLOG 333</span>
<a name="l00064"></a>00064 <span class="preprocessor"></span>
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306eba">00069</a> <span class="keyword">enum</span> <a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306eba">dram_ctrl_t</a> {
<a name="l00070"></a><a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306ebaa1faffea2ae2e8b66b4ed7e1f077bdce9">00070</a>    <a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306ebaa1faffea2ae2e8b66b4ed7e1f077bdce9">DRAM_FIFO</a>=0,
<a name="l00071"></a><a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306ebaaa71a147cbd849f25be0765d23d7b020a">00071</a>    <a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306ebaaa71a147cbd849f25be0765d23d7b020a">DRAM_FRFCFS</a>=1
<a name="l00072"></a>00072 };
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a><a class="code" href="structpower__config.html">00076</a> <span class="keyword">struct </span><a class="code" href="structpower__config.html">power_config</a> {
<a name="l00077"></a><a class="code" href="structpower__config.html#adb087177c4d06c9779cefce2f42b48ff">00077</a>     <a class="code" href="structpower__config.html#adb087177c4d06c9779cefce2f42b48ff">power_config</a>()
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079         <a class="code" href="structpower__config.html#a9a23f20f703a153107bb7c7b893ac4a7">m_valid</a> = <span class="keyword">true</span>;
<a name="l00080"></a>00080     }
<a name="l00081"></a><a class="code" href="structpower__config.html#a3c2db8efd852ddbed393774cbfb49a20">00081</a>     <span class="keywordtype">void</span> <a class="code" href="structpower__config.html#a3c2db8efd852ddbed393774cbfb49a20">init</a>()
<a name="l00082"></a>00082     {
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         <span class="comment">// initialize file name if it is not set</span>
<a name="l00085"></a>00085         time_t curr_time;
<a name="l00086"></a>00086         time(&amp;curr_time);
<a name="l00087"></a>00087         <span class="keywordtype">char</span> *date = ctime(&amp;curr_time);
<a name="l00088"></a>00088         <span class="keywordtype">char</span> *s = date;
<a name="l00089"></a>00089         <span class="keywordflow">while</span> (*s) {
<a name="l00090"></a>00090             <span class="keywordflow">if</span> (*s == <span class="charliteral">&apos; &apos;</span> || *s == <span class="charliteral">&apos;\t&apos;</span> || *s == <span class="charliteral">&apos;:&apos;</span>) *s = <span class="charliteral">&apos;-&apos;</span>;
<a name="l00091"></a>00091             <span class="keywordflow">if</span> (*s == <span class="charliteral">&apos;\n&apos;</span> || *s == <span class="charliteral">&apos;\r&apos;</span> ) *s = 0;
<a name="l00092"></a>00092             s++;
<a name="l00093"></a>00093         }
<a name="l00094"></a>00094         <span class="keywordtype">char</span> buf1[1024];
<a name="l00095"></a>00095         snprintf(buf1,1024,<span class="stringliteral">&quot;gpgpusim_power_report__%s.log&quot;</span>,date);
<a name="l00096"></a>00096         <a class="code" href="structpower__config.html#a2c08bfeef96ccf46f925ad8cd1dc4b34">g_power_filename</a> = strdup(buf1);
<a name="l00097"></a>00097         <span class="keywordtype">char</span> buf2[1024];
<a name="l00098"></a>00098         snprintf(buf2,1024,<span class="stringliteral">&quot;gpgpusim_power_trace_report__%s.log.gz&quot;</span>,date);
<a name="l00099"></a>00099         <a class="code" href="structpower__config.html#aebdaba10d26b9cd24c093dadc5bc6c4a">g_power_trace_filename</a> = strdup(buf2);
<a name="l00100"></a>00100         <span class="keywordtype">char</span> buf3[1024];
<a name="l00101"></a>00101         snprintf(buf3,1024,<span class="stringliteral">&quot;gpgpusim_metric_trace_report__%s.log.gz&quot;</span>,date);
<a name="l00102"></a>00102         <a class="code" href="structpower__config.html#a078cf22c7720133b9660e37c6743099b">g_metric_trace_filename</a> = strdup(buf3);
<a name="l00103"></a>00103         <span class="keywordtype">char</span> buf4[1024];
<a name="l00104"></a>00104         snprintf(buf4,1024,<span class="stringliteral">&quot;gpgpusim_steady_state_tracking_report__%s.log.gz&quot;</span>,date);
<a name="l00105"></a>00105         <a class="code" href="structpower__config.html#adb11eafb55e0820b26584bd1831f9be9">g_steady_state_tracking_filename</a> = strdup(buf4);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         <span class="keywordflow">if</span>(<a class="code" href="structpower__config.html#a41376514c289df130236e6b5cb3fac7b">g_steady_power_levels_enabled</a>){
<a name="l00108"></a>00108             sscanf(<a class="code" href="structpower__config.html#adc7b3094f6674c82d2abfed5f5007231">gpu_steady_state_definition</a>,<span class="stringliteral">&quot;%lf:%lf&quot;</span>, &amp;<a class="code" href="structpower__config.html#ae61d6aac84fe5445d906a56664afe9f3">gpu_steady_power_deviation</a>,&amp;<a class="code" href="structpower__config.html#aea41d0ad4cf7ccbf532fe1a45f0cd014">gpu_steady_min_period</a>);
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110 
<a name="l00111"></a>00111         <span class="comment">//NOTE: After changing the nonlinear model to only scaling idle core,</span>
<a name="l00112"></a>00112         <span class="comment">//NOTE: The min_inc_per_active_sm is not used any more</span>
<a name="l00113"></a>00113         <span class="keywordflow">if</span> (<a class="code" href="structpower__config.html#a2a09cfdb5d3ccd425a1ae04ef6940f00">g_use_nonlinear_model</a>)
<a name="l00114"></a>00114             sscanf(<a class="code" href="structpower__config.html#ad1ad8e99c0b7478896d1a938f04b0ca5">gpu_nonlinear_model_config</a>,<span class="stringliteral">&quot;%lf:%lf&quot;</span>, &amp;<a class="code" href="structpower__config.html#a6e4719939119e2a1a5f71fad1712fab3">gpu_idle_core_power</a>,&amp;<a class="code" href="structpower__config.html#a353ee5ac36fffc15f18bff1ccb4d08b9">gpu_min_inc_per_active_sm</a>);
<a name="l00115"></a>00115 
<a name="l00116"></a>00116     }
<a name="l00117"></a>00117     <span class="keywordtype">void</span> <a class="code" href="structpower__config.html#a2d66f8128f5638374bc7e136c504a0f7">reg_options</a>(<span class="keyword">class</span> <a class="code" href="classOptionParser.html">OptionParser</a> * opp);
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="structpower__config.html#aef5f663a42429cc6989b38d926cb0c05">00119</a>     <span class="keywordtype">char</span> *<a class="code" href="structpower__config.html#aef5f663a42429cc6989b38d926cb0c05">g_power_config_name</a>;
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="structpower__config.html#a9a23f20f703a153107bb7c7b893ac4a7">00121</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#a9a23f20f703a153107bb7c7b893ac4a7">m_valid</a>;
<a name="l00122"></a><a class="code" href="structpower__config.html#a20c0b60d97a7fb9e9dccaec2f64da44b">00122</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#a20c0b60d97a7fb9e9dccaec2f64da44b">g_power_simulation_enabled</a>;
<a name="l00123"></a><a class="code" href="structpower__config.html#a927f7bbab32a6f26ab29f12f70d638c9">00123</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#a927f7bbab32a6f26ab29f12f70d638c9">g_power_trace_enabled</a>;
<a name="l00124"></a><a class="code" href="structpower__config.html#a41376514c289df130236e6b5cb3fac7b">00124</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#a41376514c289df130236e6b5cb3fac7b">g_steady_power_levels_enabled</a>;
<a name="l00125"></a><a class="code" href="structpower__config.html#ae669aad32eadcac1de2755537bfca1c4">00125</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#ae669aad32eadcac1de2755537bfca1c4">g_power_per_cycle_dump</a>;
<a name="l00126"></a><a class="code" href="structpower__config.html#a9c2a804dce1179f326b582c6834a952c">00126</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#a9c2a804dce1179f326b582c6834a952c">g_power_simulator_debug</a>;
<a name="l00127"></a><a class="code" href="structpower__config.html#a2c08bfeef96ccf46f925ad8cd1dc4b34">00127</a>     <span class="keywordtype">char</span> *<a class="code" href="structpower__config.html#a2c08bfeef96ccf46f925ad8cd1dc4b34">g_power_filename</a>;
<a name="l00128"></a><a class="code" href="structpower__config.html#aebdaba10d26b9cd24c093dadc5bc6c4a">00128</a>     <span class="keywordtype">char</span> *<a class="code" href="structpower__config.html#aebdaba10d26b9cd24c093dadc5bc6c4a">g_power_trace_filename</a>;
<a name="l00129"></a><a class="code" href="structpower__config.html#a078cf22c7720133b9660e37c6743099b">00129</a>     <span class="keywordtype">char</span> *<a class="code" href="structpower__config.html#a078cf22c7720133b9660e37c6743099b">g_metric_trace_filename</a>;
<a name="l00130"></a><a class="code" href="structpower__config.html#adb11eafb55e0820b26584bd1831f9be9">00130</a>     <span class="keywordtype">char</span> * <a class="code" href="structpower__config.html#adb11eafb55e0820b26584bd1831f9be9">g_steady_state_tracking_filename</a>;
<a name="l00131"></a><a class="code" href="structpower__config.html#ac0731cf84921b2ed95ef24ed73077059">00131</a>     <span class="keywordtype">int</span> <a class="code" href="structpower__config.html#ac0731cf84921b2ed95ef24ed73077059">g_power_trace_zlevel</a>;
<a name="l00132"></a><a class="code" href="structpower__config.html#adc7b3094f6674c82d2abfed5f5007231">00132</a>     <span class="keywordtype">char</span> * <a class="code" href="structpower__config.html#adc7b3094f6674c82d2abfed5f5007231">gpu_steady_state_definition</a>;
<a name="l00133"></a><a class="code" href="structpower__config.html#ae61d6aac84fe5445d906a56664afe9f3">00133</a>     <span class="keywordtype">double</span> <a class="code" href="structpower__config.html#ae61d6aac84fe5445d906a56664afe9f3">gpu_steady_power_deviation</a>;
<a name="l00134"></a><a class="code" href="structpower__config.html#aea41d0ad4cf7ccbf532fe1a45f0cd014">00134</a>     <span class="keywordtype">double</span> <a class="code" href="structpower__config.html#aea41d0ad4cf7ccbf532fe1a45f0cd014">gpu_steady_min_period</a>;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136     <span class="comment">//Nonlinear power model</span>
<a name="l00137"></a><a class="code" href="structpower__config.html#a2a09cfdb5d3ccd425a1ae04ef6940f00">00137</a>     <span class="keywordtype">bool</span> <a class="code" href="structpower__config.html#a2a09cfdb5d3ccd425a1ae04ef6940f00">g_use_nonlinear_model</a>;
<a name="l00138"></a><a class="code" href="structpower__config.html#ad1ad8e99c0b7478896d1a938f04b0ca5">00138</a>     <span class="keywordtype">char</span> * <a class="code" href="structpower__config.html#ad1ad8e99c0b7478896d1a938f04b0ca5">gpu_nonlinear_model_config</a>;
<a name="l00139"></a><a class="code" href="structpower__config.html#a6e4719939119e2a1a5f71fad1712fab3">00139</a>     <span class="keywordtype">double</span> <a class="code" href="structpower__config.html#a6e4719939119e2a1a5f71fad1712fab3">gpu_idle_core_power</a>;
<a name="l00140"></a><a class="code" href="structpower__config.html#a353ee5ac36fffc15f18bff1ccb4d08b9">00140</a>     <span class="keywordtype">double</span> <a class="code" href="structpower__config.html#a353ee5ac36fffc15f18bff1ccb4d08b9">gpu_min_inc_per_active_sm</a>;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 };
<a name="l00144"></a>00144 
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 
<a name="l00147"></a><a class="code" href="structmemory__config.html">00147</a> <span class="keyword">struct </span><a class="code" href="structmemory__config.html">memory_config</a> {
<a name="l00148"></a><a class="code" href="structmemory__config.html#a96d5dd5da00b575f1ac4259c30d5004a">00148</a>    <a class="code" href="structmemory__config.html#a96d5dd5da00b575f1ac4259c30d5004a">memory_config</a>()
<a name="l00149"></a>00149    {
<a name="l00150"></a>00150        <a class="code" href="structmemory__config.html#a28dca700194b1445a6a5604cf46a43c3">m_valid</a> = <span class="keyword">false</span>;
<a name="l00151"></a>00151        <a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">gpgpu_dram_timing_opt</a>=NULL;
<a name="l00152"></a>00152        <a class="code" href="structmemory__config.html#ade7bd81e2d11f12a30d52b5c73b37c7a">gpgpu_L2_queue_config</a>=NULL;
<a name="l00153"></a>00153    }
<a name="l00154"></a><a class="code" href="structmemory__config.html#a7c069667198ea6f82e93978c0fe1d5c7">00154</a>    <span class="keywordtype">void</span> <a class="code" href="structmemory__config.html#a7c069667198ea6f82e93978c0fe1d5c7">init</a>()
<a name="l00155"></a>00155    {
<a name="l00156"></a>00156       assert(<a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">gpgpu_dram_timing_opt</a>);
<a name="l00157"></a>00157       <span class="keywordflow">if</span> (strchr(<a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">gpgpu_dram_timing_opt</a>, <span class="charliteral">&apos;=&apos;</span>) == NULL) {
<a name="l00158"></a>00158          <span class="comment">// dram timing option in ordered variables (legacy)</span>
<a name="l00159"></a>00159          <span class="comment">// Disabling bank groups if their values are not specified</span>
<a name="l00160"></a>00160          <a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">nbkgrp</a> = 1;
<a name="l00161"></a>00161          <a class="code" href="structmemory__config.html#a9f698c65b9c0a434b49b37288d78bba8">tCCDL</a> = 0;
<a name="l00162"></a>00162          <a class="code" href="structmemory__config.html#a6430136d0fd9fda5e5d29041d50601fc">tRTPL</a> = 0;
<a name="l00163"></a>00163          sscanf(<a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">gpgpu_dram_timing_opt</a>,<span class="stringliteral">&quot;%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d:%d&quot;</span>,
<a name="l00164"></a>00164                 &amp;<a class="code" href="structmemory__config.html#af343882efa10cbb359bfbc759a745770">nbk</a>,&amp;<a class="code" href="structmemory__config.html#aea4f9503ca5e577eae352f5f9b5f0fe8">tCCD</a>,&amp;<a class="code" href="structmemory__config.html#ab723b2fd856475f0e5ce4d79432c6542">tRRD</a>,&amp;<a class="code" href="structmemory__config.html#ab8f634ab7d4868cde02dcbd27272ea6a">tRCD</a>,&amp;<a class="code" href="structmemory__config.html#a6d65848a93f7695b2ca40854e10e5f37">tRAS</a>,&amp;<a class="code" href="structmemory__config.html#a5e1836a07b0b645f4cb192e3b20e7c02">tRP</a>,&amp;<a class="code" href="structmemory__config.html#a31e052a3ea47bb53223417afd69e070a">tRC</a>,&amp;<a class="code" href="structmemory__config.html#a6398ae70b92a141ceefbdadb3092fa90">CL</a>,&amp;<a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>,&amp;<a class="code" href="structmemory__config.html#a91879e917b9d76c1cbaeadec95799b0b">tCDLR</a>,&amp;<a class="code" href="structmemory__config.html#ac0ac10349e1da8c104dc3c20c14559de">tWR</a>,&amp;<a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">nbkgrp</a>,&amp;<a class="code" href="structmemory__config.html#a9f698c65b9c0a434b49b37288d78bba8">tCCDL</a>,&amp;<a class="code" href="structmemory__config.html#a6430136d0fd9fda5e5d29041d50601fc">tRTPL</a>);
<a name="l00165"></a>00165       } <span class="keywordflow">else</span> {
<a name="l00166"></a>00166          <span class="comment">// named dram timing options (unordered)</span>
<a name="l00167"></a>00167          <a class="code" href="option__parser_8h.html#a05de72a9056d9bcb26f0b07bcebae49b">option_parser_t</a> dram_opp = <a class="code" href="option__parser_8cc.html#adb12b6c6d4aa366cbcaeb4e67b2bd570">option_parser_create</a>(); 
<a name="l00168"></a>00168 
<a name="l00169"></a>00169          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;nbk&quot;</span>,  <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#af343882efa10cbb359bfbc759a745770">nbk</a>,   <span class="stringliteral">&quot;number of banks&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00170"></a>00170          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;CCD&quot;</span>,  <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#aea4f9503ca5e577eae352f5f9b5f0fe8">tCCD</a>,  <span class="stringliteral">&quot;column to column delay&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00171"></a>00171          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;RRD&quot;</span>,  <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#ab723b2fd856475f0e5ce4d79432c6542">tRRD</a>,  <span class="stringliteral">&quot;minimal delay between activation of rows in different banks&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00172"></a>00172          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;RCD&quot;</span>,  <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#ab8f634ab7d4868cde02dcbd27272ea6a">tRCD</a>,  <span class="stringliteral">&quot;row to column delay&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00173"></a>00173          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;RAS&quot;</span>,  <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a6d65848a93f7695b2ca40854e10e5f37">tRAS</a>,  <span class="stringliteral">&quot;time needed to activate row&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00174"></a>00174          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;RP&quot;</span>,   <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a5e1836a07b0b645f4cb192e3b20e7c02">tRP</a>,   <span class="stringliteral">&quot;time needed to precharge (deactivate) row&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00175"></a>00175          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;RC&quot;</span>,   <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a31e052a3ea47bb53223417afd69e070a">tRC</a>,   <span class="stringliteral">&quot;row cycle time&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00176"></a>00176          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;CDLR&quot;</span>, <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a91879e917b9d76c1cbaeadec95799b0b">tCDLR</a>, <span class="stringliteral">&quot;switching from write to read (changes tWTR)&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00177"></a>00177          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;WR&quot;</span>,   <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#ac0ac10349e1da8c104dc3c20c14559de">tWR</a>,   <span class="stringliteral">&quot;last data-in to row precharge&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00178"></a>00178 
<a name="l00179"></a>00179          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;CL&quot;</span>, <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a6398ae70b92a141ceefbdadb3092fa90">CL</a>, <span class="stringliteral">&quot;CAS latency&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00180"></a>00180          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;WL&quot;</span>, <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>, <span class="stringliteral">&quot;Write latency&quot;</span>, <span class="stringliteral">&quot;&quot;</span>); 
<a name="l00181"></a>00181 
<a name="l00182"></a>00182          <span class="comment">//Disabling bank groups if their values are not specified</span>
<a name="l00183"></a>00183          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;nbkgrp&quot;</span>, <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">nbkgrp</a>, <span class="stringliteral">&quot;number of bank groups&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>); 
<a name="l00184"></a>00184          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;CCDL&quot;</span>,   <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a9f698c65b9c0a434b49b37288d78bba8">tCCDL</a>,  <span class="stringliteral">&quot;column to column delay between accesses to different bank groups&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>); 
<a name="l00185"></a>00185          <a class="code" href="option__parser_8cc.html#abe0bcd5e591c5664dcd98e4d291519e0">option_parser_register</a>(dram_opp, <span class="stringliteral">&quot;RTPL&quot;</span>,   <a class="code" href="option__parser_8h.html#a1ea719a508955d0748f03bada1ecc8fcae8d32fc7ba0eaac6d07017c2b86c848e">OPT_UINT32</a>, &amp;<a class="code" href="structmemory__config.html#a6430136d0fd9fda5e5d29041d50601fc">tRTPL</a>,  <span class="stringliteral">&quot;read to precharge delay between accesses to different bank groups&quot;</span>, <span class="stringliteral">&quot;0&quot;</span>); 
<a name="l00186"></a>00186 
<a name="l00187"></a>00187          <a class="code" href="option__parser_8cc.html#a61398515ea73f15cb6ed8cc8195a218a">option_parser_delimited_string</a>(dram_opp, <a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">gpgpu_dram_timing_opt</a>, <span class="stringliteral">&quot;=:;&quot;</span>); 
<a name="l00188"></a>00188          fprintf(stdout, <span class="stringliteral">&quot;DRAM Timing Options:\n&quot;</span>); 
<a name="l00189"></a>00189          <a class="code" href="option__parser_8cc.html#af59f7912792302d46a01819479b0aec3">option_parser_print</a>(dram_opp, stdout); 
<a name="l00190"></a>00190          <a class="code" href="option__parser_8cc.html#aa5e6702321c80b8f95a3642624ca7bf4">option_parser_destroy</a>(dram_opp); 
<a name="l00191"></a>00191       }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193       <span class="keywordtype">int</span> nbkt = <a class="code" href="structmemory__config.html#af343882efa10cbb359bfbc759a745770">nbk</a>/<a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">nbkgrp</a>;
<a name="l00194"></a>00194       <span class="keywordtype">unsigned</span> i;
<a name="l00195"></a>00195       <span class="keywordflow">for</span> (i=0; nbkt&gt;0; i++) {
<a name="l00196"></a>00196           nbkt = nbkt&gt;&gt;1;
<a name="l00197"></a>00197       }
<a name="l00198"></a>00198       <a class="code" href="structmemory__config.html#aeb015ee8fd0727b64d0d6a9a79dc57b3">bk_tag_length</a> = i;
<a name="l00199"></a>00199       assert(<a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">nbkgrp</a>&gt;0 &amp;&amp; <span class="stringliteral">&quot;Number of bank groups cannot be zero&quot;</span>);
<a name="l00200"></a>00200       <a class="code" href="structmemory__config.html#a2951c4f82cd569d99995963634cb1643">tRCDWR</a> = <a class="code" href="structmemory__config.html#ab8f634ab7d4868cde02dcbd27272ea6a">tRCD</a>-(<a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>+1);
<a name="l00201"></a>00201       <a class="code" href="structmemory__config.html#a88f558a74355bcbfd393b4419796f751">tRTW</a> = (<a class="code" href="structmemory__config.html#a6398ae70b92a141ceefbdadb3092fa90">CL</a>+(<a class="code" href="structmemory__config.html#a1e2790f6b96fbfefc8bbc32617671cf3">BL</a>/<a class="code" href="structmemory__config.html#a8967282309ea18da15a98e32c78688ed">data_command_freq_ratio</a>)+2-<a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>);
<a name="l00202"></a>00202       <a class="code" href="structmemory__config.html#a4ec25c0b4d3dad869314e8573224473f">tWTR</a> = (<a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>+(<a class="code" href="structmemory__config.html#a1e2790f6b96fbfefc8bbc32617671cf3">BL</a>/<a class="code" href="structmemory__config.html#a8967282309ea18da15a98e32c78688ed">data_command_freq_ratio</a>)+<a class="code" href="structmemory__config.html#a91879e917b9d76c1cbaeadec95799b0b">tCDLR</a>); 
<a name="l00203"></a>00203       <a class="code" href="structmemory__config.html#ad6a254e02d2b192e27946b6c518ad947">tWTP</a> = (<a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>+(<a class="code" href="structmemory__config.html#a1e2790f6b96fbfefc8bbc32617671cf3">BL</a>/<a class="code" href="structmemory__config.html#a8967282309ea18da15a98e32c78688ed">data_command_freq_ratio</a>)+<a class="code" href="structmemory__config.html#ac0ac10349e1da8c104dc3c20c14559de">tWR</a>);
<a name="l00204"></a>00204       <a class="code" href="structmemory__config.html#a78b3b9fbac23ea6b1405b68f1ca8046c">dram_atom_size</a> = <a class="code" href="structmemory__config.html#a1e2790f6b96fbfefc8bbc32617671cf3">BL</a> * <a class="code" href="structmemory__config.html#a00e57442129fe1ac62079a5f94c325a5">busW</a> * <a class="code" href="structmemory__config.html#a839e3197109a12f6a3132ead5611f053">gpu_n_mem_per_ctrlr</a>; <span class="comment">// burst length x bus width x # chips per partition </span>
<a name="l00205"></a>00205 
<a name="l00206"></a>00206       assert( <a class="code" href="structmemory__config.html#a94d168569ced756bfd18c2d49235e3c0">m_n_sub_partition_per_memory_channel</a> &gt; 0 ); 
<a name="l00207"></a>00207       assert( (<a class="code" href="structmemory__config.html#af343882efa10cbb359bfbc759a745770">nbk</a> % <a class="code" href="structmemory__config.html#a94d168569ced756bfd18c2d49235e3c0">m_n_sub_partition_per_memory_channel</a> == 0) 
<a name="l00208"></a>00208               &amp;&amp; <span class="stringliteral">&quot;Number of DRAM banks must be a perfect multiple of memory sub partition&quot;</span>); 
<a name="l00209"></a>00209       <a class="code" href="structmemory__config.html#ab91f8fa2218ebaedf96e0713b79caa62">m_n_mem_sub_partition</a> = <a class="code" href="structmemory__config.html#a23314d672956964a7da0b46a625bd02d">m_n_mem</a> * <a class="code" href="structmemory__config.html#a94d168569ced756bfd18c2d49235e3c0">m_n_sub_partition_per_memory_channel</a>; 
<a name="l00210"></a>00210       fprintf(stdout, <span class="stringliteral">&quot;Total number of memory sub partition = %u\n&quot;</span>, <a class="code" href="structmemory__config.html#ab91f8fa2218ebaedf96e0713b79caa62">m_n_mem_sub_partition</a>); 
<a name="l00211"></a>00211 
<a name="l00212"></a>00212       <a class="code" href="structmemory__config.html#ac11158ffeefbb1dca82c812aa3176b5f">m_address_mapping</a>.<a class="code" href="classlinear__to__raw__address__translation.html#adb0d838ac499df3ad40875c0191d0d59">init</a>(<a class="code" href="structmemory__config.html#a23314d672956964a7da0b46a625bd02d">m_n_mem</a>, m_n_sub_partition_per_memory_channel);
<a name="l00213"></a>00213       <a class="code" href="structmemory__config.html#a7fa0daff849c196f6a52f0b5d21c320c">m_L2_config</a>.<a class="code" href="classl2__cache__config.html#a6a6825498e38de10b25f4a0ef557d51b">init</a>(&amp;<a class="code" href="structmemory__config.html#ac11158ffeefbb1dca82c812aa3176b5f">m_address_mapping</a>);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215       <a class="code" href="structmemory__config.html#a28dca700194b1445a6a5604cf46a43c3">m_valid</a> = <span class="keyword">true</span>;
<a name="l00216"></a>00216       <a class="code" href="structmemory__config.html#a85580fa9a0a266f58a3a6b7b1c06f76c">icnt_flit_size</a> = 32; <span class="comment">// Default 32</span>
<a name="l00217"></a>00217    }
<a name="l00218"></a>00218    <span class="keywordtype">void</span> <a class="code" href="structmemory__config.html#adecbdd4fd1651be7a063e3e98c92a132">reg_options</a>(<span class="keyword">class</span> <a class="code" href="classOptionParser.html">OptionParser</a> * opp);
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="structmemory__config.html#a28dca700194b1445a6a5604cf46a43c3">00220</a>    <span class="keywordtype">bool</span> <a class="code" href="structmemory__config.html#a28dca700194b1445a6a5604cf46a43c3">m_valid</a>;
<a name="l00221"></a><a class="code" href="structmemory__config.html#a7fa0daff849c196f6a52f0b5d21c320c">00221</a>    <span class="keyword">mutable</span> <a class="code" href="classl2__cache__config.html">l2_cache_config</a> <a class="code" href="structmemory__config.html#a7fa0daff849c196f6a52f0b5d21c320c">m_L2_config</a>;
<a name="l00222"></a><a class="code" href="structmemory__config.html#a487f4c0c9c95f5c8d8657d22b7a372fb">00222</a>    <span class="keywordtype">bool</span> <a class="code" href="structmemory__config.html#a487f4c0c9c95f5c8d8657d22b7a372fb">m_L2_texure_only</a>;
<a name="l00223"></a>00223 
<a name="l00224"></a><a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">00224</a>    <span class="keywordtype">char</span> *<a class="code" href="structmemory__config.html#ad2c1f304143c580be19cd16fed0e46cd">gpgpu_dram_timing_opt</a>;
<a name="l00225"></a><a class="code" href="structmemory__config.html#ade7bd81e2d11f12a30d52b5c73b37c7a">00225</a>    <span class="keywordtype">char</span> *<a class="code" href="structmemory__config.html#ade7bd81e2d11f12a30d52b5c73b37c7a">gpgpu_L2_queue_config</a>;
<a name="l00226"></a><a class="code" href="structmemory__config.html#a79e326b04204a9778998465968205f35">00226</a>    <span class="keywordtype">bool</span> <a class="code" href="structmemory__config.html#a79e326b04204a9778998465968205f35">l2_ideal</a>;
<a name="l00227"></a><a class="code" href="structmemory__config.html#ac79cf2200f52166c66c75d5a055a84d7">00227</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#ac79cf2200f52166c66c75d5a055a84d7">gpgpu_frfcfs_dram_sched_queue_size</a>;
<a name="l00228"></a><a class="code" href="structmemory__config.html#a7adb7ff206e0a67d9d5a6c37562c3d0b">00228</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a7adb7ff206e0a67d9d5a6c37562c3d0b">gpgpu_dram_return_queue_size</a>;
<a name="l00229"></a><a class="code" href="structmemory__config.html#a421670cf616901c81fb4635b08f95906">00229</a>    <span class="keyword">enum</span> <a class="code" href="gpu-sim_8h.html#ad4d27d098cea5019101194f61d306eba">dram_ctrl_t</a> <a class="code" href="structmemory__config.html#a421670cf616901c81fb4635b08f95906">scheduler_type</a>;
<a name="l00230"></a><a class="code" href="structmemory__config.html#a8cd37fd38bc42b2b718e942dce67528a">00230</a>    <span class="keywordtype">bool</span> <a class="code" href="structmemory__config.html#a8cd37fd38bc42b2b718e942dce67528a">gpgpu_memlatency_stat</a>;
<a name="l00231"></a><a class="code" href="structmemory__config.html#a23314d672956964a7da0b46a625bd02d">00231</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a23314d672956964a7da0b46a625bd02d">m_n_mem</a>;
<a name="l00232"></a><a class="code" href="structmemory__config.html#a94d168569ced756bfd18c2d49235e3c0">00232</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a94d168569ced756bfd18c2d49235e3c0">m_n_sub_partition_per_memory_channel</a>;
<a name="l00233"></a><a class="code" href="structmemory__config.html#ab91f8fa2218ebaedf96e0713b79caa62">00233</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#ab91f8fa2218ebaedf96e0713b79caa62">m_n_mem_sub_partition</a>;
<a name="l00234"></a><a class="code" href="structmemory__config.html#a839e3197109a12f6a3132ead5611f053">00234</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a839e3197109a12f6a3132ead5611f053">gpu_n_mem_per_ctrlr</a>;
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="structmemory__config.html#a53fd23e3984e09767f74a95bbc24af35">00236</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a53fd23e3984e09767f74a95bbc24af35">rop_latency</a>;
<a name="l00237"></a><a class="code" href="structmemory__config.html#a368ef2bd8779b842ca641c4f68398764">00237</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a368ef2bd8779b842ca641c4f68398764">dram_latency</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239    <span class="comment">// DRAM parameters</span>
<a name="l00240"></a>00240 
<a name="l00241"></a><a class="code" href="structmemory__config.html#a9f698c65b9c0a434b49b37288d78bba8">00241</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a9f698c65b9c0a434b49b37288d78bba8">tCCDL</a>;  <span class="comment">//column to column delay when bank groups are enabled</span>
<a name="l00242"></a><a class="code" href="structmemory__config.html#a6430136d0fd9fda5e5d29041d50601fc">00242</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a6430136d0fd9fda5e5d29041d50601fc">tRTPL</a>;  <span class="comment">//read to precharge delay when bank groups are enabled for GDDR5 this is identical to RTPS, if for other DRAM this is different, you will need to split them in two</span>
<a name="l00243"></a>00243 
<a name="l00244"></a><a class="code" href="structmemory__config.html#aea4f9503ca5e577eae352f5f9b5f0fe8">00244</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#aea4f9503ca5e577eae352f5f9b5f0fe8">tCCD</a>;   <span class="comment">//column to column delay</span>
<a name="l00245"></a><a class="code" href="structmemory__config.html#ab723b2fd856475f0e5ce4d79432c6542">00245</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#ab723b2fd856475f0e5ce4d79432c6542">tRRD</a>;   <span class="comment">//minimal time required between activation of rows in different banks</span>
<a name="l00246"></a><a class="code" href="structmemory__config.html#ab8f634ab7d4868cde02dcbd27272ea6a">00246</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#ab8f634ab7d4868cde02dcbd27272ea6a">tRCD</a>;   <span class="comment">//row to column delay - time required to activate a row before a read</span>
<a name="l00247"></a><a class="code" href="structmemory__config.html#a2951c4f82cd569d99995963634cb1643">00247</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a2951c4f82cd569d99995963634cb1643">tRCDWR</a>; <span class="comment">//row to column delay for a write command</span>
<a name="l00248"></a><a class="code" href="structmemory__config.html#a6d65848a93f7695b2ca40854e10e5f37">00248</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a6d65848a93f7695b2ca40854e10e5f37">tRAS</a>;   <span class="comment">//time needed to activate row</span>
<a name="l00249"></a><a class="code" href="structmemory__config.html#a5e1836a07b0b645f4cb192e3b20e7c02">00249</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a5e1836a07b0b645f4cb192e3b20e7c02">tRP</a>;    <span class="comment">//row precharge ie. deactivate row</span>
<a name="l00250"></a><a class="code" href="structmemory__config.html#a31e052a3ea47bb53223417afd69e070a">00250</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a31e052a3ea47bb53223417afd69e070a">tRC</a>;    <span class="comment">//row cycle time ie. precharge current, then activate different row</span>
<a name="l00251"></a><a class="code" href="structmemory__config.html#a91879e917b9d76c1cbaeadec95799b0b">00251</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a91879e917b9d76c1cbaeadec95799b0b">tCDLR</a>;  <span class="comment">//Last data-in to Read command (switching from write to read)</span>
<a name="l00252"></a><a class="code" href="structmemory__config.html#ac0ac10349e1da8c104dc3c20c14559de">00252</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#ac0ac10349e1da8c104dc3c20c14559de">tWR</a>;    <span class="comment">//Last data-in to Row precharge </span>
<a name="l00253"></a>00253 
<a name="l00254"></a><a class="code" href="structmemory__config.html#a6398ae70b92a141ceefbdadb3092fa90">00254</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a6398ae70b92a141ceefbdadb3092fa90">CL</a>;     <span class="comment">//CAS latency</span>
<a name="l00255"></a><a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">00255</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a48e96cf5ff1f74aa3198d9b635f8e9cd">WL</a>;     <span class="comment">//WRITE latency</span>
<a name="l00256"></a><a class="code" href="structmemory__config.html#a1e2790f6b96fbfefc8bbc32617671cf3">00256</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a1e2790f6b96fbfefc8bbc32617671cf3">BL</a>;     <span class="comment">//Burst Length in bytes (4 in GDDR3, 8 in GDDR5)</span>
<a name="l00257"></a><a class="code" href="structmemory__config.html#a88f558a74355bcbfd393b4419796f751">00257</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a88f558a74355bcbfd393b4419796f751">tRTW</a>;   <span class="comment">//time to switch from read to write</span>
<a name="l00258"></a><a class="code" href="structmemory__config.html#a4ec25c0b4d3dad869314e8573224473f">00258</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a4ec25c0b4d3dad869314e8573224473f">tWTR</a>;   <span class="comment">//time to switch from write to read </span>
<a name="l00259"></a><a class="code" href="structmemory__config.html#ad6a254e02d2b192e27946b6c518ad947">00259</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#ad6a254e02d2b192e27946b6c518ad947">tWTP</a>;   <span class="comment">//time to switch from write to precharge in the same bank</span>
<a name="l00260"></a><a class="code" href="structmemory__config.html#a00e57442129fe1ac62079a5f94c325a5">00260</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a00e57442129fe1ac62079a5f94c325a5">busW</a>;
<a name="l00261"></a>00261 
<a name="l00262"></a><a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">00262</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a09eed581d308d1b934c8f92a914297b5">nbkgrp</a>; <span class="comment">// number of bank groups (has to be power of 2)</span>
<a name="l00263"></a><a class="code" href="structmemory__config.html#aeb015ee8fd0727b64d0d6a9a79dc57b3">00263</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#aeb015ee8fd0727b64d0d6a9a79dc57b3">bk_tag_length</a>; <span class="comment">//number of bits that define a bank inside a bank group</span>
<a name="l00264"></a>00264 
<a name="l00265"></a><a class="code" href="structmemory__config.html#af343882efa10cbb359bfbc759a745770">00265</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#af343882efa10cbb359bfbc759a745770">nbk</a>;
<a name="l00266"></a>00266 
<a name="l00267"></a><a class="code" href="structmemory__config.html#a8967282309ea18da15a98e32c78688ed">00267</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a8967282309ea18da15a98e32c78688ed">data_command_freq_ratio</a>; <span class="comment">// frequency ratio between DRAM data bus and command bus (2 for GDDR3, 4 for GDDR5)</span>
<a name="l00268"></a><a class="code" href="structmemory__config.html#a78b3b9fbac23ea6b1405b68f1ca8046c">00268</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a78b3b9fbac23ea6b1405b68f1ca8046c">dram_atom_size</a>; <span class="comment">// number of bytes transferred per read or write command </span>
<a name="l00269"></a>00269 
<a name="l00270"></a><a class="code" href="structmemory__config.html#ac11158ffeefbb1dca82c812aa3176b5f">00270</a>    <a class="code" href="classlinear__to__raw__address__translation.html">linear_to_raw_address_translation</a> <a class="code" href="structmemory__config.html#ac11158ffeefbb1dca82c812aa3176b5f">m_address_mapping</a>;
<a name="l00271"></a>00271 
<a name="l00272"></a><a class="code" href="structmemory__config.html#a85580fa9a0a266f58a3a6b7b1c06f76c">00272</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structmemory__config.html#a85580fa9a0a266f58a3a6b7b1c06f76c">icnt_flit_size</a>;
<a name="l00273"></a>00273 };
<a name="l00274"></a>00274 
<a name="l00275"></a>00275 <span class="comment">// global counters and flags (please try not to add to this list!!!)</span>
<a name="l00276"></a>00276 <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="gpu-sim_8cc.html#a659fec271553d05e676c52314c8fcfe1">gpu_sim_cycle</a>;
<a name="l00277"></a>00277 <span class="keyword">extern</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="gpu-sim_8cc.html#acef6bbfd6ec09fe29e2641cace785058">gpu_tot_sim_cycle</a>;
<a name="l00278"></a>00278 <span class="keyword">extern</span> <span class="keywordtype">bool</span> <a class="code" href="gpu-sim_8cc.html#a75c0324090738b7806b06294fc7671c7">g_interactive_debugger_enabled</a>;
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="classgpgpu__sim__config.html">00280</a> <span class="keyword">class </span><a class="code" href="classgpgpu__sim__config.html">gpgpu_sim_config</a> : <span class="keyword">public</span> <a class="code" href="structpower__config.html">power_config</a>, <span class="keyword">public</span> <a class="code" href="classgpgpu__functional__sim__config.html">gpgpu_functional_sim_config</a> {
<a name="l00281"></a>00281 <span class="keyword">public</span>:
<a name="l00282"></a><a class="code" href="classgpgpu__sim__config.html#adcc622632ab7360f7c8defed391daf80">00282</a>     <a class="code" href="classgpgpu__sim__config.html#adcc622632ab7360f7c8defed391daf80">gpgpu_sim_config</a>() { <a class="code" href="classgpgpu__sim__config.html#aca26f9ed5ba9054cb97cb7b287b65d77">m_valid</a> = <span class="keyword">false</span>; }
<a name="l00283"></a>00283     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim__config.html#ac6b32e2c82913fe52e9825f6f444b71d">reg_options</a>(<span class="keyword">class</span> <a class="code" href="classOptionParser.html">OptionParser</a> * opp);
<a name="l00284"></a><a class="code" href="classgpgpu__sim__config.html#a6dec64c7f229d25c4207807c70ce3164">00284</a>     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim__config.html#a6dec64c7f229d25c4207807c70ce3164">init</a>() 
<a name="l00285"></a>00285     {
<a name="l00286"></a>00286         <a class="code" href="classgpgpu__sim__config.html#ac1e50b3a3649dcc6eff807f526406674">gpu_stat_sample_freq</a> = 10000;
<a name="l00287"></a>00287         <a class="code" href="classgpgpu__sim__config.html#a8102cdecedad9f7d2f7e18d46987037c">gpu_runtime_stat_flag</a> = 0;
<a name="l00288"></a>00288         sscanf(<a class="code" href="classgpgpu__sim__config.html#a2da856acc5bdbe958d4a524876353899">gpgpu_runtime_stat</a>, <span class="stringliteral">&quot;%d:%x&quot;</span>, &amp;<a class="code" href="classgpgpu__sim__config.html#ac1e50b3a3649dcc6eff807f526406674">gpu_stat_sample_freq</a>, &amp;<a class="code" href="classgpgpu__sim__config.html#a8102cdecedad9f7d2f7e18d46987037c">gpu_runtime_stat_flag</a>);
<a name="l00289"></a>00289         <a class="code" href="classgpgpu__sim__config.html#ada6175f566cc3e707470ff3a672ff8f1">m_shader_config</a>.<a class="code" href="structshader__core__config.html#a0cefdbaa68c5f25c623a1beed43e5a8b">init</a>();
<a name="l00290"></a>00290         <a class="code" href="classgpgpu__functional__sim__config.html#a5e7f615bd02c0ba4fb3bfe02ff90b209">ptx_set_tex_cache_linesize</a>(<a class="code" href="classgpgpu__sim__config.html#ada6175f566cc3e707470ff3a672ff8f1">m_shader_config</a>.<a class="code" href="structshader__core__config.html#a97e70c22ec0f090203fbd1831d59a968">m_L1T_config</a>.<a class="code" href="classcache__config.html#a845e3ea5153e60e928350db8472ae3c5">get_line_sz</a>());
<a name="l00291"></a>00291         <a class="code" href="classgpgpu__sim__config.html#af7326b2b4f34bf91f7c77845d17c60f5">m_memory_config</a>.<a class="code" href="structmemory__config.html#a7c069667198ea6f82e93978c0fe1d5c7">init</a>();
<a name="l00292"></a>00292         <a class="code" href="classgpgpu__sim__config.html#a25faa4d46464e655a1af910785e7962c">init_clock_domains</a>(); 
<a name="l00293"></a>00293         <a class="code" href="classgpgpu__sim__config.html#a6dec64c7f229d25c4207807c70ce3164">power_config::init</a>();
<a name="l00294"></a>00294         <a class="code" href="classgpgpu__sim__config.html#a6dec64c7f229d25c4207807c70ce3164">Trace::init</a>();
<a name="l00295"></a>00295 
<a name="l00296"></a>00296 
<a name="l00297"></a>00297         <span class="comment">// initialize file name if it is not set </span>
<a name="l00298"></a>00298         time_t curr_time;
<a name="l00299"></a>00299         time(&amp;curr_time);
<a name="l00300"></a>00300         <span class="keywordtype">char</span> *date = ctime(&amp;curr_time);
<a name="l00301"></a>00301         <span class="keywordtype">char</span> *s = date;
<a name="l00302"></a>00302         <span class="keywordflow">while</span> (*s) {
<a name="l00303"></a>00303             <span class="keywordflow">if</span> (*s == <span class="charliteral">&apos; &apos;</span> || *s == <span class="charliteral">&apos;\t&apos;</span> || *s == <span class="charliteral">&apos;:&apos;</span>) *s = <span class="charliteral">&apos;-&apos;</span>;
<a name="l00304"></a>00304             <span class="keywordflow">if</span> (*s == <span class="charliteral">&apos;\n&apos;</span> || *s == <span class="charliteral">&apos;\r&apos;</span> ) *s = 0;
<a name="l00305"></a>00305             s++;
<a name="l00306"></a>00306         }
<a name="l00307"></a>00307         <span class="keywordtype">char</span> buf[1024];
<a name="l00308"></a>00308         snprintf(buf,1024,<span class="stringliteral">&quot;gpgpusim_visualizer__%s.log.gz&quot;</span>,date);
<a name="l00309"></a>00309         <a class="code" href="classgpgpu__sim__config.html#a6781359d1fb7a97ff693e2a43cc94641">g_visualizer_filename</a> = strdup(buf);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311         <a class="code" href="classgpgpu__sim__config.html#aca26f9ed5ba9054cb97cb7b287b65d77">m_valid</a>=<span class="keyword">true</span>;
<a name="l00312"></a>00312     }
<a name="l00313"></a>00313 
<a name="l00314"></a><a class="code" href="classgpgpu__sim__config.html#a535c7872a7c415ccec20966bcfa0ca95">00314</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#a535c7872a7c415ccec20966bcfa0ca95">num_shader</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__sim__config.html#ada6175f566cc3e707470ff3a672ff8f1">m_shader_config</a>.<a class="code" href="structshader__core__config.html#a30949c72f2ebab12287ca4e801dc0b49">num_shader</a>(); }
<a name="l00315"></a><a class="code" href="classgpgpu__sim__config.html#a264d5a7707bd8c8344a8c468f31679f0">00315</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#a264d5a7707bd8c8344a8c468f31679f0">num_cluster</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__sim__config.html#ada6175f566cc3e707470ff3a672ff8f1">m_shader_config</a>.<a class="code" href="structshader__core__config.html#a21b867d06fc4757d3a9b63404eb16692">n_simt_clusters</a>; }
<a name="l00316"></a><a class="code" href="classgpgpu__sim__config.html#af8ade665bed73fa8962c1fdfbfaad47e">00316</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#af8ade665bed73fa8962c1fdfbfaad47e">get_max_concurrent_kernel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__sim__config.html#a55c89cb8a90cce8d779fb4d4ffbeca18">max_concurrent_kernel</a>; }
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 <span class="keyword">private</span>:
<a name="l00319"></a>00319     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim__config.html#a25faa4d46464e655a1af910785e7962c">init_clock_domains</a>(<span class="keywordtype">void</span> ); 
<a name="l00320"></a>00320 
<a name="l00321"></a>00321 
<a name="l00322"></a><a class="code" href="classgpgpu__sim__config.html#aca26f9ed5ba9054cb97cb7b287b65d77">00322</a>     <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__sim__config.html#aca26f9ed5ba9054cb97cb7b287b65d77">m_valid</a>;
<a name="l00323"></a><a class="code" href="classgpgpu__sim__config.html#ada6175f566cc3e707470ff3a672ff8f1">00323</a>     <a class="code" href="structshader__core__config.html">shader_core_config</a> <a class="code" href="classgpgpu__sim__config.html#ada6175f566cc3e707470ff3a672ff8f1">m_shader_config</a>;
<a name="l00324"></a><a class="code" href="classgpgpu__sim__config.html#af7326b2b4f34bf91f7c77845d17c60f5">00324</a>     <a class="code" href="structmemory__config.html">memory_config</a> <a class="code" href="classgpgpu__sim__config.html#af7326b2b4f34bf91f7c77845d17c60f5">m_memory_config</a>;
<a name="l00325"></a>00325     <span class="comment">// clock domains - frequency</span>
<a name="l00326"></a><a class="code" href="classgpgpu__sim__config.html#a851d96d7de44c1cc5da50e5c0e6acea8">00326</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#a851d96d7de44c1cc5da50e5c0e6acea8">core_freq</a>;
<a name="l00327"></a><a class="code" href="classgpgpu__sim__config.html#a60f23f68341774718a284dd48764f58d">00327</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#a60f23f68341774718a284dd48764f58d">icnt_freq</a>;
<a name="l00328"></a><a class="code" href="classgpgpu__sim__config.html#aa3c32c2bd7c8a1b7d5786b8e4749d294">00328</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#aa3c32c2bd7c8a1b7d5786b8e4749d294">dram_freq</a>;
<a name="l00329"></a><a class="code" href="classgpgpu__sim__config.html#ac5e03c771c59c491b27119f526b48338">00329</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#ac5e03c771c59c491b27119f526b48338">l2_freq</a>;
<a name="l00330"></a><a class="code" href="classgpgpu__sim__config.html#ae25c5c965dfa768a653d6fa0dfe855bf">00330</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#ae25c5c965dfa768a653d6fa0dfe855bf">core_period</a>;
<a name="l00331"></a><a class="code" href="classgpgpu__sim__config.html#a65573554f85fdd8f2fa1fdc4517ce46f">00331</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#a65573554f85fdd8f2fa1fdc4517ce46f">icnt_period</a>;
<a name="l00332"></a><a class="code" href="classgpgpu__sim__config.html#a38e02cbf3e10a39bf9289ccf23c6e720">00332</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#a38e02cbf3e10a39bf9289ccf23c6e720">dram_period</a>;
<a name="l00333"></a><a class="code" href="classgpgpu__sim__config.html#ab9c0ee1d8e0607bf5897eb800c855921">00333</a>     <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim__config.html#ab9c0ee1d8e0607bf5897eb800c855921">l2_period</a>;
<a name="l00334"></a>00334 
<a name="l00335"></a>00335     <span class="comment">// GPGPU-Sim timing model options</span>
<a name="l00336"></a><a class="code" href="classgpgpu__sim__config.html#abf31c7933a98dc2b807a141b49d27c67">00336</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#abf31c7933a98dc2b807a141b49d27c67">gpu_max_cycle_opt</a>;
<a name="l00337"></a><a class="code" href="classgpgpu__sim__config.html#a3d4018b7d49bf987e5f2b9f688089d3b">00337</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#a3d4018b7d49bf987e5f2b9f688089d3b">gpu_max_insn_opt</a>;
<a name="l00338"></a><a class="code" href="classgpgpu__sim__config.html#aa64d93e5e8e18ca93ecf1e97c8c18dc7">00338</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#aa64d93e5e8e18ca93ecf1e97c8c18dc7">gpu_max_cta_opt</a>;
<a name="l00339"></a><a class="code" href="classgpgpu__sim__config.html#a2da856acc5bdbe958d4a524876353899">00339</a>     <span class="keywordtype">char</span> *<a class="code" href="classgpgpu__sim__config.html#a2da856acc5bdbe958d4a524876353899">gpgpu_runtime_stat</a>;
<a name="l00340"></a><a class="code" href="classgpgpu__sim__config.html#a66cfb0ba782ce61bef5c164dd1aa51ae">00340</a>     <span class="keywordtype">bool</span>  <a class="code" href="classgpgpu__sim__config.html#a66cfb0ba782ce61bef5c164dd1aa51ae">gpgpu_flush_l1_cache</a>;
<a name="l00341"></a><a class="code" href="classgpgpu__sim__config.html#a4decb22d9f326ecbe25d58b5290e46a9">00341</a>     <span class="keywordtype">bool</span>  <a class="code" href="classgpgpu__sim__config.html#a4decb22d9f326ecbe25d58b5290e46a9">gpgpu_flush_l2_cache</a>;
<a name="l00342"></a><a class="code" href="classgpgpu__sim__config.html#af4ac590abdbee73ea5852e9c2b8c0be9">00342</a>     <span class="keywordtype">bool</span>  <a class="code" href="classgpgpu__sim__config.html#af4ac590abdbee73ea5852e9c2b8c0be9">gpu_deadlock_detect</a>;
<a name="l00343"></a><a class="code" href="classgpgpu__sim__config.html#af371d3f7d04677565372578604f8e2b2">00343</a>     <span class="keywordtype">int</span>   <a class="code" href="classgpgpu__sim__config.html#af371d3f7d04677565372578604f8e2b2">gpgpu_frfcfs_dram_sched_queue_size</a>; 
<a name="l00344"></a><a class="code" href="classgpgpu__sim__config.html#a6c73d5208f867ac45f6c30fec99a3a4c">00344</a>     <span class="keywordtype">int</span>   <a class="code" href="classgpgpu__sim__config.html#a6c73d5208f867ac45f6c30fec99a3a4c">gpgpu_cflog_interval</a>;
<a name="l00345"></a><a class="code" href="classgpgpu__sim__config.html#acb25ce82b374830bb10c066c9895bf50">00345</a>     <span class="keywordtype">char</span> * <a class="code" href="classgpgpu__sim__config.html#acb25ce82b374830bb10c066c9895bf50">gpgpu_clock_domains</a>;
<a name="l00346"></a><a class="code" href="classgpgpu__sim__config.html#a55c89cb8a90cce8d779fb4d4ffbeca18">00346</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim__config.html#a55c89cb8a90cce8d779fb4d4ffbeca18">max_concurrent_kernel</a>;
<a name="l00347"></a>00347 
<a name="l00348"></a>00348     <span class="comment">// visualizer</span>
<a name="l00349"></a><a class="code" href="classgpgpu__sim__config.html#a66c3a28fc21786c229ceabe69ce3d2bc">00349</a>     <span class="keywordtype">bool</span>  <a class="code" href="classgpgpu__sim__config.html#a66c3a28fc21786c229ceabe69ce3d2bc">g_visualizer_enabled</a>;
<a name="l00350"></a><a class="code" href="classgpgpu__sim__config.html#a6781359d1fb7a97ff693e2a43cc94641">00350</a>     <span class="keywordtype">char</span> *<a class="code" href="classgpgpu__sim__config.html#a6781359d1fb7a97ff693e2a43cc94641">g_visualizer_filename</a>;
<a name="l00351"></a><a class="code" href="classgpgpu__sim__config.html#a0f98a631789f9346c29ff3965d3b217d">00351</a>     <span class="keywordtype">int</span>   <a class="code" href="classgpgpu__sim__config.html#a0f98a631789f9346c29ff3965d3b217d">g_visualizer_zlevel</a>;
<a name="l00352"></a>00352 
<a name="l00353"></a>00353 
<a name="l00354"></a>00354     <span class="comment">// statistics collection</span>
<a name="l00355"></a><a class="code" href="classgpgpu__sim__config.html#ac1e50b3a3649dcc6eff807f526406674">00355</a>     <span class="keywordtype">int</span> <a class="code" href="classgpgpu__sim__config.html#ac1e50b3a3649dcc6eff807f526406674">gpu_stat_sample_freq</a>;
<a name="l00356"></a><a class="code" href="classgpgpu__sim__config.html#a8102cdecedad9f7d2f7e18d46987037c">00356</a>     <span class="keywordtype">int</span> <a class="code" href="classgpgpu__sim__config.html#a8102cdecedad9f7d2f7e18d46987037c">gpu_runtime_stat_flag</a>;
<a name="l00357"></a>00357 
<a name="l00358"></a>00358 
<a name="l00359"></a>00359 
<a name="l00360"></a><a class="code" href="classgpgpu__sim__config.html#a760c7c5962ec1744c05d1c9cd840a4e9">00360</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classgpgpu__sim__config.html#a760c7c5962ec1744c05d1c9cd840a4e9">liveness_message_freq</a>; 
<a name="l00361"></a>00361 
<a name="l00362"></a><a class="code" href="classgpgpu__sim__config.html#a90acd1cae43f202117c70fb62d68932c">00362</a>     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classgpgpu__sim.html">gpgpu_sim</a>;
<a name="l00363"></a>00363 };
<a name="l00364"></a>00364 
<a name="l00365"></a><a class="code" href="classgpgpu__sim.html">00365</a> <span class="keyword">class </span><a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> : <span class="keyword">public</span> <a class="code" href="classgpgpu__t.html">gpgpu_t</a> {
<a name="l00366"></a>00366 <span class="keyword">public</span>:
<a name="l00367"></a>00367    <a class="code" href="classgpgpu__sim.html#a039d8c9b33bdbc0b848a3fdaa03e17c4">gpgpu_sim</a>( <span class="keyword">const</span> <a class="code" href="classgpgpu__sim__config.html">gpgpu_sim_config</a> &amp;config );
<a name="l00368"></a>00368 
<a name="l00369"></a>00369    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a74286d1db7e14722deca5d0fffcd98cd">set_prop</a>( <span class="keyword">struct</span> cudaDeviceProp *prop );
<a name="l00370"></a>00370 
<a name="l00371"></a>00371    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a6a55f579a83afe6dcf2135368ea7c809">launch</a>( <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *kinfo );
<a name="l00372"></a>00372    <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__sim.html#a47fb8de4282171f61d171e4a6ea92677">can_start_kernel</a>();
<a name="l00373"></a>00373    <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim.html#a0924b4264f1c4b074c340cdd16c709d8">finished_kernel</a>();
<a name="l00374"></a>00374    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a6b6204e113964723b581bde478966358">set_kernel_done</a>( <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *kernel );
<a name="l00375"></a>00375 
<a name="l00376"></a>00376    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a1bd81ee6f58d1b16e158450e2822470f">init</a>();
<a name="l00377"></a>00377    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a36c4ad6499b1a5212a88c17be524085b">cycle</a>();
<a name="l00378"></a>00378    <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__sim.html#ae0ac04cb22463a430960c98c4a647290">active</a>(); 
<a name="l00379"></a>00379    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a2c34cae2c611e349fefd0b9538a916b1">print_stats</a>();
<a name="l00380"></a>00380    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a7c90f8e94670b5cb5082d03586747c8b">update_stats</a>();
<a name="l00381"></a>00381    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#aa0fd3456a1d46877fa25fa1270938ed5">deadlock_check</a>();
<a name="l00382"></a>00382 
<a name="l00383"></a>00383    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a588b1f73ab61883eb58cc3311fbd5d24">get_pdom_stack_top_info</a>( <span class="keywordtype">unsigned</span> sid, <span class="keywordtype">unsigned</span> tid, <span class="keywordtype">unsigned</span> *pc, <span class="keywordtype">unsigned</span> *rpc );
<a name="l00384"></a>00384 
<a name="l00385"></a>00385    <span class="keywordtype">int</span> <a class="code" href="classgpgpu__sim.html#af18901e36e273590af2990ef6e3dde40">shared_mem_size</a>() <span class="keyword">const</span>;
<a name="l00386"></a>00386    <span class="keywordtype">int</span> <a class="code" href="classgpgpu__sim.html#a397596c38e1df806c21a505728cdb8d9">num_registers_per_core</a>() <span class="keyword">const</span>;
<a name="l00387"></a>00387    <span class="keywordtype">int</span> <a class="code" href="classgpgpu__sim.html#aa347ca000f0bf13498fed9185068993d">wrp_size</a>() <span class="keyword">const</span>;
<a name="l00388"></a>00388    <span class="keywordtype">int</span> <a class="code" href="classgpgpu__sim.html#ac4c8b6399e0f2a234b82a740b2499ed5">shader_clock</a>() <span class="keyword">const</span>;
<a name="l00389"></a>00389    <span class="keyword">const</span> <span class="keyword">struct </span>cudaDeviceProp *<a class="code" href="classgpgpu__sim.html#a735efea7cb71b751d5b96f28a2797be3">get_prop</a>() <span class="keyword">const</span>;
<a name="l00390"></a>00390    <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12b">divergence_support_t</a> <a class="code" href="classgpgpu__sim.html#a1d79c60562b260d25b469179c1f07565">simd_model</a>() <span class="keyword">const</span>; 
<a name="l00391"></a>00391 
<a name="l00392"></a>00392    <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim.html#aff6b4f85ae70f827ba903e4aa3112261">threads_per_core</a>() <span class="keyword">const</span>;
<a name="l00393"></a>00393    <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__sim.html#a401cfb3303dd888aa4600a3975065c5d">get_more_cta_left</a>() <span class="keyword">const</span>;
<a name="l00394"></a>00394    <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *<a class="code" href="classgpgpu__sim.html#a1553293edb404940fd9a43a5f4de91cd">select_kernel</a>();
<a name="l00395"></a>00395 
<a name="l00396"></a><a class="code" href="classgpgpu__sim.html#aad04f5dd3114b1020f9d59bb5722c41e">00396</a>    <span class="keyword">const</span> <a class="code" href="classgpgpu__sim__config.html">gpgpu_sim_config</a> &amp;<a class="code" href="classgpgpu__sim.html#aad04f5dd3114b1020f9d59bb5722c41e">get_config</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__sim.html#aa494c7776eb4ceb95e0e31c7763ccb8a">m_config</a>; }
<a name="l00397"></a>00397    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#af35e1655e40ccd8080cec9d7fb4fee6f">gpu_print_stat</a>();
<a name="l00398"></a>00398    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#ad9c12944269b34b1365e5feda0eb8a25">dump_pipeline</a>( <span class="keywordtype">int</span> mask, <span class="keywordtype">int</span> s, <span class="keywordtype">int</span> m ) <span class="keyword">const</span>;
<a name="l00399"></a>00399 
<a name="l00400"></a>00400    <span class="comment">//The next three functions added to be used by the functional simulation function</span>
<a name="l00401"></a>00401    
<a name="l00403"></a>00403 
<a name="l00406"></a>00406    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structshader__core__config.html">shader_core_config</a> * <a class="code" href="classgpgpu__sim.html#a40a558768ff4d88bb61dd5ee2f6ab4b9" title="Get shader core configuration.">getShaderCoreConfig</a>();
<a name="l00407"></a>00407    
<a name="l00408"></a>00408    
<a name="l00410"></a>00410 
<a name="l00413"></a>00413    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structmemory__config.html">memory_config</a> * <a class="code" href="classgpgpu__sim.html#ad6cedaa2adb4146b4329333f359bbb74" title="Get shader core Memory Configuration.">getMemoryConfig</a>();
<a name="l00414"></a>00414    
<a name="l00415"></a>00415    
<a name="l00417"></a>00417 
<a name="l00420"></a>00420     <a class="code" href="classsimt__core__cluster.html">simt_core_cluster</a> * <a class="code" href="classgpgpu__sim.html#aee9b9353ede4ebc2bdbc5d50b7715d93" title="Get shader core SIMT cluster.">getSIMTCluster</a>();
<a name="l00421"></a>00421 
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 <span class="keyword">private</span>:
<a name="l00424"></a>00424    <span class="comment">// clocks</span>
<a name="l00425"></a>00425    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a0f0aebbce9c75f3e7e981704ef573e49">reinit_clock_domains</a>(<span class="keywordtype">void</span>);
<a name="l00426"></a>00426    <span class="keywordtype">int</span>  <a class="code" href="classgpgpu__sim.html#a7db43fa862ccd92a08e80f471d3b50f0">next_clock_domain</a>(<span class="keywordtype">void</span>);
<a name="l00427"></a>00427    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a1c6285c5cb0f883d88f89daeb9617c87">issue_block2core</a>();
<a name="l00428"></a>00428    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a36f71979fb8ed9bb316048fa0c206f1f">print_dram_stats</a>(FILE *fout) <span class="keyword">const</span>;
<a name="l00429"></a>00429    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a0497a5e57600668cc187aeed3d6d08a9">shader_print_runtime_stat</a>( FILE *fout );
<a name="l00430"></a>00430    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a5dbd4a0cd5c6bdb4d5995c5c0ecea592">shader_print_l1_miss_stat</a>( FILE *fout ) <span class="keyword">const</span>;
<a name="l00431"></a>00431    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a103e607feb049cf1c598910f56b4e858">shader_print_cache_stats</a>( FILE *fout ) <span class="keyword">const</span>;
<a name="l00432"></a>00432    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a0e7a7bb137fc02ff10f351b9238c7ea2">shader_print_scheduler_stat</a>( FILE* fout, <span class="keywordtype">bool</span> print_dynamic_info ) <span class="keyword">const</span>;
<a name="l00433"></a>00433    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a2e740129b33965bbde86c3c6eb0996bb">visualizer_printstat</a>();
<a name="l00434"></a>00434    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a42e101c26352d8d2a910125ce9627a44">print_shader_cycle_distro</a>( FILE *fout ) <span class="keyword">const</span>;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a425a7739a0af3a7a8264a813ee35e355" title="interactive debugger">gpgpu_debug</a>();
<a name="l00437"></a>00437 
<a name="l00439"></a>00439 
<a name="l00440"></a><a class="code" href="classgpgpu__sim.html#ae879377df64789d8591b6786afe6421c">00440</a>    <span class="keyword">class </span><a class="code" href="classsimt__core__cluster.html">simt_core_cluster</a> **<a class="code" href="classgpgpu__sim.html#ae879377df64789d8591b6786afe6421c">m_cluster</a>;
<a name="l00441"></a><a class="code" href="classgpgpu__sim.html#a626905ae726a238cc7d676d14dc1a1c7">00441</a>    <span class="keyword">class </span><a class="code" href="classmemory__partition__unit.html">memory_partition_unit</a> **<a class="code" href="classgpgpu__sim.html#a626905ae726a238cc7d676d14dc1a1c7">m_memory_partition_unit</a>;
<a name="l00442"></a><a class="code" href="classgpgpu__sim.html#a7ce6947d9332d71480b33f03a7ca9e4d">00442</a>    <span class="keyword">class </span><a class="code" href="classmemory__sub__partition.html">memory_sub_partition</a> **<a class="code" href="classgpgpu__sim.html#a7ce6947d9332d71480b33f03a7ca9e4d">m_memory_sub_partition</a>;
<a name="l00443"></a>00443 
<a name="l00444"></a><a class="code" href="classgpgpu__sim.html#af83af52b0758b5eb76d17bcc95de5e60">00444</a>    std::vector&lt;kernel_info_t*&gt; <a class="code" href="classgpgpu__sim.html#af83af52b0758b5eb76d17bcc95de5e60">m_running_kernels</a>;
<a name="l00445"></a><a class="code" href="classgpgpu__sim.html#a3005d1a5650d7e1c77e5972869bba265">00445</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim.html#a3005d1a5650d7e1c77e5972869bba265">m_last_issued_kernel</a>;
<a name="l00446"></a>00446 
<a name="l00447"></a><a class="code" href="classgpgpu__sim.html#a28b5fa6d972207eb18089cfe4b2e6d21">00447</a>    std::list&lt;unsigned&gt; <a class="code" href="classgpgpu__sim.html#a28b5fa6d972207eb18089cfe4b2e6d21">m_finished_kernel</a>;
<a name="l00448"></a><a class="code" href="classgpgpu__sim.html#a887770f78c3bf47e43b79479b52ab72a">00448</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim.html#a887770f78c3bf47e43b79479b52ab72a">m_total_cta_launched</a>;
<a name="l00449"></a><a class="code" href="classgpgpu__sim.html#a231f61388c6ff2f6ab0d8f9bf7856e59">00449</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim.html#a231f61388c6ff2f6ab0d8f9bf7856e59">m_last_cluster_issue</a>;
<a name="l00450"></a><a class="code" href="classgpgpu__sim.html#acfba44b3a29f1f18932fddc331519417">00450</a>    <span class="keywordtype">float</span> * <a class="code" href="classgpgpu__sim.html#acfba44b3a29f1f18932fddc331519417">average_pipeline_duty_cycle</a>;
<a name="l00451"></a><a class="code" href="classgpgpu__sim.html#af033ac78e78f22fb04dab0f770a917c1">00451</a>    <span class="keywordtype">float</span> * <a class="code" href="classgpgpu__sim.html#af033ac78e78f22fb04dab0f770a917c1">active_sms</a>;
<a name="l00452"></a>00452    <span class="comment">// time of next rising edge </span>
<a name="l00453"></a><a class="code" href="classgpgpu__sim.html#a5840f3f3c1a11c62db83377590e010d3">00453</a>    <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim.html#a5840f3f3c1a11c62db83377590e010d3">core_time</a>;
<a name="l00454"></a><a class="code" href="classgpgpu__sim.html#a5c89a521309bc2067b0bffec44202b80">00454</a>    <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim.html#a5c89a521309bc2067b0bffec44202b80">icnt_time</a>;
<a name="l00455"></a><a class="code" href="classgpgpu__sim.html#aab8bb1075d2b3b3efe1276344481779c">00455</a>    <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim.html#aab8bb1075d2b3b3efe1276344481779c">dram_time</a>;
<a name="l00456"></a><a class="code" href="classgpgpu__sim.html#ae395e9b9c1c97b104a317bb823716b7a">00456</a>    <span class="keywordtype">double</span> <a class="code" href="classgpgpu__sim.html#ae395e9b9c1c97b104a317bb823716b7a">l2_time</a>;
<a name="l00457"></a>00457 
<a name="l00458"></a>00458    <span class="comment">// debug</span>
<a name="l00459"></a><a class="code" href="classgpgpu__sim.html#a3615f1bdd864c5c1bdd81e7bd96dff44">00459</a>    <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__sim.html#a3615f1bdd864c5c1bdd81e7bd96dff44">gpu_deadlock</a>;
<a name="l00460"></a>00460 
<a name="l00462"></a><a class="code" href="classgpgpu__sim.html#aa494c7776eb4ceb95e0e31c7763ccb8a">00462</a>    <span class="keyword">const</span> <a class="code" href="classgpgpu__sim__config.html">gpgpu_sim_config</a> &amp;<a class="code" href="classgpgpu__sim.html#aa494c7776eb4ceb95e0e31c7763ccb8a">m_config</a>;
<a name="l00463"></a>00463   
<a name="l00464"></a><a class="code" href="classgpgpu__sim.html#ab479360620e99e89aea8e5a570cea350">00464</a>    <span class="keyword">const</span> <span class="keyword">struct </span>cudaDeviceProp     *<a class="code" href="classgpgpu__sim.html#ab479360620e99e89aea8e5a570cea350">m_cuda_properties</a>;
<a name="l00465"></a><a class="code" href="classgpgpu__sim.html#a88a4e19b94bf5c3cfb7b05504527db9f">00465</a>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structshader__core__config.html">shader_core_config</a> *<a class="code" href="classgpgpu__sim.html#a88a4e19b94bf5c3cfb7b05504527db9f">m_shader_config</a>;
<a name="l00466"></a><a class="code" href="classgpgpu__sim.html#a22b61a4a6a437f12bb54aff405bc37b1">00466</a>    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structmemory__config.html">memory_config</a>      *<a class="code" href="classgpgpu__sim.html#a22b61a4a6a437f12bb54aff405bc37b1">m_memory_config</a>;
<a name="l00467"></a>00467 
<a name="l00468"></a>00468    <span class="comment">// stats</span>
<a name="l00469"></a><a class="code" href="classgpgpu__sim.html#abd087c9f98c28de4892944c61679b7c9">00469</a>    <span class="keyword">class </span><a class="code" href="classshader__core__stats.html">shader_core_stats</a>  *<a class="code" href="classgpgpu__sim.html#abd087c9f98c28de4892944c61679b7c9">m_shader_stats</a>;
<a name="l00470"></a><a class="code" href="classgpgpu__sim.html#ac501fe6c98ebf35d9bfa87c13cecc81a">00470</a>    <span class="keyword">class </span><a class="code" href="classmemory__stats__t.html">memory_stats_t</a>     *<a class="code" href="classgpgpu__sim.html#ac501fe6c98ebf35d9bfa87c13cecc81a">m_memory_stats</a>;
<a name="l00471"></a><a class="code" href="classgpgpu__sim.html#a203196ddbfe112cd4fdcae13bfdfa1f7">00471</a>    <span class="keyword">class </span><a class="code" href="classpower__stat__t.html">power_stat_t</a> *<a class="code" href="classgpgpu__sim.html#a203196ddbfe112cd4fdcae13bfdfa1f7">m_power_stats</a>;
<a name="l00472"></a><a class="code" href="classgpgpu__sim.html#a4eb5326d580ef502b72072c094d4a5a1">00472</a>    <span class="keyword">class </span><a class="code" href="classgpgpu__sim__wrapper.html">gpgpu_sim_wrapper</a> *<a class="code" href="classgpgpu__sim.html#a4eb5326d580ef502b72072c094d4a5a1">m_gpgpusim_wrapper</a>;
<a name="l00473"></a><a class="code" href="classgpgpu__sim.html#ac06fdff711a756c289bd816563f9122e">00473</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="classgpgpu__sim.html#ac06fdff711a756c289bd816563f9122e">gpu_tot_issued_cta</a>;
<a name="l00474"></a><a class="code" href="classgpgpu__sim.html#acc6317e515bc6c45324ae7d44a9a5b21">00474</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="classgpgpu__sim.html#acc6317e515bc6c45324ae7d44a9a5b21">last_gpu_sim_insn</a>;
<a name="l00475"></a>00475 
<a name="l00476"></a><a class="code" href="classgpgpu__sim.html#a5725e815592034a9fc95546c22e30001">00476</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="classgpgpu__sim.html#a5725e815592034a9fc95546c22e30001">last_liveness_message_time</a>; 
<a name="l00477"></a>00477 
<a name="l00478"></a><a class="code" href="classgpgpu__sim.html#ae4bd9148a24d408d0fae68047fd745a1">00478</a>    std::map&lt;std::string, FuncCache&gt; <a class="code" href="classgpgpu__sim.html#ae4bd9148a24d408d0fae68047fd745a1">m_special_cache_config</a>;
<a name="l00479"></a>00479 
<a name="l00480"></a><a class="code" href="classgpgpu__sim.html#afc1b71662338443ba13284c02cdfa01c">00480</a>    std::vector&lt;std::string&gt; <a class="code" href="classgpgpu__sim.html#afc1b71662338443ba13284c02cdfa01c">m_executed_kernel_names</a>; <span class="comment">//&lt; names of kernel for stat printout </span>
<a name="l00481"></a><a class="code" href="classgpgpu__sim.html#a9a867fa7fa9cf65f514115251f195a80">00481</a>    std::vector&lt;unsigned&gt; <a class="code" href="classgpgpu__sim.html#a9a867fa7fa9cf65f514115251f195a80">m_executed_kernel_uids</a>; <span class="comment">//&lt; uids of kernel launches for stat printout</span>
<a name="l00482"></a>00482    std::string <a class="code" href="classgpgpu__sim.html#ac7fe9e64e85de2c5ac508c6c0ab8c8f6" title="printing the names and uids of a set of executed kernels (usually there is only one)...">executed_kernel_info_string</a>(); <span class="comment">//&lt; format the kernel information into a string for stat printout</span>
<a name="l00483"></a>00483    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a8a2802fc32d1056c964bf7fea2a4ca99">clear_executed_kernel_info</a>(); <span class="comment">//&lt; clear the kernel information after stat printout</span>
<a name="l00484"></a>00484 
<a name="l00485"></a>00485 <span class="keyword">public</span>:
<a name="l00486"></a><a class="code" href="classgpgpu__sim.html#aae128ab46a57f0e5f322761135523e92">00486</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="classgpgpu__sim.html#aae128ab46a57f0e5f322761135523e92">gpu_sim_insn</a>;
<a name="l00487"></a><a class="code" href="classgpgpu__sim.html#a0006e6dbc2793ecdb29ec6fe3149949a">00487</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="classgpgpu__sim.html#a0006e6dbc2793ecdb29ec6fe3149949a">gpu_tot_sim_insn</a>;
<a name="l00488"></a><a class="code" href="classgpgpu__sim.html#a4f54fede239c2915bc08accc9478faee">00488</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="classgpgpu__sim.html#a4f54fede239c2915bc08accc9478faee">gpu_sim_insn_last_update</a>;
<a name="l00489"></a><a class="code" href="classgpgpu__sim.html#a507872e9eb52f87ed7ef5ab742925f08">00489</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__sim.html#a507872e9eb52f87ed7ef5ab742925f08">gpu_sim_insn_last_update_sid</a>;
<a name="l00490"></a>00490 
<a name="l00491"></a>00491 
<a name="l00492"></a>00492 
<a name="l00493"></a>00493    <a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71d">FuncCache</a> <a class="code" href="classgpgpu__sim.html#ac4194d04ae40b5ae1058a6b9b539cf31">get_cache_config</a>(std::string kernel_name);
<a name="l00494"></a>00494    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a90ac79c6c0f262b1bf89457c654de7b1">set_cache_config</a>(std::string kernel_name, <a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71d">FuncCache</a> cacheConfig );
<a name="l00495"></a>00495    <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__sim.html#a7b4ffa47d88749172138c4fc9241ab6c">has_special_cache_config</a>(std::string kernel_name);
<a name="l00496"></a>00496    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a4448bd6d5b7480b3c10c35f1e3fe0314">change_cache_config</a>(<a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71d">FuncCache</a> <a class="code" href="classcache__config.html">cache_config</a>);
<a name="l00497"></a>00497    <span class="keywordtype">void</span> <a class="code" href="classgpgpu__sim.html#a90ac79c6c0f262b1bf89457c654de7b1">set_cache_config</a>(std::string kernel_name);
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 };
<a name="l00500"></a>00500 
<a name="l00501"></a>00501 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 13 May 2014 for GPGPU-Sim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
