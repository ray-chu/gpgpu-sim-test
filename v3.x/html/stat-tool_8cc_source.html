<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPGPU-Sim: v3.x/src/gpgpu-sim/stat-tool.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_c934b74ccb33d6b9bfd1e576787940d8.html">v3.x</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_da58ad9beee6988f697f1a76e412a52a.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_d956d62670f5e9a38a62eba10b09b5c2.html">gpgpu-sim</a>
  </div>
</div>
<div class="contents">
<h1>stat-tool.cc</h1><a href="stat-tool_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (c) 2009-2011, Tor M. Aamodt, Wilson W.L. Fung, Ali Bakhoda</span>
<a name="l00002"></a>00002 <span class="comment">// The University of British Columbia</span>
<a name="l00003"></a>00003 <span class="comment">// All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment">// modification, are permitted provided that the following conditions are met:</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Redistributions of source code must retain the above copyright notice, this</span>
<a name="l00009"></a>00009 <span class="comment">// list of conditions and the following disclaimer.</span>
<a name="l00010"></a>00010 <span class="comment">// Redistributions in binary form must reproduce the above copyright notice, this</span>
<a name="l00011"></a>00011 <span class="comment">// list of conditions and the following disclaimer in the documentation and/or</span>
<a name="l00012"></a>00012 <span class="comment">// other materials provided with the distribution.</span>
<a name="l00013"></a>00013 <span class="comment">// Neither the name of The University of British Columbia nor the names of its</span>
<a name="l00014"></a>00014 <span class="comment">// contributors may be used to endorse or promote products derived from this</span>
<a name="l00015"></a>00015 <span class="comment">// software without specific prior written permission.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00017"></a>00017 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span>
<a name="l00018"></a>00018 <span class="comment">// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00019"></a>00019 <span class="comment">// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00020"></a>00020 <span class="comment">// DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span>
<a name="l00021"></a>00021 <span class="comment">// FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<a name="l00022"></a>00022 <span class="comment">// DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
<a name="l00023"></a>00023 <span class="comment">// SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<a name="l00024"></a>00024 <span class="comment">// CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
<a name="l00025"></a>00025 <span class="comment">// OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="stat-tool_8h.html">stat-tool.h</a>&quot;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;zlib.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00036"></a>00036 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00037"></a>00037 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00040"></a>00040 
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">00043</a> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a> = 0;
<a name="l00044"></a><a class="code" href="stat-tool_8cc.html#aaf3f02289137a54ae0205695ed37ad05">00044</a> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="stat-tool_8cc.html#aaf3f02289137a54ae0205695ed37ad05">next_snap_shot_cycle</a> = 0;
<a name="l00045"></a><a class="code" href="stat-tool_8cc.html#abf1f699a8118f8b30d3a373e48a06d74">00045</a> <span class="keyword">static</span> std::list&lt;snap_shot_trigger*&gt; <a class="code" href="stat-tool_8cc.html#abf1f699a8118f8b30d3a373e48a06d74">list_ss_trigger</a>;
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">00047</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a> (<a class="code" href="classsnap__shot__trigger.html">snap_shot_trigger</a>* ss_trigger)
<a name="l00048"></a>00048 {
<a name="l00049"></a>00049    <span class="comment">// quick optimization assuming that all snap shot intervals are perfect multiples of each other</span>
<a name="l00050"></a>00050    <span class="keywordflow">if</span> (<a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a> == 0 || <a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a> &gt; ss_trigger-&gt;<a class="code" href="classsnap__shot__trigger.html#a694fb0f2f92af2b2f3b8bd8d7a7cf939">get_interval</a>()) {
<a name="l00051"></a>00051       <a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a> = ss_trigger-&gt;<a class="code" href="classsnap__shot__trigger.html#a694fb0f2f92af2b2f3b8bd8d7a7cf939">get_interval</a>();
<a name="l00052"></a>00052       <a class="code" href="stat-tool_8cc.html#aaf3f02289137a54ae0205695ed37ad05">next_snap_shot_cycle</a> = <a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a>; <span class="comment">// assume that snap shots haven&apos;t started yet</span>
<a name="l00053"></a>00053    }
<a name="l00054"></a>00054    <a class="code" href="stat-tool_8cc.html#abf1f699a8118f8b30d3a373e48a06d74">list_ss_trigger</a>.push_back(ss_trigger);
<a name="l00055"></a>00055 }
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="stat-tool_8cc.html#af8a9e65bfe915b176669c4963760b268">00057</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#af8a9e65bfe915b176669c4963760b268">remove_snap_shot_trigger</a> (<a class="code" href="classsnap__shot__trigger.html">snap_shot_trigger</a>* ss_trigger)
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059    <a class="code" href="stat-tool_8cc.html#abf1f699a8118f8b30d3a373e48a06d74">list_ss_trigger</a>.remove(ss_trigger);
<a name="l00060"></a>00060 }
<a name="l00061"></a>00061 
<a name="l00062"></a><a class="code" href="stat-tool_8h.html#aa118e7c26305c2e5f76cf09bcd5548db">00062</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#aa118e7c26305c2e5f76cf09bcd5548db">try_snap_shot</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle)
<a name="l00063"></a>00063 {
<a name="l00064"></a>00064    <span class="keywordflow">if</span> (<a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a> == 0) <span class="keywordflow">return</span>;
<a name="l00065"></a>00065    <span class="keywordflow">if</span> (current_cycle != <a class="code" href="stat-tool_8cc.html#aaf3f02289137a54ae0205695ed37ad05">next_snap_shot_cycle</a>) <span class="keywordflow">return</span>;
<a name="l00066"></a>00066    
<a name="l00067"></a>00067    std::list&lt;snap_shot_trigger*&gt;::iterator ss_trigger_iter = <a class="code" href="stat-tool_8cc.html#abf1f699a8118f8b30d3a373e48a06d74">list_ss_trigger</a>.begin();
<a name="l00068"></a>00068    <span class="keywordflow">for</span>(; ss_trigger_iter != <a class="code" href="stat-tool_8cc.html#abf1f699a8118f8b30d3a373e48a06d74">list_ss_trigger</a>.end(); ++ss_trigger_iter) {
<a name="l00069"></a>00069       (*ss_trigger_iter)-&gt;snap_shot(current_cycle); <span class="comment">// WF: should be try_snap_shot</span>
<a name="l00070"></a>00070    }
<a name="l00071"></a>00071    <a class="code" href="stat-tool_8cc.html#aaf3f02289137a54ae0205695ed37ad05">next_snap_shot_cycle</a> = current_cycle + <a class="code" href="stat-tool_8cc.html#a6dcb69f94948f5382c8a8a692cb57a0f">min_snap_shot_interval</a>; <span class="comment">// WF: stateful testing, maybe bad</span>
<a name="l00072"></a>00072 }
<a name="l00073"></a>00073 
<a name="l00075"></a>00075  
<a name="l00076"></a><a class="code" href="stat-tool_8cc.html#ad509060fc2150d384a513421ccb93495">00076</a> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="stat-tool_8cc.html#ad509060fc2150d384a513421ccb93495">spill_interval</a> = 0;
<a name="l00077"></a><a class="code" href="stat-tool_8cc.html#a064d2ce132441ad32187fbb86addf469">00077</a> <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  <a class="code" href="stat-tool_8cc.html#a064d2ce132441ad32187fbb86addf469">next_spill_cycle</a> = 0;
<a name="l00078"></a><a class="code" href="stat-tool_8cc.html#a07b3e5ea072d4219111dd4c87d435dae">00078</a> <span class="keyword">static</span> std::list&lt;spill_log_interface*&gt; <a class="code" href="stat-tool_8cc.html#a07b3e5ea072d4219111dd4c87d435dae">list_spill_log</a>;
<a name="l00079"></a>00079 
<a name="l00080"></a><a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">00080</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a> (<a class="code" href="classspill__log__interface.html">spill_log_interface</a>* spill_log)
<a name="l00081"></a>00081 {
<a name="l00082"></a>00082    <a class="code" href="stat-tool_8cc.html#a07b3e5ea072d4219111dd4c87d435dae">list_spill_log</a>.push_back(spill_log);
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="stat-tool_8cc.html#a4edbee533a948ff7fe265cdea3d08f19">00085</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a4edbee533a948ff7fe265cdea3d08f19">remove_spill_log</a> (<a class="code" href="classspill__log__interface.html">spill_log_interface</a>* spill_log)
<a name="l00086"></a>00086 {
<a name="l00087"></a>00087    <a class="code" href="stat-tool_8cc.html#a07b3e5ea072d4219111dd4c87d435dae">list_spill_log</a>.remove(spill_log);
<a name="l00088"></a>00088 }
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="stat-tool_8h.html#ad93f0aeec689859e3632456ce3db8af7">00090</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#ad93f0aeec689859e3632456ce3db8af7">set_spill_interval</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  interval)
<a name="l00091"></a>00091 {
<a name="l00092"></a>00092    <a class="code" href="stat-tool_8cc.html#ad509060fc2150d384a513421ccb93495">spill_interval</a> = interval;
<a name="l00093"></a>00093    <a class="code" href="stat-tool_8cc.html#a064d2ce132441ad32187fbb86addf469">next_spill_cycle</a> = <a class="code" href="stat-tool_8cc.html#ad509060fc2150d384a513421ccb93495">spill_interval</a>;
<a name="l00094"></a>00094 }
<a name="l00095"></a>00095 
<a name="l00096"></a><a class="code" href="stat-tool_8h.html#a7e4a90300111d52c09d8f9c261bfce87">00096</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a7e4a90300111d52c09d8f9c261bfce87">spill_log_to_file</a> (FILE *fout, <span class="keywordtype">int</span> <span class="keyword">final</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle)
<a name="l00097"></a>00097 {
<a name="l00098"></a>00098    <span class="keywordflow">if</span> (!<span class="keyword">final</span> &amp;&amp; <a class="code" href="stat-tool_8cc.html#ad509060fc2150d384a513421ccb93495">spill_interval</a> == 0) <span class="keywordflow">return</span>;
<a name="l00099"></a>00099    <span class="keywordflow">if</span> (!<span class="keyword">final</span> &amp;&amp; current_cycle &lt;= <a class="code" href="stat-tool_8cc.html#a064d2ce132441ad32187fbb86addf469">next_spill_cycle</a>) <span class="keywordflow">return</span>;
<a name="l00100"></a>00100 
<a name="l00101"></a>00101    fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>); <span class="comment">// ensure that the spill occurs at a new line</span>
<a name="l00102"></a>00102    std::list&lt;spill_log_interface*&gt;::iterator i_spill_log = <a class="code" href="stat-tool_8cc.html#a07b3e5ea072d4219111dd4c87d435dae">list_spill_log</a>.begin();
<a name="l00103"></a>00103    <span class="keywordflow">for</span>(; i_spill_log != <a class="code" href="stat-tool_8cc.html#a07b3e5ea072d4219111dd4c87d435dae">list_spill_log</a>.end(); ++i_spill_log) {
<a name="l00104"></a>00104       (*i_spill_log)-&gt;spill(fout, <span class="keyword">final</span>); 
<a name="l00105"></a>00105    }
<a name="l00106"></a>00106    fflush(fout);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108    <a class="code" href="stat-tool_8cc.html#a064d2ce132441ad32187fbb86addf469">next_spill_cycle</a> = current_cycle + <a class="code" href="stat-tool_8cc.html#ad509060fc2150d384a513421ccb93495">spill_interval</a>; <span class="comment">// WF: stateful testing, maybe bad</span>
<a name="l00109"></a>00109 }
<a name="l00110"></a>00110 
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="keywordtype">unsigned</span> <a class="code" href="cuda-sim_8cc.html#a872e07ff59ffd42b6037aa8c359057cc">translate_pc_to_ptxlineno</a>(<span class="keywordtype">unsigned</span> pc);
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="stat-tool_8cc.html#a6f53ff85b781574164c9ec0215eff03c">00115</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#a6f53ff85b781574164c9ec0215eff03c">n_thread_CFloggers</a> = 0;
<a name="l00116"></a><a class="code" href="stat-tool_8cc.html#ae0830d1022135be0a6df94c3a5976591">00116</a> <span class="keyword">static</span> <a class="code" href="classthread__CFlocality.html">thread_CFlocality</a>** <a class="code" href="stat-tool_8cc.html#ae0830d1022135be0a6df94c3a5976591">thread_CFlogger</a> = NULL;
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="stat-tool_8h.html#aa598c27d14805a993e4d926c47617ef9">00118</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#aa598c27d14805a993e4d926c47617ef9">create_thread_CFlogger</a>( <span class="keywordtype">int</span> n_loggers, <span class="keywordtype">int</span> n_threads, <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> start_pc, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  logging_interval) 
<a name="l00119"></a>00119 {
<a name="l00120"></a>00120    <a class="code" href="stat-tool_8cc.html#a33d228b654df8df6a2839cd075926fa8">destroy_thread_CFlogger</a>();
<a name="l00121"></a>00121    
<a name="l00122"></a>00122    n_thread_CFloggers = n_loggers;
<a name="l00123"></a>00123    thread_CFlogger = <span class="keyword">new</span> <a class="code" href="classthread__CFlocality.html">thread_CFlocality</a>*[n_loggers];
<a name="l00124"></a>00124 
<a name="l00125"></a>00125    std::string name_tpl(<span class="stringliteral">&quot;CFLog&quot;</span>);
<a name="l00126"></a>00126    <span class="keywordtype">char</span> buffer[32];
<a name="l00127"></a>00127    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_thread_CFloggers; i++) {
<a name="l00128"></a>00128       snprintf(buffer, 32, <span class="stringliteral">&quot;%02d&quot;</span>, i);
<a name="l00129"></a>00129       thread_CFlogger[i] = <span class="keyword">new</span> <a class="code" href="classthread__CFlocality.html">thread_CFlocality</a>( name_tpl + buffer, logging_interval, n_threads, start_pc);
<a name="l00130"></a>00130       <span class="keywordflow">if</span> (logging_interval != 0) {
<a name="l00131"></a>00131          <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a>(thread_CFlogger[i]);
<a name="l00132"></a>00132          <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a>(thread_CFlogger[i]);
<a name="l00133"></a>00133       }
<a name="l00134"></a>00134    }
<a name="l00135"></a>00135 }
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="stat-tool_8h.html#a33d228b654df8df6a2839cd075926fa8">00137</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a33d228b654df8df6a2839cd075926fa8">destroy_thread_CFlogger</a>( ) 
<a name="l00138"></a>00138 {
<a name="l00139"></a>00139    <span class="keywordflow">if</span> (thread_CFlogger != NULL) {
<a name="l00140"></a>00140       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_thread_CFloggers; i++) {
<a name="l00141"></a>00141          <a class="code" href="stat-tool_8cc.html#af8a9e65bfe915b176669c4963760b268">remove_snap_shot_trigger</a>(thread_CFlogger[i]);
<a name="l00142"></a>00142          <a class="code" href="stat-tool_8cc.html#a4edbee533a948ff7fe265cdea3d08f19">remove_spill_log</a>(thread_CFlogger[i]);
<a name="l00143"></a>00143          <span class="keyword">delete</span> thread_CFlogger[i];
<a name="l00144"></a>00144       }
<a name="l00145"></a>00145       <span class="keyword">delete</span> [] thread_CFlogger;
<a name="l00146"></a>00146       thread_CFlogger = NULL;
<a name="l00147"></a>00147    }
<a name="l00148"></a>00148 }
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="stat-tool_8h.html#ad9e32471d0b9d1c203a111bf42672341">00150</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#ad9e32471d0b9d1c203a111bf42672341">cflog_update_thread_pc</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">int</span> thread_id, <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> pc ) 
<a name="l00151"></a>00151 {
<a name="l00152"></a>00152    <span class="keywordflow">if</span> (thread_CFlogger == NULL) <span class="keywordflow">return</span>;  <span class="comment">// this means no visualizer output </span>
<a name="l00153"></a>00153    <span class="keywordflow">if</span> (thread_id &lt; 0) <span class="keywordflow">return</span>;
<a name="l00154"></a>00154    thread_CFlogger[logger_id]-&gt;<a class="code" href="classthread__CFlocality.html#abd54800c3f247f584ccfe53405938920">update_thread_pc</a>(thread_id, pc);
<a name="l00155"></a>00155 }
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 <span class="comment">// deprecated </span>
<a name="l00158"></a><a class="code" href="stat-tool_8h.html#a132c872cef6e34f620fc73be7a1a5f17">00158</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a132c872cef6e34f620fc73be7a1a5f17">cflog_snapshot</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  cycle ) 
<a name="l00159"></a>00159 {
<a name="l00160"></a>00160    thread_CFlogger[logger_id]-&gt;<a class="code" href="classthread__CFlocality.html#adf70e96e3f6ae3ecba20e8334c8fd4dc">snap_shot</a>(cycle);
<a name="l00161"></a>00161 }
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="stat-tool_8h.html#a696e2e9b09baf7c45dcfb1f0c43cc51b">00163</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a696e2e9b09baf7c45dcfb1f0c43cc51b">cflog_print</a>(FILE *fout) 
<a name="l00164"></a>00164 {
<a name="l00165"></a>00165    <span class="keywordflow">if</span> (thread_CFlogger == NULL) <span class="keywordflow">return</span>;  <span class="comment">// this means no visualizer output </span>
<a name="l00166"></a>00166    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_thread_CFloggers; i++) {
<a name="l00167"></a>00167       thread_CFlogger[i]-&gt;<a class="code" href="classthread__CFlocality.html#afbdd18ee98eced75c362688a0ede6990">print_histo</a>(fout);
<a name="l00168"></a>00168    }
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00171"></a><a class="code" href="stat-tool_8h.html#a2a559c2022d762ff8d4f2e0bdc4e3c66">00171</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a2a559c2022d762ff8d4f2e0bdc4e3c66">cflog_visualizer_print</a>(FILE *fout) 
<a name="l00172"></a>00172 {
<a name="l00173"></a>00173    <span class="keywordflow">if</span> (thread_CFlogger == NULL) <span class="keywordflow">return</span>;  <span class="comment">// this means no visualizer output </span>
<a name="l00174"></a>00174    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_thread_CFloggers; i++) {
<a name="l00175"></a>00175       thread_CFlogger[i]-&gt;<a class="code" href="classthread__CFlocality.html#a492102b8906ad8e3d8aa3a697e77738f">print_visualizer</a>(fout);
<a name="l00176"></a>00176    }
<a name="l00177"></a>00177 }
<a name="l00178"></a>00178 
<a name="l00179"></a><a class="code" href="stat-tool_8h.html#a032186c3a54a93fed79c6900f043cba5">00179</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a032186c3a54a93fed79c6900f043cba5">cflog_visualizer_gzprint</a>(gzFile fout) 
<a name="l00180"></a>00180 {
<a name="l00181"></a>00181    <span class="keywordflow">if</span> (thread_CFlogger == NULL) <span class="keywordflow">return</span>;  <span class="comment">// this means no visualizer output </span>
<a name="l00182"></a>00182    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_thread_CFloggers; i++) {
<a name="l00183"></a>00183       thread_CFlogger[i]-&gt;<a class="code" href="classthread__CFlocality.html#a492102b8906ad8e3d8aa3a697e77738f">print_visualizer</a>(fout);
<a name="l00184"></a>00184    }
<a name="l00185"></a>00185 }
<a name="l00186"></a>00186 
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="keywordtype">int</span> <a class="code" href="classinsn__warp__occ__logger.html#af894a57062b2968c3497be80c480ed4e">insn_warp_occ_logger::s_ids</a> = 0;
<a name="l00190"></a>00190 
<a name="l00191"></a><a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">00191</a> <span class="keyword">static</span> std::vector&lt;insn_warp_occ_logger&gt; <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>;
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="stat-tool_8h.html#a61a8727f95d9c6cf0d9674d56f160309">00193</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a61a8727f95d9c6cf0d9674d56f160309">insn_warp_occ_create</a>( <span class="keywordtype">int</span> n_loggers, <span class="keywordtype">int</span> simd_width )
<a name="l00194"></a>00194 {
<a name="l00195"></a>00195    <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>.clear();
<a name="l00196"></a>00196    <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>.assign(n_loggers, <a class="code" href="classinsn__warp__occ__logger.html">insn_warp_occ_logger</a>(simd_width));
<a name="l00197"></a>00197    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>.size(); i++) {
<a name="l00198"></a>00198       <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>[i].set_id(i);
<a name="l00199"></a>00199    }
<a name="l00200"></a>00200 }
<a name="l00201"></a>00201 
<a name="l00202"></a><a class="code" href="stat-tool_8h.html#a28d07d3671f896072044de7253d4590f">00202</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a28d07d3671f896072044de7253d4590f">insn_warp_occ_log</a>( <span class="keywordtype">int</span> logger_id, <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> pc, <span class="keywordtype">int</span> warp_occ)
<a name="l00203"></a>00203 {
<a name="l00204"></a>00204    <span class="keywordflow">if</span> (warp_occ &lt;= 0) <span class="keywordflow">return</span>;
<a name="l00205"></a>00205    <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>[logger_id].log(pc, warp_occ);
<a name="l00206"></a>00206 }
<a name="l00207"></a>00207 
<a name="l00208"></a><a class="code" href="stat-tool_8h.html#a9be12a90a7ca16ebc0bd7438d1e8bf4e">00208</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a9be12a90a7ca16ebc0bd7438d1e8bf4e">insn_warp_occ_print</a>( FILE *fout )
<a name="l00209"></a>00209 {
<a name="l00210"></a>00210    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>.size(); i++) {
<a name="l00211"></a>00211       <a class="code" href="stat-tool_8cc.html#aedd30d13756fe2b0e4306f53cbf1fdea">iwo_logger</a>[i].print(fout);
<a name="l00212"></a>00212    }
<a name="l00213"></a>00213 }
<a name="l00214"></a>00214 
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="keywordtype">int</span> <a class="code" href="classlinear__histogram__logger.html#a8a26cb271c8a32e12f467c8a953b57db">linear_histogram_logger::s_ids</a> = 0;
<a name="l00218"></a>00218 
<a name="l00220"></a>00220 <span class="comment">// per-shadercore active thread distribution (warp occ) logger</span>
<a name="l00222"></a>00222 <span class="comment"></span>
<a name="l00223"></a><a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">00223</a> <span class="keyword">static</span> std::vector&lt;linear_histogram_logger&gt; <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>;
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="stat-tool_8h.html#a9c9357c63093e6913b3fe668f4184831">00225</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a9c9357c63093e6913b3fe668f4184831">shader_warp_occ_create</a>( <span class="keywordtype">int</span> n_loggers, <span class="keywordtype">int</span> simd_width, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  logging_interval)
<a name="l00226"></a>00226 {
<a name="l00227"></a>00227    <span class="comment">// simd_width + 1 to include the case with full warp</span>
<a name="l00228"></a>00228    <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>.assign(n_loggers, 
<a name="l00229"></a>00229                             <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a>(simd_width + 1, logging_interval, <span class="stringliteral">&quot;ShdrWarpOcc&quot;</span>));
<a name="l00230"></a>00230    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>.size(); i++) {
<a name="l00231"></a>00231       <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>[i].set_id(i);
<a name="l00232"></a>00232       <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a>(&amp;(<a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>[i]));
<a name="l00233"></a>00233       <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a>(&amp;(<a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>[i]));
<a name="l00234"></a>00234    }
<a name="l00235"></a>00235 }
<a name="l00236"></a>00236 
<a name="l00237"></a><a class="code" href="stat-tool_8h.html#a490ca1285346aa9f6d200f476278ce57">00237</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a490ca1285346aa9f6d200f476278ce57">shader_warp_occ_log</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">int</span> warp_occ)
<a name="l00238"></a>00238 {
<a name="l00239"></a>00239    <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>[logger_id].log(warp_occ);
<a name="l00240"></a>00240 }
<a name="l00241"></a>00241 
<a name="l00242"></a><a class="code" href="stat-tool_8h.html#a0b2fd961679bfc40d2f4a19dc26e6eab">00242</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a0b2fd961679bfc40d2f4a19dc26e6eab">shader_warp_occ_snapshot</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle)
<a name="l00243"></a>00243 {
<a name="l00244"></a>00244    <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>[logger_id].snap_shot(current_cycle);
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a><a class="code" href="stat-tool_8h.html#abfaec8cc0fff377cad35b0c397cd1a16">00247</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#abfaec8cc0fff377cad35b0c397cd1a16">shader_warp_occ_print</a>( FILE *fout )
<a name="l00248"></a>00248 {
<a name="l00249"></a>00249    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>.size(); i++) {
<a name="l00250"></a>00250       <a class="code" href="stat-tool_8cc.html#aa9f719a8aa97b752e84b5465227ca950">s_warp_occ_logger</a>[i].print(fout);
<a name="l00251"></a>00251    }
<a name="l00252"></a>00252 }
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00256"></a>00256 <span class="comment">// per-shadercore memory-access logger</span>
<a name="l00258"></a>00258 <span class="comment"></span>
<a name="l00259"></a><a class="code" href="stat-tool_8cc.html#ac496ee5a6858f46eae55e40f69822738">00259</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#ac496ee5a6858f46eae55e40f69822738">s_mem_acc_logger_n_dram</a> = 0;
<a name="l00260"></a><a class="code" href="stat-tool_8cc.html#a59e6d4418f153a02f9fad31e1b83dad1">00260</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#a59e6d4418f153a02f9fad31e1b83dad1">s_mem_acc_logger_n_bank</a> = 0;
<a name="l00261"></a><a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">00261</a> <span class="keyword">static</span> std::vector&lt;linear_histogram_logger&gt; <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>;
<a name="l00262"></a>00262 
<a name="l00263"></a><a class="code" href="stat-tool_8h.html#ae72e89b7eefaf234b6211453ce667e6a">00263</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#ae72e89b7eefaf234b6211453ce667e6a">shader_mem_acc_create</a>( <span class="keywordtype">int</span> n_loggers, <span class="keywordtype">int</span> n_dram, <span class="keywordtype">int</span> n_bank, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  logging_interval)
<a name="l00264"></a>00264 {
<a name="l00265"></a>00265    <span class="comment">// (n_bank + 1) to space data out; 2x to separate read and write</span>
<a name="l00266"></a>00266    <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>.assign(n_loggers, 
<a name="l00267"></a>00267                            <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a>(2 * n_dram * (n_bank + 1), logging_interval, <span class="stringliteral">&quot;ShdrMemAcc&quot;</span>));
<a name="l00268"></a>00268 
<a name="l00269"></a>00269    s_mem_acc_logger_n_dram = n_dram;
<a name="l00270"></a>00270    s_mem_acc_logger_n_bank = n_bank;
<a name="l00271"></a>00271    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>.size(); i++) {
<a name="l00272"></a>00272       <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>[i].set_id(i);
<a name="l00273"></a>00273       <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a>(&amp;(<a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>[i]));
<a name="l00274"></a>00274       <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a>(&amp;(<a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>[i]));
<a name="l00275"></a>00275    }
<a name="l00276"></a>00276 }
<a name="l00277"></a>00277 
<a name="l00278"></a><a class="code" href="stat-tool_8h.html#a1df3f81f813a4d48a2b029f35eafe94f">00278</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a1df3f81f813a4d48a2b029f35eafe94f">shader_mem_acc_log</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">int</span> dram_id, <span class="keywordtype">int</span> bank, <span class="keywordtype">char</span> rw)
<a name="l00279"></a>00279 {
<a name="l00280"></a>00280    <span class="keywordflow">if</span> (s_mem_acc_logger_n_dram == 0) <span class="keywordflow">return</span>;
<a name="l00281"></a>00281    <span class="keywordtype">int</span> write_offset = 0;
<a name="l00282"></a>00282    <span class="keywordflow">switch</span>(rw) {
<a name="l00283"></a>00283    <span class="keywordflow">case</span> <span class="charliteral">&apos;r&apos;</span>: write_offset = 0; <span class="keywordflow">break</span>;
<a name="l00284"></a>00284    <span class="keywordflow">case</span> <span class="charliteral">&apos;w&apos;</span>: write_offset = (s_mem_acc_logger_n_bank + 1) * s_mem_acc_logger_n_dram; <span class="keywordflow">break</span>;
<a name="l00285"></a>00285    <span class="keywordflow">default</span>: assert(0); <span class="keywordflow">break</span>;
<a name="l00286"></a>00286    }
<a name="l00287"></a>00287    <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>[logger_id].log(dram_id * s_mem_acc_logger_n_bank + bank + write_offset);
<a name="l00288"></a>00288 }
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="stat-tool_8h.html#a7150c7f1186f471d91d3f62b4792fa46">00290</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a7150c7f1186f471d91d3f62b4792fa46">shader_mem_acc_snapshot</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle)
<a name="l00291"></a>00291 {
<a name="l00292"></a>00292    <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>[logger_id].snap_shot(current_cycle);
<a name="l00293"></a>00293 }
<a name="l00294"></a>00294 
<a name="l00295"></a><a class="code" href="stat-tool_8h.html#a281d1e22047d585ce618e555de5d127c">00295</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a281d1e22047d585ce618e555de5d127c">shader_mem_acc_print</a>( FILE *fout )
<a name="l00296"></a>00296 {
<a name="l00297"></a>00297    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>.size(); i++) {
<a name="l00298"></a>00298       <a class="code" href="stat-tool_8cc.html#a14b045d60548882180ad9b96e8d113b6">s_mem_acc_logger</a>[i].print(fout);
<a name="l00299"></a>00299    }
<a name="l00300"></a>00300 }
<a name="l00301"></a>00301 
<a name="l00302"></a>00302 
<a name="l00304"></a>00304 <span class="comment">// per-shadercore memory-latency logger</span>
<a name="l00306"></a>00306 <span class="comment"></span>
<a name="l00307"></a><a class="code" href="stat-tool_8cc.html#add2eaab61a2cbd9efab40caf31750840">00307</a> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="stat-tool_8cc.html#add2eaab61a2cbd9efab40caf31750840">s_mem_lat_logger_used</a> = <span class="keyword">false</span>;
<a name="l00308"></a><a class="code" href="stat-tool_8cc.html#a28b4894e9897120e8a596fea70c7a6b6">00308</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#a28b4894e9897120e8a596fea70c7a6b6">s_mem_lat_logger_nbins</a> = 48;     <span class="comment">// up to 2^24 = 16M</span>
<a name="l00309"></a><a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">00309</a> <span class="keyword">static</span> std::vector&lt;linear_histogram_logger&gt; <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>;
<a name="l00310"></a>00310 
<a name="l00311"></a><a class="code" href="stat-tool_8h.html#a211d44c7f48a8f980093d6e3464c2ec3">00311</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a211d44c7f48a8f980093d6e3464c2ec3">shader_mem_lat_create</a>( <span class="keywordtype">int</span> n_loggers, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  logging_interval)
<a name="l00312"></a>00312 {
<a name="l00313"></a>00313    <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>.assign(n_loggers, 
<a name="l00314"></a>00314                            <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a>(s_mem_lat_logger_nbins, logging_interval, <span class="stringliteral">&quot;ShdrMemLat&quot;</span>));
<a name="l00315"></a>00315 
<a name="l00316"></a>00316    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>.size(); i++) {
<a name="l00317"></a>00317       <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>[i].set_id(i);
<a name="l00318"></a>00318       <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a>(&amp;(<a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>[i]));
<a name="l00319"></a>00319       <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a>(&amp;(<a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>[i]));
<a name="l00320"></a>00320    }
<a name="l00321"></a>00321    
<a name="l00322"></a>00322    <a class="code" href="stat-tool_8cc.html#add2eaab61a2cbd9efab40caf31750840">s_mem_lat_logger_used</a> = <span class="keyword">true</span>;
<a name="l00323"></a>00323 }
<a name="l00324"></a>00324 
<a name="l00325"></a><a class="code" href="stat-tool_8h.html#ae01090d1f9cdd2f38bcd1af39c12e8fd">00325</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#ae01090d1f9cdd2f38bcd1af39c12e8fd">shader_mem_lat_log</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">int</span> latency)
<a name="l00326"></a>00326 {
<a name="l00327"></a>00327    <span class="keywordflow">if</span> (<a class="code" href="stat-tool_8cc.html#add2eaab61a2cbd9efab40caf31750840">s_mem_lat_logger_used</a> == <span class="keyword">false</span>) <span class="keywordflow">return</span>;
<a name="l00328"></a>00328    <span class="keywordflow">if</span> (latency &gt; (1&lt;&lt;(s_mem_lat_logger_nbins/2))) assert(0); <span class="comment">// guard for out of bound bin</span>
<a name="l00329"></a>00329    assert(latency &gt; 0);
<a name="l00330"></a>00330    
<a name="l00331"></a>00331    <span class="keywordtype">int</span> latency_bin;
<a name="l00332"></a>00332    
<a name="l00333"></a>00333    <span class="keywordtype">int</span> bin; <span class="comment">// LOG_2(latency)</span>
<a name="l00334"></a>00334    <span class="keywordtype">int</span> v = latency;
<a name="l00335"></a>00335    <span class="keyword">register</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shift;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337    bin =   (v &gt; 0xFFFF) &lt;&lt; 4; v &gt;&gt;= bin;
<a name="l00338"></a>00338    shift = (v &gt; 0xFF  ) &lt;&lt; 3; v &gt;&gt;= shift; bin |= shift;
<a name="l00339"></a>00339    shift = (v &gt; 0xF   ) &lt;&lt; 2; v &gt;&gt;= shift; bin |= shift;
<a name="l00340"></a>00340    shift = (v &gt; 0x3   ) &lt;&lt; 1; v &gt;&gt;= shift; bin |= shift;
<a name="l00341"></a>00341                                            bin |= (v &gt;&gt; 1);
<a name="l00342"></a>00342    latency_bin = 2 * bin;
<a name="l00343"></a>00343    <span class="keywordflow">if</span> (bin &gt; 0) {
<a name="l00344"></a>00344       latency_bin += ((latency &amp; (1 &lt;&lt; (bin - 1))) != 0)? 1 : 0; <span class="comment">// approx. for LOG_sqrt2(latency)</span>
<a name="l00345"></a>00345    }
<a name="l00346"></a>00346 
<a name="l00347"></a>00347    <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>[logger_id].log(latency_bin);
<a name="l00348"></a>00348 }
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="stat-tool_8h.html#a11bc0710d72aedbd60e602009f9f3676">00350</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a11bc0710d72aedbd60e602009f9f3676">shader_mem_lat_snapshot</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle)
<a name="l00351"></a>00351 {
<a name="l00352"></a>00352    <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>[logger_id].snap_shot(current_cycle);
<a name="l00353"></a>00353 }
<a name="l00354"></a>00354 
<a name="l00355"></a><a class="code" href="stat-tool_8h.html#aca632897dfbbf240fe4f62557b8ce69d">00355</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#aca632897dfbbf240fe4f62557b8ce69d">shader_mem_lat_print</a>( FILE *fout )
<a name="l00356"></a>00356 {
<a name="l00357"></a>00357    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>.size(); i++) {
<a name="l00358"></a>00358       <a class="code" href="stat-tool_8cc.html#af01af31ebc6d05b5da53be7d1f08c2fd">s_mem_lat_logger</a>[i].print(fout);
<a name="l00359"></a>00359    }
<a name="l00360"></a>00360 }
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 
<a name="l00364"></a>00364 <span class="comment">// per-shadercore cache-miss logger</span>
<a name="l00366"></a>00366 <span class="comment"></span>
<a name="l00367"></a><a class="code" href="stat-tool_8cc.html#a4cf3ce90fa2d32d7a6a5d34f7880b5c4">00367</a> <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#a4cf3ce90fa2d32d7a6a5d34f7880b5c4">s_cache_access_logger_n_types</a> = 0;
<a name="l00368"></a><a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">00368</a> <span class="keyword">static</span> std::vector&lt;linear_histogram_logger&gt; <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>;
<a name="l00369"></a>00369 
<a name="l00370"></a><a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31">00370</a> <span class="keyword">enum</span> <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31">cache_access_logger_types</a> {
<a name="l00371"></a><a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a3f07a311da6e3003d3922d665098da2d">00371</a>    <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a50d1448013c6f17125caee18aa418af7">NORMAL</a>, <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a3f07a311da6e3003d3922d665098da2d">TEXTURE</a>, <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a83972670b57415508523b5641bb46116">CONSTANT</a>, <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31acc7488e57f07fe0693ec0f72d186c300">INSTRUCTION</a>
<a name="l00372"></a>00372 };
<a name="l00373"></a>00373 
<a name="l00374"></a><a class="code" href="stat-tool_8h.html#ac9543b74af4b29923888ed631e62686a">00374</a> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#ac9543b74af4b29923888ed631e62686a">get_shader_normal_cache_id</a>() { <span class="keywordflow">return</span> <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a50d1448013c6f17125caee18aa418af7">NORMAL</a>; }
<a name="l00375"></a><a class="code" href="stat-tool_8h.html#a5d37a6563e37999fa30f8a8057df80fc">00375</a> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#a5d37a6563e37999fa30f8a8057df80fc">get_shader_texture_cache_id</a>() { <span class="keywordflow">return</span> <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a3f07a311da6e3003d3922d665098da2d">TEXTURE</a>; }
<a name="l00376"></a><a class="code" href="stat-tool_8h.html#ac2c837987fd9d8968739e672bc28bc09">00376</a> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#ac2c837987fd9d8968739e672bc28bc09">get_shader_constant_cache_id</a>() { <span class="keywordflow">return</span> <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a83972670b57415508523b5641bb46116">CONSTANT</a>; }
<a name="l00377"></a><a class="code" href="stat-tool_8h.html#a7c1d124be36b52ff4904d76971b6cb67">00377</a> <span class="keywordtype">int</span> <a class="code" href="stat-tool_8cc.html#a7c1d124be36b52ff4904d76971b6cb67">get_shader_instruction_cache_id</a>() { <span class="keywordflow">return</span> <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31acc7488e57f07fe0693ec0f72d186c300">INSTRUCTION</a>; }
<a name="l00378"></a>00378 
<a name="l00379"></a><a class="code" href="stat-tool_8h.html#ae82669e2a20c83c4c994b6fb336632a8">00379</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#ae82669e2a20c83c4c994b6fb336632a8">shader_cache_access_create</a>( <span class="keywordtype">int</span> n_loggers, <span class="keywordtype">int</span> n_types, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  logging_interval)
<a name="l00380"></a>00380 {
<a name="l00381"></a>00381    <span class="comment">// There are different type of cache (x2 for recording accesses and misses)</span>
<a name="l00382"></a>00382    <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>.assign(n_loggers, 
<a name="l00383"></a>00383                                 <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a>(n_types * 2, logging_interval, <span class="stringliteral">&quot;ShdrCacheMiss&quot;</span>));
<a name="l00384"></a>00384 
<a name="l00385"></a>00385    s_cache_access_logger_n_types = n_types;
<a name="l00386"></a>00386    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>.size(); i++) {
<a name="l00387"></a>00387       <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>[i].set_id(i);
<a name="l00388"></a>00388       <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a>(&amp;(<a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>[i]));
<a name="l00389"></a>00389       <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a>(&amp;(<a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>[i]));
<a name="l00390"></a>00390    }
<a name="l00391"></a>00391 }
<a name="l00392"></a>00392 
<a name="l00393"></a><a class="code" href="stat-tool_8h.html#a54bee1a66f39d0c3a907a8c0bfe8f83e">00393</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a54bee1a66f39d0c3a907a8c0bfe8f83e">shader_cache_access_log</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> miss)
<a name="l00394"></a>00394 {
<a name="l00395"></a>00395    <span class="keywordflow">if</span> (s_cache_access_logger_n_types == 0) <span class="keywordflow">return</span>;
<a name="l00396"></a>00396    <span class="keywordflow">if</span> (logger_id &lt; 0) <span class="keywordflow">return</span>;
<a name="l00397"></a>00397    assert(type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a50d1448013c6f17125caee18aa418af7">NORMAL</a> || type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a3f07a311da6e3003d3922d665098da2d">TEXTURE</a> || type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a83972670b57415508523b5641bb46116">CONSTANT</a> || type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31acc7488e57f07fe0693ec0f72d186c300">INSTRUCTION</a>);
<a name="l00398"></a>00398    assert(miss == 0 || miss == 1);
<a name="l00399"></a>00399    
<a name="l00400"></a>00400    <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>[logger_id].log(2 * type + miss);
<a name="l00401"></a>00401 }
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="stat-tool_8h.html#af233c585f7abfb80589ca59f8dbc0cdd">00403</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#af233c585f7abfb80589ca59f8dbc0cdd">shader_cache_access_unlog</a>( <span class="keywordtype">int</span> logger_id, <span class="keywordtype">int</span> type, <span class="keywordtype">int</span> miss)
<a name="l00404"></a>00404 {
<a name="l00405"></a>00405    <span class="keywordflow">if</span> (s_cache_access_logger_n_types == 0) <span class="keywordflow">return</span>;
<a name="l00406"></a>00406    <span class="keywordflow">if</span> (logger_id &lt; 0) <span class="keywordflow">return</span>;
<a name="l00407"></a>00407    assert(type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a50d1448013c6f17125caee18aa418af7">NORMAL</a> || type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a3f07a311da6e3003d3922d665098da2d">TEXTURE</a> || type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31a83972670b57415508523b5641bb46116">CONSTANT</a> || type == <a class="code" href="stat-tool_8cc.html#a4e19bf1558b3903e4f74930d3e9e6e31acc7488e57f07fe0693ec0f72d186c300">INSTRUCTION</a>);
<a name="l00408"></a>00408    assert(miss == 0 || miss == 1);
<a name="l00409"></a>00409    
<a name="l00410"></a>00410    <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>[logger_id].unlog(2 * type + miss);
<a name="l00411"></a>00411 }
<a name="l00412"></a>00412 
<a name="l00413"></a><a class="code" href="stat-tool_8h.html#a0029a1764d984202c480027731e49651">00413</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a0029a1764d984202c480027731e49651">shader_cache_access_print</a>( FILE *fout )
<a name="l00414"></a>00414 {
<a name="l00415"></a>00415    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>.size(); i++) {
<a name="l00416"></a>00416       <a class="code" href="stat-tool_8cc.html#a4266ef2a601b640b39a32ca94d5ace75">s_cache_access_logger</a>[i].print(fout);
<a name="l00417"></a>00417    }
<a name="l00418"></a>00418 }
<a name="l00419"></a>00419 
<a name="l00420"></a>00420 
<a name="l00422"></a>00422 <span class="comment">// per-shadercore CTA count logger (only make sense with gpgpu_spread_blocks_across_cores)</span>
<a name="l00424"></a>00424 <span class="comment"></span>
<a name="l00425"></a><a class="code" href="stat-tool_8cc.html#aad033bd15e0f3e8d5513764ecb8fd73c">00425</a> <span class="keyword">static</span> <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a> *<a class="code" href="stat-tool_8cc.html#aad033bd15e0f3e8d5513764ecb8fd73c">s_CTA_count_logger</a> = NULL;
<a name="l00426"></a>00426 
<a name="l00427"></a><a class="code" href="stat-tool_8h.html#adaa165f9dc13a0730ac19ba8edd55b85">00427</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#adaa165f9dc13a0730ac19ba8edd55b85">shader_CTA_count_create</a>( <span class="keywordtype">int</span> n_shaders, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  logging_interval)
<a name="l00428"></a>00428 {
<a name="l00429"></a>00429    <span class="comment">// only need one logger to track all the shaders</span>
<a name="l00430"></a>00430    <span class="keywordflow">if</span> (s_CTA_count_logger != NULL) <span class="keyword">delete</span> s_CTA_count_logger;
<a name="l00431"></a>00431    s_CTA_count_logger = <span class="keyword">new</span> <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a>(n_shaders, logging_interval, <span class="stringliteral">&quot;ShdrCTACount&quot;</span>, <span class="keyword">false</span>);
<a name="l00432"></a>00432 
<a name="l00433"></a>00433    s_CTA_count_logger-&gt;<a class="code" href="classlinear__histogram__logger.html#aa712ab176dec16798de9a1a05700be23">set_id</a>(-1);
<a name="l00434"></a>00434    <span class="keywordflow">if</span> (logging_interval != 0) {
<a name="l00435"></a>00435       <a class="code" href="stat-tool_8cc.html#a6327fea99f42c4ada2b27bda7d17657e">add_snap_shot_trigger</a>(s_CTA_count_logger);
<a name="l00436"></a>00436       <a class="code" href="stat-tool_8cc.html#a17806518496114bb5e84829ddc3478af">add_spill_log</a>(s_CTA_count_logger);
<a name="l00437"></a>00437    }
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a><a class="code" href="stat-tool_8h.html#a085feeb1890068c1c7340bca2617acfe">00440</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a085feeb1890068c1c7340bca2617acfe">shader_CTA_count_log</a>( <span class="keywordtype">int</span> shader_id, <span class="keywordtype">int</span> nCTAadded )
<a name="l00441"></a>00441 {
<a name="l00442"></a>00442    <span class="keywordflow">if</span> (s_CTA_count_logger == NULL) <span class="keywordflow">return</span>;
<a name="l00443"></a>00443    
<a name="l00444"></a>00444    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nCTAadded; i++) {
<a name="l00445"></a>00445       s_CTA_count_logger-&gt;<a class="code" href="classlinear__histogram__logger.html#a0321b5fe2ba10ce4e1632889bb544a33">log</a>(shader_id);
<a name="l00446"></a>00446    }
<a name="l00447"></a>00447 }
<a name="l00448"></a>00448 
<a name="l00449"></a><a class="code" href="stat-tool_8h.html#a82e00728825f6891dcaf8a43a4aceaf6">00449</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a82e00728825f6891dcaf8a43a4aceaf6">shader_CTA_count_unlog</a>( <span class="keywordtype">int</span> shader_id, <span class="keywordtype">int</span> nCTAdone )
<a name="l00450"></a>00450 {
<a name="l00451"></a>00451    <span class="keywordflow">if</span> (s_CTA_count_logger == NULL) <span class="keywordflow">return</span>;
<a name="l00452"></a>00452    
<a name="l00453"></a>00453    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nCTAdone; i++) {
<a name="l00454"></a>00454       s_CTA_count_logger-&gt;<a class="code" href="classlinear__histogram__logger.html#ad94269fc264f6c381478d6797d9212f4">unlog</a>(shader_id);
<a name="l00455"></a>00455    }
<a name="l00456"></a>00456 }
<a name="l00457"></a>00457 
<a name="l00458"></a><a class="code" href="stat-tool_8h.html#a797fa847a386f46da21a403f6c9656c4">00458</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a797fa847a386f46da21a403f6c9656c4">shader_CTA_count_print</a>( FILE *fout )
<a name="l00459"></a>00459 {
<a name="l00460"></a>00460    <span class="keywordflow">if</span> (s_CTA_count_logger == NULL) <span class="keywordflow">return</span>;
<a name="l00461"></a>00461    s_CTA_count_logger-&gt;<a class="code" href="classlinear__histogram__logger.html#a2fde7078f023811c182853001c24a2d3">print</a>(fout);
<a name="l00462"></a>00462 }
<a name="l00463"></a>00463 
<a name="l00464"></a><a class="code" href="stat-tool_8h.html#a8a128984ade379076385b0773ce7c644">00464</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#a8a128984ade379076385b0773ce7c644">shader_CTA_count_visualizer_print</a>( FILE *fout )
<a name="l00465"></a>00465 {
<a name="l00466"></a>00466    <span class="keywordflow">if</span> (s_CTA_count_logger == NULL) <span class="keywordflow">return</span>;
<a name="l00467"></a>00467    s_CTA_count_logger-&gt;<a class="code" href="classlinear__histogram__logger.html#ac2ef96bb9e88ea0e21d46776d2e46af6">print_visualizer</a>(fout);
<a name="l00468"></a>00468 }
<a name="l00469"></a>00469 
<a name="l00470"></a><a class="code" href="stat-tool_8h.html#ab26937485ea501af4edab2bef6b7b328">00470</a> <span class="keywordtype">void</span> <a class="code" href="stat-tool_8cc.html#ab26937485ea501af4edab2bef6b7b328">shader_CTA_count_visualizer_gzprint</a>( gzFile fout )
<a name="l00471"></a>00471 {
<a name="l00472"></a>00472    <span class="keywordflow">if</span> (s_CTA_count_logger == NULL) <span class="keywordflow">return</span>;
<a name="l00473"></a>00473    s_CTA_count_logger-&gt;<a class="code" href="classlinear__histogram__logger.html#ac2ef96bb9e88ea0e21d46776d2e46af6">print_visualizer</a>(fout);
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 
<a name="l00479"></a>00479 
<a name="l00480"></a><a class="code" href="classthread__insn__span.html#af37ee57737f07ed1d8aa241e4e792c8d">00480</a> <a class="code" href="classthread__insn__span.html#af37ee57737f07ed1d8aa241e4e792c8d">thread_insn_span::thread_insn_span</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  cycle)
<a name="l00481"></a>00481   : m_cycle(cycle),
<a name="l00482"></a>00482 #<a class="code" href="lex_8yy_8c.html#ad4a65b873df5c05570846b5413b41dfd">if</a> (tr1_hash_map_ismap == 1)
<a name="l00483"></a>00483      m_insn_span_count() 
<a name="l00484"></a>00484 #else 
<a name="l00485"></a>00485      m_insn_span_count(32*1024) 
<a name="l00486"></a>00486 #endif
<a name="l00487"></a>00487 { 
<a name="l00488"></a>00488 }
<a name="l00489"></a>00489 
<a name="l00490"></a><a class="code" href="classthread__insn__span.html#a040d30229511b142612065424f2b0c8d">00490</a> <a class="code" href="classthread__insn__span.html#a040d30229511b142612065424f2b0c8d">thread_insn_span::~thread_insn_span</a>() { }
<a name="l00491"></a>00491    
<a name="l00492"></a><a class="code" href="classthread__insn__span.html#a0ba4b54a2d11252e8c509a0a1278163a">00492</a> <a class="code" href="classthread__insn__span.html#af37ee57737f07ed1d8aa241e4e792c8d">thread_insn_span::thread_insn_span</a>(<span class="keyword">const</span> <a class="code" href="classthread__insn__span.html">thread_insn_span</a>&amp; other)
<a name="l00493"></a>00493       : m_cycle(other.m_cycle),
<a name="l00494"></a>00494         m_insn_span_count(other.m_insn_span_count) 
<a name="l00495"></a>00495 { 
<a name="l00496"></a>00496 }
<a name="l00497"></a>00497       
<a name="l00498"></a><a class="code" href="classthread__insn__span.html#a1534756eba08438a1fccbf3c18a26fef">00498</a> <a class="code" href="classthread__insn__span.html">thread_insn_span</a>&amp; <a class="code" href="classthread__insn__span.html#a1534756eba08438a1fccbf3c18a26fef">thread_insn_span::operator=</a>(<span class="keyword">const</span> <a class="code" href="classthread__insn__span.html">thread_insn_span</a>&amp; other)
<a name="l00499"></a>00499 {
<a name="l00500"></a>00500    printf(<span class="stringliteral">&quot;thread_insn_span&amp; operator=\n&quot;</span>);
<a name="l00501"></a>00501    <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;other) {
<a name="l00502"></a>00502       <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a> = other.<a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>;
<a name="l00503"></a>00503       <a class="code" href="classthread__insn__span.html#a60e0857a9dc7c3c45acc43499f72b3c5">m_cycle</a> = other.<a class="code" href="classthread__insn__span.html#a60e0857a9dc7c3c45acc43499f72b3c5">m_cycle</a>;
<a name="l00504"></a>00504    }
<a name="l00505"></a>00505    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00506"></a>00506 }
<a name="l00507"></a>00507    
<a name="l00508"></a><a class="code" href="classthread__insn__span.html#a6881e5987dbe312360320f63f29a11e0">00508</a> <a class="code" href="classthread__insn__span.html">thread_insn_span</a>&amp; <a class="code" href="classthread__insn__span.html#a6881e5987dbe312360320f63f29a11e0">thread_insn_span::operator+=</a>(<span class="keyword">const</span> <a class="code" href="classthread__insn__span.html">thread_insn_span</a>&amp; other)
<a name="l00509"></a>00509 {
<a name="l00510"></a>00510    span_count_map::const_iterator i_sc = other.<a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.begin();
<a name="l00511"></a>00511    <span class="keywordflow">for</span> (; i_sc != other.<a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.end(); ++i_sc) {
<a name="l00512"></a>00512       <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>[i_sc-&gt;first] += i_sc-&gt;second;
<a name="l00513"></a>00513    }
<a name="l00514"></a>00514    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00515"></a>00515 }
<a name="l00516"></a>00516    
<a name="l00517"></a><a class="code" href="classthread__insn__span.html#a4b953b0ed88684bb313ab3cae7a1c965">00517</a> <span class="keywordtype">void</span> <a class="code" href="classthread__insn__span.html#a4b953b0ed88684bb313ab3cae7a1c965">thread_insn_span::set_span</a>( <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> pc ) 
<a name="l00518"></a>00518 {
<a name="l00519"></a>00519    <span class="keywordflow">if</span>( ((<span class="keywordtype">int</span>)pc) &gt;= 0 )
<a name="l00520"></a>00520       <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>[pc] += 1;
<a name="l00521"></a>00521 }
<a name="l00522"></a>00522    
<a name="l00523"></a><a class="code" href="classthread__insn__span.html#a8c9283f28d4e9300c293949f9cc681fa">00523</a> <span class="keywordtype">void</span> <a class="code" href="classthread__insn__span.html#a8c9283f28d4e9300c293949f9cc681fa">thread_insn_span::reset</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  cycle) 
<a name="l00524"></a>00524 {
<a name="l00525"></a>00525    <a class="code" href="classthread__insn__span.html#a60e0857a9dc7c3c45acc43499f72b3c5">m_cycle</a> = cycle;
<a name="l00526"></a>00526    <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.clear(); 
<a name="l00527"></a>00527 }
<a name="l00528"></a>00528    
<a name="l00529"></a><a class="code" href="classthread__insn__span.html#ab4a673d64cbc7294fad93d4ef82b2cbe">00529</a> <span class="keywordtype">void</span> <a class="code" href="classthread__insn__span.html#ab4a673d64cbc7294fad93d4ef82b2cbe">thread_insn_span::print_span</a>(FILE *fout)<span class="keyword"> const</span>
<a name="l00530"></a>00530 <span class="keyword"></span>{
<a name="l00531"></a>00531    fprintf(fout, <span class="stringliteral">&quot;%d: &quot;</span>, (<span class="keywordtype">int</span>)<a class="code" href="classthread__insn__span.html#a60e0857a9dc7c3c45acc43499f72b3c5">m_cycle</a>);
<a name="l00532"></a>00532    span_count_map::const_iterator i_sc = <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.begin();
<a name="l00533"></a>00533    <span class="keywordflow">for</span> (; i_sc != <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.end(); ++i_sc) {
<a name="l00534"></a>00534       fprintf(fout, <span class="stringliteral">&quot;%d &quot;</span>, i_sc-&gt;first);
<a name="l00535"></a>00535    }
<a name="l00536"></a>00536    fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00537"></a>00537 }
<a name="l00538"></a>00538 
<a name="l00539"></a><a class="code" href="classthread__insn__span.html#ac6baf651d09a8a6d1c1a1bbd60e103e0">00539</a> <span class="keywordtype">void</span> <a class="code" href="classthread__insn__span.html#ac6baf651d09a8a6d1c1a1bbd60e103e0">thread_insn_span::print_histo</a>(FILE *fout)<span class="keyword"> const</span>
<a name="l00540"></a>00540 <span class="keyword"></span>{
<a name="l00541"></a>00541    fprintf(fout, <span class="stringliteral">&quot;%d:&quot;</span>, (<span class="keywordtype">int</span>)<a class="code" href="classthread__insn__span.html#a60e0857a9dc7c3c45acc43499f72b3c5">m_cycle</a>);
<a name="l00542"></a>00542    span_count_map::const_iterator i_sc = <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.begin();
<a name="l00543"></a>00543    <span class="keywordflow">for</span> (; i_sc != <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.end(); ++i_sc) {
<a name="l00544"></a>00544       fprintf(fout, <span class="stringliteral">&quot;%d &quot;</span>, i_sc-&gt;second);
<a name="l00545"></a>00545    }
<a name="l00546"></a>00546    fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00547"></a>00547 }
<a name="l00548"></a>00548 
<a name="l00549"></a><a class="code" href="classthread__insn__span.html#a11aede4839c435789c13894b791e0590">00549</a> <span class="keywordtype">void</span> <a class="code" href="classthread__insn__span.html#a11aede4839c435789c13894b791e0590">thread_insn_span::print_sparse_histo</a>(FILE *fout)<span class="keyword"> const</span>
<a name="l00550"></a>00550 <span class="keyword"></span>{
<a name="l00551"></a>00551    <span class="keywordtype">int</span> n_printed_entries = 0;
<a name="l00552"></a>00552    span_count_map::const_iterator i_sc = <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.begin();
<a name="l00553"></a>00553    <span class="keywordflow">for</span> (; i_sc != <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.end(); ++i_sc) {
<a name="l00554"></a>00554       <span class="keywordtype">unsigned</span> <a class="code" href="ptx__parser_8cc.html#a4414558a5f7dded6a102d46d656b9a39">ptx_lineno</a> = <a class="code" href="cuda-sim_8cc.html#a872e07ff59ffd42b6037aa8c359057cc">translate_pc_to_ptxlineno</a>(i_sc-&gt;first);
<a name="l00555"></a>00555       fprintf(fout, <span class="stringliteral">&quot;%u %d &quot;</span>, ptx_lineno, i_sc-&gt;second);
<a name="l00556"></a>00556       n_printed_entries++;
<a name="l00557"></a>00557    }
<a name="l00558"></a>00558    <span class="keywordflow">if</span> (n_printed_entries == 0) {
<a name="l00559"></a>00559       fprintf(fout, <span class="stringliteral">&quot;0 0 &quot;</span>);
<a name="l00560"></a>00560    }
<a name="l00561"></a>00561    fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00562"></a>00562 }
<a name="l00563"></a>00563 
<a name="l00564"></a><a class="code" href="classthread__insn__span.html#a49bebe5ac4907956990ed1d6a957caeb">00564</a> <span class="keywordtype">void</span> <a class="code" href="classthread__insn__span.html#a11aede4839c435789c13894b791e0590">thread_insn_span::print_sparse_histo</a>(gzFile fout)<span class="keyword"> const</span>
<a name="l00565"></a>00565 <span class="keyword"></span>{
<a name="l00566"></a>00566    <span class="keywordtype">int</span> n_printed_entries = 0;
<a name="l00567"></a>00567    span_count_map::const_iterator i_sc = <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.begin();
<a name="l00568"></a>00568    <span class="keywordflow">for</span> (; i_sc != <a class="code" href="classthread__insn__span.html#abc01dc064777e16e722274854e6d5fc0">m_insn_span_count</a>.end(); ++i_sc) {
<a name="l00569"></a>00569       <span class="keywordtype">unsigned</span> <a class="code" href="ptx__parser_8cc.html#a4414558a5f7dded6a102d46d656b9a39">ptx_lineno</a> = <a class="code" href="cuda-sim_8cc.html#a872e07ff59ffd42b6037aa8c359057cc">translate_pc_to_ptxlineno</a>(i_sc-&gt;first);
<a name="l00570"></a>00570       gzprintf(fout, <span class="stringliteral">&quot;%u %d &quot;</span>, ptx_lineno, i_sc-&gt;second);
<a name="l00571"></a>00571       n_printed_entries++;
<a name="l00572"></a>00572    }
<a name="l00573"></a>00573    <span class="keywordflow">if</span> (n_printed_entries == 0) {
<a name="l00574"></a>00574       gzprintf(fout, <span class="stringliteral">&quot;0 0 &quot;</span>);
<a name="l00575"></a>00575    }
<a name="l00576"></a>00576    gzprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00577"></a>00577 }
<a name="l00578"></a>00578 
<a name="l00580"></a>00580 
<a name="l00581"></a><a class="code" href="classthread__CFlocality.html#ac1339effdf41a0a3494f7fe1fc3c9d28">00581</a> <a class="code" href="classthread__CFlocality.html#ac1339effdf41a0a3494f7fe1fc3c9d28">thread_CFlocality::thread_CFlocality</a>(std::string name, 
<a name="l00582"></a>00582                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  snap_shot_interval, 
<a name="l00583"></a>00583                                      <span class="keywordtype">int</span> <a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">nthreads</a>, 
<a name="l00584"></a>00584                                      <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> start_pc, 
<a name="l00585"></a>00585                                      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  start_cycle)
<a name="l00586"></a>00586       : <a class="code" href="classsnap__shot__trigger.html">snap_shot_trigger</a>(snap_shot_interval), m_name(name),
<a name="l00587"></a>00587         m_nthreads(nthreads), m_thread_pc(nthreads, start_pc), m_cycle(start_cycle),
<a name="l00588"></a>00588         m_thd_span(start_cycle)
<a name="l00589"></a>00589 {
<a name="l00590"></a>00590    std::fill(<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>.begin(), <a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>.end(), -1); <span class="comment">// so that hw thread with no work assigned will not clobber results</span>
<a name="l00591"></a>00591 }
<a name="l00592"></a>00592    
<a name="l00593"></a><a class="code" href="classthread__CFlocality.html#ae6ba29b8c698efe6a1c7805b5209da60">00593</a> <a class="code" href="classthread__CFlocality.html#ae6ba29b8c698efe6a1c7805b5209da60">thread_CFlocality::~thread_CFlocality</a>() 
<a name="l00594"></a>00594 {
<a name="l00595"></a>00595 } 
<a name="l00596"></a>00596    
<a name="l00597"></a><a class="code" href="classthread__CFlocality.html#abd54800c3f247f584ccfe53405938920">00597</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#abd54800c3f247f584ccfe53405938920">thread_CFlocality::update_thread_pc</a>( <span class="keywordtype">int</span> thread_id, <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> pc ) 
<a name="l00598"></a>00598 {
<a name="l00599"></a>00599    <a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>[thread_id] = pc;
<a name="l00600"></a>00600    <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a4b953b0ed88684bb313ab3cae7a1c965">set_span</a>(pc);
<a name="l00601"></a>00601 }
<a name="l00602"></a>00602    
<a name="l00603"></a><a class="code" href="classthread__CFlocality.html#adf70e96e3f6ae3ecba20e8334c8fd4dc">00603</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#adf70e96e3f6ae3ecba20e8334c8fd4dc">thread_CFlocality::snap_shot</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle) 
<a name="l00604"></a>00604 {
<a name="l00605"></a>00605    <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.push_back(<a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>);
<a name="l00606"></a>00606    <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a8c9283f28d4e9300c293949f9cc681fa">reset</a>(current_cycle);
<a name="l00607"></a>00607    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (<a class="code" href="classint.html">int</a>)<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>.size(); i++) {
<a name="l00608"></a>00608       <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a4b953b0ed88684bb313ab3cae7a1c965">set_span</a>(<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>[i]);
<a name="l00609"></a>00609    }
<a name="l00610"></a>00610 }
<a name="l00611"></a>00611    
<a name="l00612"></a><a class="code" href="classthread__CFlocality.html#a6010470bb70795da7497681f74999101">00612</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#a6010470bb70795da7497681f74999101">thread_CFlocality::spill</a>(FILE *fout, <span class="keywordtype">bool</span> <span class="keyword">final</span>) 
<a name="l00613"></a>00613 {
<a name="l00614"></a>00614    std::list&lt;thread_insn_span&gt;::iterator lit = <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.begin();
<a name="l00615"></a>00615    <span class="keywordflow">for</span> (; lit != <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.end(); lit = <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.erase(lit) ) {
<a name="l00616"></a>00616       fprintf(fout, <span class="stringliteral">&quot;%s-&quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00617"></a>00617       lit-&gt;print_histo(fout);
<a name="l00618"></a>00618    }
<a name="l00619"></a>00619    assert( <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.empty() );
<a name="l00620"></a>00620    <span class="keywordflow">if</span> (<span class="keyword">final</span>) {
<a name="l00621"></a>00621       fprintf(fout, <span class="stringliteral">&quot;%s-&quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00622"></a>00622       <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#ac6baf651d09a8a6d1c1a1bbd60e103e0">print_histo</a>(fout);
<a name="l00623"></a>00623    }
<a name="l00624"></a>00624 }
<a name="l00625"></a>00625    
<a name="l00626"></a>00626       
<a name="l00627"></a><a class="code" href="classthread__CFlocality.html#a492102b8906ad8e3d8aa3a697e77738f">00627</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#a492102b8906ad8e3d8aa3a697e77738f">thread_CFlocality::print_visualizer</a>(FILE *fout)  
<a name="l00628"></a>00628 {
<a name="l00629"></a>00629    fprintf(fout, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00630"></a>00630    <span class="keywordflow">if</span> (<a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.empty()) {
<a name="l00631"></a>00631    
<a name="l00632"></a>00632       <span class="comment">// visualizer do no require snap_shots</span>
<a name="l00633"></a>00633       <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a11aede4839c435789c13894b791e0590">print_sparse_histo</a>(fout);
<a name="l00634"></a>00634       
<a name="l00635"></a>00635       <span class="comment">// clean the thread span</span>
<a name="l00636"></a>00636       <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a8c9283f28d4e9300c293949f9cc681fa">reset</a>(0);
<a name="l00637"></a>00637       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (<a class="code" href="classint.html">int</a>)<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>.size(); i++) 
<a name="l00638"></a>00638          <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a4b953b0ed88684bb313ab3cae7a1c965">set_span</a>(<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>[i]);
<a name="l00639"></a>00639    } <span class="keywordflow">else</span> { 
<a name="l00640"></a>00640       assert(0); <span class="comment">// TODO: implement fall back so that visualizer can work with snap shots</span>
<a name="l00641"></a>00641    }
<a name="l00642"></a>00642 }
<a name="l00643"></a>00643    
<a name="l00644"></a><a class="code" href="classthread__CFlocality.html#a963be90f2cc8bb5e318ac41e084a8380">00644</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#a492102b8906ad8e3d8aa3a697e77738f">thread_CFlocality::print_visualizer</a>(gzFile fout)
<a name="l00645"></a>00645 {
<a name="l00646"></a>00646    gzprintf(fout, <span class="stringliteral">&quot;%s: &quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00647"></a>00647    <span class="keywordflow">if</span> (<a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.empty()) {
<a name="l00648"></a>00648    
<a name="l00649"></a>00649       <span class="comment">// visualizer do no require snap_shots</span>
<a name="l00650"></a>00650       <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a11aede4839c435789c13894b791e0590">print_sparse_histo</a>(fout);
<a name="l00651"></a>00651       
<a name="l00652"></a>00652       <span class="comment">// clean the thread span</span>
<a name="l00653"></a>00653       <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a8c9283f28d4e9300c293949f9cc681fa">reset</a>(0);
<a name="l00654"></a>00654       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (<a class="code" href="classint.html">int</a>)<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>.size(); i++) {
<a name="l00655"></a>00655          <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#a4b953b0ed88684bb313ab3cae7a1c965">set_span</a>(<a class="code" href="classthread__CFlocality.html#a94adeabac55c0c506c2b854223405804">m_thread_pc</a>[i]);
<a name="l00656"></a>00656       }
<a name="l00657"></a>00657    } <span class="keywordflow">else</span> { 
<a name="l00658"></a>00658       assert(0); <span class="comment">// TODO: implement fall back so that visualizer can work with snap shots</span>
<a name="l00659"></a>00659    }
<a name="l00660"></a>00660 }
<a name="l00661"></a>00661    
<a name="l00662"></a><a class="code" href="classthread__CFlocality.html#a78c032ed1729cd1f5b2d4943eedc82f4">00662</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#a78c032ed1729cd1f5b2d4943eedc82f4">thread_CFlocality::print_span</a>(FILE *fout)<span class="keyword"> const</span>
<a name="l00663"></a>00663 <span class="keyword"></span>{
<a name="l00664"></a>00664    std::list&lt;thread_insn_span&gt;::const_iterator lit = <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.begin();
<a name="l00665"></a>00665    <span class="keywordflow">for</span> (; lit != <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.end(); ++lit) {
<a name="l00666"></a>00666       fprintf(fout, <span class="stringliteral">&quot;%s-&quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00667"></a>00667       lit-&gt;print_span(fout);
<a name="l00668"></a>00668    }
<a name="l00669"></a>00669    fprintf(fout, <span class="stringliteral">&quot;%s-&quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00670"></a>00670    <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#ab4a673d64cbc7294fad93d4ef82b2cbe">print_span</a>(fout);
<a name="l00671"></a>00671 }
<a name="l00672"></a>00672 
<a name="l00673"></a><a class="code" href="classthread__CFlocality.html#afbdd18ee98eced75c362688a0ede6990">00673</a> <span class="keywordtype">void</span> <a class="code" href="classthread__CFlocality.html#afbdd18ee98eced75c362688a0ede6990">thread_CFlocality::print_histo</a>(FILE *fout)<span class="keyword"> const</span>
<a name="l00674"></a>00674 <span class="keyword"></span>{
<a name="l00675"></a>00675    std::list&lt;thread_insn_span&gt;::const_iterator lit = <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.begin();
<a name="l00676"></a>00676    <span class="keywordflow">for</span> (; lit != <a class="code" href="classthread__CFlocality.html#a5d25799add563bcd573b699103f94025">m_thd_span_archive</a>.end(); ++lit) {
<a name="l00677"></a>00677       fprintf(fout, <span class="stringliteral">&quot;%s-&quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00678"></a>00678       lit-&gt;print_histo(fout);
<a name="l00679"></a>00679    }
<a name="l00680"></a>00680    fprintf(fout, <span class="stringliteral">&quot;%s-&quot;</span>, <a class="code" href="classthread__CFlocality.html#a6fc5235b52e2156df3f7d63a7ced1917">m_name</a>.c_str());
<a name="l00681"></a>00681    <a class="code" href="classthread__CFlocality.html#ab6fb9518affb3ddff3f8d5d8df134ff9">m_thd_span</a>.<a class="code" href="classthread__insn__span.html#ac6baf651d09a8a6d1c1a1bbd60e103e0">print_histo</a>(fout);
<a name="l00682"></a>00682 }
<a name="l00683"></a>00683 
<a name="l00685"></a>00685 
<a name="l00686"></a><a class="code" href="classlinear__histogram__logger.html#ab8447987d79b910497b9e77fb6c8ab96">00686</a> <a class="code" href="classlinear__histogram__logger.html#ab8447987d79b910497b9e77fb6c8ab96">linear_histogram_logger::linear_histogram_logger</a>(<span class="keywordtype">int</span> n_bins, 
<a name="l00687"></a>00687                            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  snap_shot_interval, 
<a name="l00688"></a>00688                            <span class="keyword">const</span> <span class="keywordtype">char</span> *name, 
<a name="l00689"></a>00689                            <span class="keywordtype">bool</span> reset_at_snap_shot, 
<a name="l00690"></a>00690                            <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  start_cycle )
<a name="l00691"></a>00691       : <a class="code" href="classsnap__shot__trigger.html">snap_shot_trigger</a>(snap_shot_interval), 
<a name="l00692"></a>00692         m_n_bins(n_bins), 
<a name="l00693"></a>00693         m_curr_lin_hist(m_n_bins, start_cycle),
<a name="l00694"></a>00694         m_lin_hist_archive(),
<a name="l00695"></a>00695         m_cycle(start_cycle),
<a name="l00696"></a>00696         m_reset_at_snap_shot(reset_at_snap_shot), 
<a name="l00697"></a>00697         m_name(name),
<a name="l00698"></a>00698         m_id(s_ids++) 
<a name="l00699"></a>00699 {
<a name="l00700"></a>00700 }
<a name="l00701"></a>00701 
<a name="l00702"></a><a class="code" href="classlinear__histogram__logger.html#ac60c4850b2f7bf6a9ecfdc6fce53a20e">00702</a> <a class="code" href="classlinear__histogram__logger.html#ab8447987d79b910497b9e77fb6c8ab96">linear_histogram_logger::linear_histogram_logger</a>(<span class="keyword">const</span> <a class="code" href="classlinear__histogram__logger.html">linear_histogram_logger</a>&amp; other) 
<a name="l00703"></a>00703       : <a class="code" href="classsnap__shot__trigger.html">snap_shot_trigger</a>(other.get_interval()), 
<a name="l00704"></a>00704         m_n_bins(other.m_n_bins), 
<a name="l00705"></a>00705         m_curr_lin_hist(m_n_bins, other.m_cycle),
<a name="l00706"></a>00706         m_lin_hist_archive(),
<a name="l00707"></a>00707         m_cycle(other.m_cycle),
<a name="l00708"></a>00708         m_reset_at_snap_shot(other.m_reset_at_snap_shot), 
<a name="l00709"></a>00709         m_name(other.m_name),
<a name="l00710"></a>00710         m_id(s_ids++) 
<a name="l00711"></a>00711 {
<a name="l00712"></a>00712 }
<a name="l00713"></a>00713 
<a name="l00714"></a><a class="code" href="classlinear__histogram__logger.html#a7718e6fafecd99656d527668bf56cc77">00714</a> <a class="code" href="classlinear__histogram__logger.html#a7718e6fafecd99656d527668bf56cc77">linear_histogram_logger::~linear_histogram_logger</a>() 
<a name="l00715"></a>00715 {
<a name="l00716"></a>00716       <a class="code" href="stat-tool_8cc.html#af8a9e65bfe915b176669c4963760b268">remove_snap_shot_trigger</a>(<span class="keyword">this</span>);
<a name="l00717"></a>00717       <a class="code" href="stat-tool_8cc.html#a4edbee533a948ff7fe265cdea3d08f19">remove_spill_log</a>(<span class="keyword">this</span>);
<a name="l00718"></a>00718 }
<a name="l00719"></a>00719    
<a name="l00720"></a><a class="code" href="classlinear__histogram__logger.html#aaa96ac3f3b8225e4fc3746eda9a6f331">00720</a> <span class="keywordtype">void</span> <a class="code" href="classlinear__histogram__logger.html#aaa96ac3f3b8225e4fc3746eda9a6f331">linear_histogram_logger::snap_shot</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>  current_cycle) {
<a name="l00721"></a>00721    <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.push_back(<a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>);
<a name="l00722"></a>00722    <span class="keywordflow">if</span> (<a class="code" href="classlinear__histogram__logger.html#a6a82a6e01ca3fc7bd291937e856d99f2">m_reset_at_snap_shot</a>) {
<a name="l00723"></a>00723       <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#a00a947e405793902024e75a3bac3d082">reset</a>(current_cycle);
<a name="l00724"></a>00724    } <span class="keywordflow">else</span> {
<a name="l00725"></a>00725       <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#abeb2cac8f60630517d22dd05baeb836f">set_cycle</a>(current_cycle);
<a name="l00726"></a>00726    }
<a name="l00727"></a>00727 }
<a name="l00728"></a>00728    
<a name="l00729"></a><a class="code" href="classlinear__histogram__logger.html#ab6b400e2fe3ae10bcc1dfefd05cbd362">00729</a> <span class="keywordtype">void</span> <a class="code" href="classlinear__histogram__logger.html#ab6b400e2fe3ae10bcc1dfefd05cbd362">linear_histogram_logger::spill</a>(FILE *fout, <span class="keywordtype">bool</span> <span class="keyword">final</span>) 
<a name="l00730"></a>00730 {
<a name="l00731"></a>00731    std::list&lt;linear_histogram_snapshot&gt;::iterator iter = <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.begin();
<a name="l00732"></a>00732    <span class="keywordflow">for</span> (; iter != <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.end(); iter = <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.erase(iter) ) {
<a name="l00733"></a>00733       fprintf(fout, <span class="stringliteral">&quot;%s%02d-&quot;</span>, <a class="code" href="classlinear__histogram__logger.html#a92a663eb8361a52e74196acb991c25de">m_name</a>.c_str(), (<a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a> &gt;= 0)? <a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a> : 0);
<a name="l00734"></a>00734       iter-&gt;print(fout);
<a name="l00735"></a>00735       fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00736"></a>00736    }
<a name="l00737"></a>00737    assert( <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.empty() );
<a name="l00738"></a>00738    <span class="keywordflow">if</span> (<span class="keyword">final</span>) {
<a name="l00739"></a>00739       fprintf(fout, <span class="stringliteral">&quot;%s%02d-&quot;</span>, <a class="code" href="classlinear__histogram__logger.html#a92a663eb8361a52e74196acb991c25de">m_name</a>.c_str(), (<a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a> &gt;= 0)? <a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a> : 0);
<a name="l00740"></a>00740       <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#a740b73cdcbe2794470e5583eb446c501">print</a>(fout);
<a name="l00741"></a>00741       fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00742"></a>00742    }
<a name="l00743"></a>00743 }
<a name="l00744"></a>00744    
<a name="l00745"></a><a class="code" href="classlinear__histogram__logger.html#a2fde7078f023811c182853001c24a2d3">00745</a> <span class="keywordtype">void</span> <a class="code" href="classlinear__histogram__logger.html#a2fde7078f023811c182853001c24a2d3">linear_histogram_logger::print</a>(FILE *fout)<span class="keyword"> const</span>
<a name="l00746"></a>00746 <span class="keyword"></span>{
<a name="l00747"></a>00747    std::list&lt;linear_histogram_snapshot&gt;::const_iterator iter = <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.begin();
<a name="l00748"></a>00748    <span class="keywordflow">for</span> (; iter != <a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.end(); ++iter) {
<a name="l00749"></a>00749       fprintf(fout, <span class="stringliteral">&quot;%s%02d-&quot;</span>, <a class="code" href="classlinear__histogram__logger.html#a92a663eb8361a52e74196acb991c25de">m_name</a>.c_str(), <a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a>);
<a name="l00750"></a>00750       iter-&gt;print(fout);
<a name="l00751"></a>00751       fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00752"></a>00752    }
<a name="l00753"></a>00753    fprintf(fout, <span class="stringliteral">&quot;%s%02d-&quot;</span>, <a class="code" href="classlinear__histogram__logger.html#a92a663eb8361a52e74196acb991c25de">m_name</a>.c_str(), <a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a>);
<a name="l00754"></a>00754    <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#a740b73cdcbe2794470e5583eb446c501">print</a>(fout);
<a name="l00755"></a>00755    fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00756"></a>00756 }
<a name="l00757"></a>00757 
<a name="l00758"></a><a class="code" href="classlinear__histogram__logger.html#ac2ef96bb9e88ea0e21d46776d2e46af6">00758</a> <span class="keywordtype">void</span> <a class="code" href="classlinear__histogram__logger.html#ac2ef96bb9e88ea0e21d46776d2e46af6">linear_histogram_logger::print_visualizer</a>(FILE *fout)
<a name="l00759"></a>00759 {
<a name="l00760"></a>00760    assert(<a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.empty()); <span class="comment">// don&apos;t support snapshot for now</span>
<a name="l00761"></a>00761    fprintf(fout, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="classlinear__histogram__logger.html#a92a663eb8361a52e74196acb991c25de">m_name</a>.c_str());
<a name="l00762"></a>00762    <span class="keywordflow">if</span> (<a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a> &gt;= 0) {
<a name="l00763"></a>00763       fprintf(fout, <span class="stringliteral">&quot;%02d: &quot;</span>, <a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a>);
<a name="l00764"></a>00764    } <span class="keywordflow">else</span> {
<a name="l00765"></a>00765       fprintf(fout, <span class="stringliteral">&quot;: &quot;</span>);
<a name="l00766"></a>00766    }
<a name="l00767"></a>00767    <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#ae86f9279875064e598412eab4bbe6234">print_visualizer</a>(fout);
<a name="l00768"></a>00768    fprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00769"></a>00769    <span class="keywordflow">if</span> (<a class="code" href="classlinear__histogram__logger.html#a6a82a6e01ca3fc7bd291937e856d99f2">m_reset_at_snap_shot</a>) {
<a name="l00770"></a>00770       <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#a00a947e405793902024e75a3bac3d082">reset</a>(0);
<a name="l00771"></a>00771    } 
<a name="l00772"></a>00772 }
<a name="l00773"></a>00773 
<a name="l00774"></a><a class="code" href="classlinear__histogram__logger.html#a08851f9eea61c58d70f639583dd74ccd">00774</a> <span class="keywordtype">void</span> <a class="code" href="classlinear__histogram__logger.html#ac2ef96bb9e88ea0e21d46776d2e46af6">linear_histogram_logger::print_visualizer</a>(gzFile fout)
<a name="l00775"></a>00775 {
<a name="l00776"></a>00776    assert(<a class="code" href="classlinear__histogram__logger.html#afbe42c2812ce9c67935816c301d0cf6f">m_lin_hist_archive</a>.empty()); <span class="comment">// don&apos;t support snapshot for now</span>
<a name="l00777"></a>00777    gzprintf(fout, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="classlinear__histogram__logger.html#a92a663eb8361a52e74196acb991c25de">m_name</a>.c_str());
<a name="l00778"></a>00778    <span class="keywordflow">if</span> (<a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a> &gt;= 0) {
<a name="l00779"></a>00779       gzprintf(fout, <span class="stringliteral">&quot;%02d: &quot;</span>, <a class="code" href="classlinear__histogram__logger.html#abf60fc652ed07aed68b9254986fb2469">m_id</a>);
<a name="l00780"></a>00780    } <span class="keywordflow">else</span> {
<a name="l00781"></a>00781       gzprintf(fout, <span class="stringliteral">&quot;: &quot;</span>);
<a name="l00782"></a>00782    }
<a name="l00783"></a>00783    <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#ae86f9279875064e598412eab4bbe6234">print_visualizer</a>(fout);
<a name="l00784"></a>00784    gzprintf(fout, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l00785"></a>00785    <span class="keywordflow">if</span> (<a class="code" href="classlinear__histogram__logger.html#a6a82a6e01ca3fc7bd291937e856d99f2">m_reset_at_snap_shot</a>) {
<a name="l00786"></a>00786       <a class="code" href="classlinear__histogram__logger.html#a5eb732f4c83209887ffc7fdee1ddbd50">m_curr_lin_hist</a>.<a class="code" href="classlinear__histogram__snapshot.html#a00a947e405793902024e75a3bac3d082">reset</a>(0);
<a name="l00787"></a>00787    } 
<a name="l00788"></a>00788 }
<a name="l00789"></a>00789 
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 13 May 2014 for GPGPU-Sim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
