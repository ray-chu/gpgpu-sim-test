<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPGPU-Sim: v3.x/src/abstract_hardware_model.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_c934b74ccb33d6b9bfd1e576787940d8.html">v3.x</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_da58ad9beee6988f697f1a76e412a52a.html">src</a>
  </div>
</div>
<div class="contents">
<h1>abstract_hardware_model.h</h1><a href="abstract__hardware__model_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (c) 2009-2011, Tor M. Aamodt, Inderpreet Singh,</span>
<a name="l00002"></a>00002 <span class="comment">// The University of British Columbia</span>
<a name="l00003"></a>00003 <span class="comment">// All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment">// modification, are permitted provided that the following conditions are met:</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Redistributions of source code must retain the above copyright notice, this</span>
<a name="l00009"></a>00009 <span class="comment">// list of conditions and the following disclaimer.</span>
<a name="l00010"></a>00010 <span class="comment">// Redistributions in binary form must reproduce the above copyright notice, this</span>
<a name="l00011"></a>00011 <span class="comment">// list of conditions and the following disclaimer in the documentation and/or</span>
<a name="l00012"></a>00012 <span class="comment">// other materials provided with the distribution.</span>
<a name="l00013"></a>00013 <span class="comment">// Neither the name of The University of British Columbia nor the names of its</span>
<a name="l00014"></a>00014 <span class="comment">// contributors may be used to endorse or promote products derived from this</span>
<a name="l00015"></a>00015 <span class="comment">// software without specific prior written permission.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00017"></a>00017 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span>
<a name="l00018"></a>00018 <span class="comment">// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00019"></a>00019 <span class="comment">// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00020"></a>00020 <span class="comment">// DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span>
<a name="l00021"></a>00021 <span class="comment">// FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<a name="l00022"></a>00022 <span class="comment">// DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
<a name="l00023"></a>00023 <span class="comment">// SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<a name="l00024"></a>00024 <span class="comment">// CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
<a name="l00025"></a>00025 <span class="comment">// OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef ABSTRACT_HARDWARE_MODEL_INCLUDED</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define ABSTRACT_HARDWARE_MODEL_INCLUDED</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">// Forward declarations</span>
<a name="l00033"></a>00033 <span class="keyword">class </span><a class="code" href="classgpgpu__sim.html">gpgpu_sim</a>;
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="classkernel__info__t.html">kernel_info_t</a>;
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58c">00036</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58c">_memory_space_t</a> {
<a name="l00037"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca434a5fd1a70c9dcbe2de96e9c602d265">00037</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca434a5fd1a70c9dcbe2de96e9c602d265">undefined_space</a>=0,
<a name="l00038"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cace58c5048875c8c8dd13a7621631b436">00038</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cace58c5048875c8c8dd13a7621631b436">reg_space</a>,
<a name="l00039"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca133ba819812b7d97221aed15cb830967">00039</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca133ba819812b7d97221aed15cb830967">local_space</a>,
<a name="l00040"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cae27eca92c2d1dbb9adb9010e3fb7991c">00040</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cae27eca92c2d1dbb9adb9010e3fb7991c">shared_space</a>,
<a name="l00041"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca397b6ec5c92b5f013d27f984ce50abea">00041</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca397b6ec5c92b5f013d27f984ce50abea">param_space_unclassified</a>,
<a name="l00042"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca5448bfae061180e01eb15ce5fec7bdcc">00042</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca5448bfae061180e01eb15ce5fec7bdcc">param_space_kernel</a>,  <span class="comment">/* global to all threads in a kernel : read-only */</span>
<a name="l00043"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca2f594286872ffab4d06ed69f65f111ac">00043</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca2f594286872ffab4d06ed69f65f111ac">param_space_local</a>,   <span class="comment">/* local to a thread : read-writable */</span>
<a name="l00044"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca445236c52ac314c07392ad430f155071">00044</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca445236c52ac314c07392ad430f155071">const_space</a>,
<a name="l00045"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cadc0c390c9425eb280596cbf66b5d4d4f">00045</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cadc0c390c9425eb280596cbf66b5d4d4f">tex_space</a>,
<a name="l00046"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca44dbb1b8dbb05c3dc58275d544c2611d">00046</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca44dbb1b8dbb05c3dc58275d544c2611d">surf_space</a>,
<a name="l00047"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cade54d01d283e68c3e9c5b8d75b85e49e">00047</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cade54d01d283e68c3e9c5b8d75b85e49e">global_space</a>,
<a name="l00048"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca17d691d8581a1417ef2062ce6e833be9">00048</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca17d691d8581a1417ef2062ce6e833be9">generic_space</a>,
<a name="l00049"></a><a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca2d3c4e9930862679cc4554b773f5eaa0">00049</a>    <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca2d3c4e9930862679cc4554b773f5eaa0">instruction_space</a>
<a name="l00050"></a>00050 };
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 
<a name="l00053"></a><a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71d">00053</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71d">FuncCache</a>
<a name="l00054"></a>00054 {
<a name="l00055"></a><a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71da8f01984d6a826ff76808769803fd36a9">00055</a>   <a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71da8f01984d6a826ff76808769803fd36a9">FuncCachePreferNone</a> = 0,
<a name="l00056"></a><a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71dad311263efa20dec20c6c9ed7a05cfe87">00056</a>   <a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71dad311263efa20dec20c6c9ed7a05cfe87">FuncCachePreferShared</a> = 1,
<a name="l00057"></a><a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71da4303caae62030c0471c7573303b9b11a">00057</a>   <a class="code" href="abstract__hardware__model_8h.html#aaa0670d4b9ad28c9f6dfc9c3f1aba71da4303caae62030c0471c7573303b9b11a">FuncCachePreferL1</a> = 2
<a name="l00058"></a>00058 };
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00062"></a>00062 <span class="preprocessor"></span>
<a name="l00063"></a>00063 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include &lt;stdio.h&gt;</span>
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">00066</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a>;
<a name="l00067"></a><a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">00067</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a>;
<a name="l00068"></a><a class="code" href="abstract__hardware__model_8h.html#a92b0c0d30c36a95c916f27a55784ca33">00068</a> <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <a class="code" href="abstract__hardware__model_8h.html#a92b0c0d30c36a95c916f27a55784ca33">addr_t</a>;
<a name="l00069"></a>00069 
<a name="l00070"></a>00070 <span class="comment">// the following are operations the timing model can see </span>
<a name="l00071"></a>00071 
<a name="l00072"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4c">00072</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4c">uarch_op_t</a> {
<a name="l00073"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cae76c941d2316666913c673a032deb9ba">00073</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cae76c941d2316666913c673a032deb9ba">NO_OP</a>=-1,
<a name="l00074"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca7fff08fa70887ff338390f06243b8026">00074</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca7fff08fa70887ff338390f06243b8026">ALU_OP</a>=1,
<a name="l00075"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cad2afe8f18d7b86344eb33fed3e78bfff">00075</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cad2afe8f18d7b86344eb33fed3e78bfff">SFU_OP</a>,
<a name="l00076"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cac403f33e6938422c5ad1eead4e7dbc7b">00076</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cac403f33e6938422c5ad1eead4e7dbc7b">ALU_SFU_OP</a>,
<a name="l00077"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca5129cce70aaf0f68261db0c4bf273709">00077</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca5129cce70aaf0f68261db0c4bf273709">LOAD_OP</a>,
<a name="l00078"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cafd107fa80c07dee943713884d06dea31">00078</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cafd107fa80c07dee943713884d06dea31">STORE_OP</a>,
<a name="l00079"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4caa9ecf3f3a181c3ac44388aedd1848340">00079</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4caa9ecf3f3a181c3ac44388aedd1848340">BRANCH_OP</a>,
<a name="l00080"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca998c92693120b6eb67f03e3c9590ed29">00080</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca998c92693120b6eb67f03e3c9590ed29">BARRIER_OP</a>,
<a name="l00081"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cadaf34556ed6315ab53fe011adebe70c9">00081</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cadaf34556ed6315ab53fe011adebe70c9">MEMORY_BARRIER_OP</a>,
<a name="l00082"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca9d2a2009557f4368e50d17bec713fa99">00082</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca9d2a2009557f4368e50d17bec713fa99">CALL_OPS</a>,
<a name="l00083"></a><a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cad16cd2d560e78486fcb6a87d490b0ef4">00083</a>    <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cad16cd2d560e78486fcb6a87d490b0ef4">RET_OPS</a>
<a name="l00084"></a>00084 };
<a name="l00085"></a><a class="code" href="abstract__hardware__model_8h.html#af5d7778e4ff855de5c278e3b93090aac">00085</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4c">uarch_op_t</a> <a class="code" href="abstract__hardware__model_8h.html#af5d7778e4ff855de5c278e3b93090aac">op_type</a>;
<a name="l00086"></a>00086 
<a name="l00087"></a><a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fd">00087</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fd">uarch_operand_type_t</a> {
<a name="l00088"></a><a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda4ce321bf19c8bf9689997d735424614c">00088</a>     <a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda4ce321bf19c8bf9689997d735424614c">UN_OP</a>=-1,
<a name="l00089"></a><a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda040b39cb7f3650d354295568d5fa4398">00089</a>     <a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda040b39cb7f3650d354295568d5fa4398">INT_OP</a>,
<a name="l00090"></a><a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda1dbcb0fd00afe65cabbb315ca9d763d6">00090</a>     <a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda1dbcb0fd00afe65cabbb315ca9d763d6">FP_OP</a>
<a name="l00091"></a>00091 };
<a name="l00092"></a><a class="code" href="abstract__hardware__model_8h.html#a286cfd03dab53b49aa9723361f307bae">00092</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fd">uarch_operand_type_t</a> <a class="code" href="abstract__hardware__model_8h.html#a286cfd03dab53b49aa9723361f307bae">types_of_operands</a>;
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312">00094</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312">special_operations_t</a> {
<a name="l00095"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312acf75d70f82aa1396bdfa86ba8f54c4da">00095</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312acf75d70f82aa1396bdfa86ba8f54c4da">OTHER_OP</a>,
<a name="l00096"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312abfd5ed25cbbfae72852f6b1069bde7c2">00096</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312abfd5ed25cbbfae72852f6b1069bde7c2">INT__OP</a>,
<a name="l00097"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a743916393402a1d168b9fe36f25399dd">00097</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a743916393402a1d168b9fe36f25399dd">INT_MUL24_OP</a>,
<a name="l00098"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a911de02c13639d8d99a20873bac3219f">00098</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a911de02c13639d8d99a20873bac3219f">INT_MUL32_OP</a>,
<a name="l00099"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312ac3bb505c851133428bc4821d20413b70">00099</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312ac3bb505c851133428bc4821d20413b70">INT_MUL_OP</a>,
<a name="l00100"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a568bca6163b949ab40eab99b4bea4752">00100</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a568bca6163b949ab40eab99b4bea4752">INT_DIV_OP</a>,
<a name="l00101"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a505e663b361288c1a8b45d22c4f0b43b">00101</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a505e663b361288c1a8b45d22c4f0b43b">FP_MUL_OP</a>,
<a name="l00102"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312ab1418341c8cfff3134b88b5348a5539e">00102</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312ab1418341c8cfff3134b88b5348a5539e">FP_DIV_OP</a>,
<a name="l00103"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a47ebef5e23340accdb84e22c66bbbeba">00103</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a47ebef5e23340accdb84e22c66bbbeba">FP__OP</a>,
<a name="l00104"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a530c6307fe420a921bc8c7718dd017c5">00104</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a530c6307fe420a921bc8c7718dd017c5">FP_SQRT_OP</a>,
<a name="l00105"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312af1c8fdd317d63755facd75f71564ca6a">00105</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312af1c8fdd317d63755facd75f71564ca6a">FP_LG_OP</a>,
<a name="l00106"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a16ae7f68efebd0715be7fd2f6389b052">00106</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a16ae7f68efebd0715be7fd2f6389b052">FP_SIN_OP</a>,
<a name="l00107"></a><a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a33006a20188b1857b0675ad0fb4d8094">00107</a>     <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312a33006a20188b1857b0675ad0fb4d8094">FP_EXP_OP</a>
<a name="l00108"></a>00108 };
<a name="l00109"></a><a class="code" href="abstract__hardware__model_8h.html#a5afd6dd45c6280dea5bfc1e92690b40f">00109</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312">special_operations_t</a> <a class="code" href="abstract__hardware__model_8h.html#a5afd6dd45c6280dea5bfc1e92690b40f">special_ops</a>; <span class="comment">// Required to identify for the power model</span>
<a name="l00110"></a><a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0">00110</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0">operation_pipeline_t</a> {
<a name="l00111"></a><a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0a2a803cd9c8bcc86f713aae7a0cc994bd">00111</a>     <a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0a2a803cd9c8bcc86f713aae7a0cc994bd">UNKOWN_OP</a>,
<a name="l00112"></a><a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0adeaf133c755d397f693da386cf6dd6dd">00112</a>     <a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0adeaf133c755d397f693da386cf6dd6dd">SP__OP</a>,
<a name="l00113"></a><a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0a9929303242a7117ef9dc3fbeb9d3a2b7">00113</a>     <a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0a9929303242a7117ef9dc3fbeb9d3a2b7">SFU__OP</a>,
<a name="l00114"></a><a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0aca23354825aa411d91bf0b10724b9c42">00114</a>     <a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0aca23354825aa411d91bf0b10724b9c42">MEM__OP</a>
<a name="l00115"></a>00115 };
<a name="l00116"></a><a class="code" href="abstract__hardware__model_8h.html#a4f3e3ecef91256afa0083315272c978e">00116</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0">operation_pipeline_t</a> <a class="code" href="abstract__hardware__model_8h.html#a4f3e3ecef91256afa0083315272c978e">operation_pipeline</a>;
<a name="l00117"></a><a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016">00117</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016">mem_operation_t</a> {
<a name="l00118"></a><a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016a67158123a1459282510c6c2fa4d475b6">00118</a>     <a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016a67158123a1459282510c6c2fa4d475b6">NOT_TEX</a>,
<a name="l00119"></a><a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016a24e799bd38fe08efb4756c63d8f78df9">00119</a>     <a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016a24e799bd38fe08efb4756c63d8f78df9">TEX</a>
<a name="l00120"></a>00120 };
<a name="l00121"></a><a class="code" href="abstract__hardware__model_8h.html#a59d68b1c20933ed4964c8160685c4240">00121</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016">mem_operation_t</a> <a class="code" href="abstract__hardware__model_8h.html#a59d68b1c20933ed4964c8160685c4240">mem_operation</a>;
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549b">00123</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549b">_memory_op_t</a> {
<a name="l00124"></a><a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549baf20ad52c3a748cbcc87edfc33f1a1a53">00124</a>     <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549baf20ad52c3a748cbcc87edfc33f1a1a53">no_memory_op</a> = 0,
<a name="l00125"></a><a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549ba75c129e3900f1380d61f86c21cdcb1b9">00125</a>     <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549ba75c129e3900f1380d61f86c21cdcb1b9">memory_load</a>,
<a name="l00126"></a><a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549bad1c612197bbcb92d93fc4cf46418d50e">00126</a>     <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549bad1c612197bbcb92d93fc4cf46418d50e">memory_store</a>
<a name="l00127"></a>00127 };
<a name="l00128"></a>00128 
<a name="l00129"></a>00129 <span class="preprocessor">#include &lt;bitset&gt;</span>
<a name="l00130"></a>00130 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00131"></a>00131 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00132"></a>00132 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00133"></a>00133 <span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<a name="l00134"></a>00134 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00135"></a>00135 <span class="preprocessor">#include &lt;deque&gt;</span>
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 <span class="preprocessor">#if !defined(__VECTOR_TYPES_H__)</span>
<a name="l00138"></a><a class="code" href="structdim3.html">00138</a> <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structdim3.html">dim3</a> {
<a name="l00139"></a><a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">00139</a>    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a>, <a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a>, <a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a>;
<a name="l00140"></a>00140 };
<a name="l00141"></a>00141 <span class="preprocessor">#endif</span>
<a name="l00142"></a>00142 <span class="preprocessor"></span>
<a name="l00143"></a>00143 <span class="keywordtype">void</span> <a class="code" href="abstract__hardware__model_8h.html#a95a2f24dfc60072d3cb1e4e01a840c01">increment_x_then_y_then_z</a>( <a class="code" href="structdim3.html">dim3</a> &amp;i, <span class="keyword">const</span> <a class="code" href="structdim3.html">dim3</a> &amp;bound);
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classkernel__info__t.html">00145</a> <span class="keyword">class </span><a class="code" href="classkernel__info__t.html">kernel_info_t</a> {
<a name="l00146"></a>00146 <span class="keyword">public</span>:
<a name="l00147"></a>00147 <span class="comment">//   kernel_info_t()</span>
<a name="l00148"></a>00148 <span class="comment">//   {</span>
<a name="l00149"></a>00149 <span class="comment">//      m_valid=false;</span>
<a name="l00150"></a>00150 <span class="comment">//      m_kernel_entry=NULL;</span>
<a name="l00151"></a>00151 <span class="comment">//      m_uid=0;</span>
<a name="l00152"></a>00152 <span class="comment">//      m_num_cores_running=0;</span>
<a name="l00153"></a>00153 <span class="comment">//      m_param_mem=NULL;</span>
<a name="l00154"></a>00154 <span class="comment">//   }</span>
<a name="l00155"></a>00155    <a class="code" href="classkernel__info__t.html#af1f10f57bbace002ed317f93e7e6eee4">kernel_info_t</a>( <a class="code" href="structdim3.html">dim3</a> gridDim, <a class="code" href="structdim3.html">dim3</a> blockDim, <span class="keyword">class</span> <a class="code" href="classfunction__info.html">function_info</a> *<a class="code" href="classkernel__info__t.html#aba475239cb9951ac6db8e03714e1f525">entry</a> );
<a name="l00156"></a>00156    <a class="code" href="classkernel__info__t.html#a52dd1dc51b7d6dc5e45906e866a423c5">~kernel_info_t</a>();
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="classkernel__info__t.html#a8d06cbae35877ab3ea6848db8c551289">00158</a>    <span class="keywordtype">void</span> <a class="code" href="classkernel__info__t.html#a8d06cbae35877ab3ea6848db8c551289">inc_running</a>() { <a class="code" href="classkernel__info__t.html#a2b8921fa8f3d8784b01f98834e13ad8a">m_num_cores_running</a>++; }
<a name="l00159"></a><a class="code" href="classkernel__info__t.html#a51e3396f433565269e7e63d2e8dfb379">00159</a>    <span class="keywordtype">void</span> <a class="code" href="classkernel__info__t.html#a51e3396f433565269e7e63d2e8dfb379">dec_running</a>()
<a name="l00160"></a>00160    {
<a name="l00161"></a>00161        assert( <a class="code" href="classkernel__info__t.html#a2b8921fa8f3d8784b01f98834e13ad8a">m_num_cores_running</a> &gt; 0 );
<a name="l00162"></a>00162        <a class="code" href="classkernel__info__t.html#a2b8921fa8f3d8784b01f98834e13ad8a">m_num_cores_running</a>--; 
<a name="l00163"></a>00163    }
<a name="l00164"></a><a class="code" href="classkernel__info__t.html#a507824a8e1e511fce48aa5d5bdf0094b">00164</a>    <span class="keywordtype">bool</span> <a class="code" href="classkernel__info__t.html#a507824a8e1e511fce48aa5d5bdf0094b">running</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a2b8921fa8f3d8784b01f98834e13ad8a">m_num_cores_running</a>&gt;0; }
<a name="l00165"></a><a class="code" href="classkernel__info__t.html#a1153fcb2e3484c3dba131c7d7384b650">00165</a>    <span class="keywordtype">bool</span> <a class="code" href="classkernel__info__t.html#a1153fcb2e3484c3dba131c7d7384b650">done</a>()<span class="keyword"> const </span>
<a name="l00166"></a>00166 <span class="keyword">   </span>{
<a name="l00167"></a>00167        <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a245a21ded3eebcf3b400a875f2eced46">no_more_ctas_to_run</a>() &amp;&amp; !<a class="code" href="classkernel__info__t.html#a507824a8e1e511fce48aa5d5bdf0094b">running</a>();
<a name="l00168"></a>00168    }
<a name="l00169"></a><a class="code" href="classkernel__info__t.html#aba475239cb9951ac6db8e03714e1f525">00169</a>    <span class="keyword">class </span><a class="code" href="classfunction__info.html">function_info</a> *<a class="code" href="classkernel__info__t.html#aba475239cb9951ac6db8e03714e1f525">entry</a>() { <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a329dd16e0dcd4e413c0ff78105915b25">m_kernel_entry</a>; }
<a name="l00170"></a><a class="code" href="classkernel__info__t.html#aa666c77ad30ab430f7f2785ada283404">00170</a>    <span class="keyword">const</span> <span class="keyword">class </span><a class="code" href="classfunction__info.html">function_info</a> *<a class="code" href="classkernel__info__t.html#aa666c77ad30ab430f7f2785ada283404">entry</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a329dd16e0dcd4e413c0ff78105915b25">m_kernel_entry</a>; }
<a name="l00171"></a>00171 
<a name="l00172"></a><a class="code" href="classkernel__info__t.html#ae8bbbec46d872dfd1998934ef86ddbaa">00172</a>    <span class="keywordtype">size_t</span> <a class="code" href="classkernel__info__t.html#ae8bbbec46d872dfd1998934ef86ddbaa">num_blocks</a>()<span class="keyword"> const</span>
<a name="l00173"></a>00173 <span class="keyword">   </span>{
<a name="l00174"></a>00174       <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a> * <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> * <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a>;
<a name="l00175"></a>00175    }
<a name="l00176"></a>00176 
<a name="l00177"></a><a class="code" href="classkernel__info__t.html#a7764459a63b3dd279dfb07576a1dc718">00177</a>    <span class="keywordtype">size_t</span> <a class="code" href="classkernel__info__t.html#a7764459a63b3dd279dfb07576a1dc718">threads_per_cta</a>()<span class="keyword"> const</span>
<a name="l00178"></a>00178 <span class="keyword">   </span>{
<a name="l00179"></a>00179       <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a> * <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> * <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a>;
<a name="l00180"></a>00180    } 
<a name="l00181"></a>00181 
<a name="l00182"></a><a class="code" href="classkernel__info__t.html#a140b72f5897f773da401aa64545eb955">00182</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#a140b72f5897f773da401aa64545eb955">get_grid_dim</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>; }
<a name="l00183"></a><a class="code" href="classkernel__info__t.html#a165011d89ac167809bf387d57e05a82a">00183</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#a165011d89ac167809bf387d57e05a82a">get_cta_dim</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>; }
<a name="l00184"></a>00184 
<a name="l00185"></a><a class="code" href="classkernel__info__t.html#ad4ec3bb017f08d112a845d443a0e01a4">00185</a>    <span class="keywordtype">void</span> <a class="code" href="classkernel__info__t.html#ad4ec3bb017f08d112a845d443a0e01a4">increment_cta_id</a>() 
<a name="l00186"></a>00186    { 
<a name="l00187"></a>00187       <a class="code" href="abstract__hardware__model_8h.html#a95a2f24dfc60072d3cb1e4e01a840c01">increment_x_then_y_then_z</a>(<a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">m_next_cta</a>,<a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>); 
<a name="l00188"></a>00188       <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a>=0;
<a name="l00189"></a>00189       <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a>=0;
<a name="l00190"></a>00190       <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a>=0;
<a name="l00191"></a>00191    }
<a name="l00192"></a><a class="code" href="classkernel__info__t.html#a8ac7b2abae46ae771f93902fc2c1e58b">00192</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#a8ac7b2abae46ae771f93902fc2c1e58b">get_next_cta_id</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">m_next_cta</a>; }
<a name="l00193"></a><a class="code" href="classkernel__info__t.html#a245a21ded3eebcf3b400a875f2eced46">00193</a>    <span class="keywordtype">bool</span> <a class="code" href="classkernel__info__t.html#a245a21ded3eebcf3b400a875f2eced46">no_more_ctas_to_run</a>()<span class="keyword"> const </span>
<a name="l00194"></a>00194 <span class="keyword">   </span>{
<a name="l00195"></a>00195       <span class="keywordflow">return</span> (<a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">m_next_cta</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a> &gt;= <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a> || <a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">m_next_cta</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> &gt;= <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> || <a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">m_next_cta</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a> &gt;= <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a> );
<a name="l00196"></a>00196    }
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="classkernel__info__t.html#ae78ab93fceade6ec68c5968332bfe08e">00198</a>    <span class="keywordtype">void</span> <a class="code" href="classkernel__info__t.html#ae78ab93fceade6ec68c5968332bfe08e">increment_thread_id</a>() { <a class="code" href="abstract__hardware__model_8h.html#a95a2f24dfc60072d3cb1e4e01a840c01">increment_x_then_y_then_z</a>(<a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>,<a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>); }
<a name="l00199"></a><a class="code" href="classkernel__info__t.html#ad67fd6e37c6daa346277df267f086063">00199</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#ad67fd6e37c6daa346277df267f086063">get_next_thread_id_3d</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>; }
<a name="l00200"></a><a class="code" href="classkernel__info__t.html#af4880466daf23824b6c87a71a56b9bc9">00200</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classkernel__info__t.html#af4880466daf23824b6c87a71a56b9bc9">get_next_thread_id</a>()<span class="keyword"> const </span>
<a name="l00201"></a>00201 <span class="keyword">   </span>{ 
<a name="l00202"></a>00202       <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a> + <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a>*<a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> + <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a>*<a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a>*<a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a>;
<a name="l00203"></a>00203    }
<a name="l00204"></a><a class="code" href="classkernel__info__t.html#a1bbaf1bd6f3e246e15e58e256d911b1a">00204</a>    <span class="keywordtype">bool</span> <a class="code" href="classkernel__info__t.html#a1bbaf1bd6f3e246e15e58e256d911b1a">more_threads_in_cta</a>()<span class="keyword"> const </span>
<a name="l00205"></a>00205 <span class="keyword">   </span>{
<a name="l00206"></a>00206       <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a> &lt; <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#a4856dbf9372e82eb478bf14ec1d2e294">z</a> &amp;&amp; <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> &lt; <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ae87d6f5fc0cc038be953f78f36ba873f">y</a> &amp;&amp; <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a> &lt; <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>.<a class="code" href="structdim3.html#ac94584074d5c15f67c66656859bb24e9">x</a>;
<a name="l00207"></a>00207    }
<a name="l00208"></a><a class="code" href="classkernel__info__t.html#a3ad6a7212d90fa5650eae466002b5607">00208</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classkernel__info__t.html#a3ad6a7212d90fa5650eae466002b5607">get_uid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a11a93720e94d137e2dcf5f40bb43be0c">m_uid</a>; }
<a name="l00209"></a>00209    std::string <a class="code" href="classkernel__info__t.html#aab01e70021fb02628523d80da58e37c6">name</a>() <span class="keyword">const</span>;
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="classkernel__info__t.html#ad8c1b0d97287a2dd259e58547f219a3c">00211</a>    std::list&lt;class ptx_thread_info *&gt; &amp;<a class="code" href="classkernel__info__t.html#ad8c1b0d97287a2dd259e58547f219a3c">active_threads</a>() { <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a9371a282d8a500c713b4a701fc0e081c">m_active_threads</a>; }
<a name="l00212"></a><a class="code" href="classkernel__info__t.html#a28b75bb56fecf6c9e9e5845b1c7af2e2">00212</a>    <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classkernel__info__t.html#a28b75bb56fecf6c9e9e5845b1c7af2e2">get_param_memory</a>() { <span class="keywordflow">return</span> <a class="code" href="classkernel__info__t.html#a9c02d7c9f96cfb2cc2abcb0c5c46d10e">m_param_mem</a>; }
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 <span class="keyword">private</span>:
<a name="l00215"></a>00215    <a class="code" href="classkernel__info__t.html#af1f10f57bbace002ed317f93e7e6eee4">kernel_info_t</a>( <span class="keyword">const</span> <a class="code" href="classkernel__info__t.html">kernel_info_t</a> &amp; ); <span class="comment">// disable copy constructor</span>
<a name="l00216"></a>00216    <span class="keywordtype">void</span> <a class="code" href="classkernel__info__t.html#a465db176f3a1e228fa51e6de8fc5e650">operator=</a>( <span class="keyword">const</span> <a class="code" href="classkernel__info__t.html">kernel_info_t</a> &amp; ); <span class="comment">// disable copy operator</span>
<a name="l00217"></a>00217 
<a name="l00218"></a><a class="code" href="classkernel__info__t.html#a329dd16e0dcd4e413c0ff78105915b25">00218</a>    <span class="keyword">class </span><a class="code" href="classfunction__info.html">function_info</a> *<a class="code" href="classkernel__info__t.html#a329dd16e0dcd4e413c0ff78105915b25">m_kernel_entry</a>;
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classkernel__info__t.html#a11a93720e94d137e2dcf5f40bb43be0c">00220</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classkernel__info__t.html#a11a93720e94d137e2dcf5f40bb43be0c">m_uid</a>;
<a name="l00221"></a><a class="code" href="classkernel__info__t.html#aedd02dc8c1f7edaa7e81274bfaa208a3">00221</a>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classkernel__info__t.html#aedd02dc8c1f7edaa7e81274bfaa208a3">m_next_uid</a>;
<a name="l00222"></a>00222 
<a name="l00223"></a><a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">00223</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#a51c34cc07155cd0fd3f284de5d67ef3f">m_grid_dim</a>;
<a name="l00224"></a><a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">00224</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#ac91a12f03252ed60884dac4db84c8870">m_block_dim</a>;
<a name="l00225"></a><a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">00225</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#a5b0a2dcbc065cc0032dcc45029d1723e">m_next_cta</a>;
<a name="l00226"></a><a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">00226</a>    <a class="code" href="structdim3.html">dim3</a> <a class="code" href="classkernel__info__t.html#af879384f9c1c5dca251dbc5fd3a2b1ab">m_next_tid</a>;
<a name="l00227"></a>00227 
<a name="l00228"></a><a class="code" href="classkernel__info__t.html#a2b8921fa8f3d8784b01f98834e13ad8a">00228</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classkernel__info__t.html#a2b8921fa8f3d8784b01f98834e13ad8a">m_num_cores_running</a>;
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="classkernel__info__t.html#a9371a282d8a500c713b4a701fc0e081c">00230</a>    std::list&lt;class ptx_thread_info *&gt; <a class="code" href="classkernel__info__t.html#a9371a282d8a500c713b4a701fc0e081c">m_active_threads</a>;
<a name="l00231"></a><a class="code" href="classkernel__info__t.html#a9c02d7c9f96cfb2cc2abcb0c5c46d10e">00231</a>    <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classkernel__info__t.html#a9c02d7c9f96cfb2cc2abcb0c5c46d10e">m_param_mem</a>;
<a name="l00232"></a>00232 };
<a name="l00233"></a>00233 
<a name="l00234"></a><a class="code" href="structcore__config.html">00234</a> <span class="keyword">struct </span><a class="code" href="structcore__config.html">core_config</a> {
<a name="l00235"></a><a class="code" href="structcore__config.html#a8bc3bb6619f79d3eeba189ca875e537f">00235</a>     <a class="code" href="structcore__config.html#a8bc3bb6619f79d3eeba189ca875e537f">core_config</a>() 
<a name="l00236"></a>00236     { 
<a name="l00237"></a>00237         <a class="code" href="structcore__config.html#af1a0f9486a3c1c60998c27d50006c29e">m_valid</a> = <span class="keyword">false</span>; 
<a name="l00238"></a>00238         <a class="code" href="structcore__config.html#ada2fe1020c39b13e72d0db044114fc3d">num_shmem_bank</a>=16; 
<a name="l00239"></a>00239         <a class="code" href="structcore__config.html#a12b4a7342e537763373bb433ec06d172">shmem_limited_broadcast</a> = <span class="keyword">false</span>; 
<a name="l00240"></a>00240         <a class="code" href="structcore__config.html#abba0d3e8b4cb58024da0ef71448053ab">gpgpu_shmem_sizeDefault</a>=(unsigned)-1;
<a name="l00241"></a>00241         <a class="code" href="structcore__config.html#ac05dfc6d3a7ac2f83fbc14c44cbc771b">gpgpu_shmem_sizePrefL1</a>=(unsigned)-1;
<a name="l00242"></a>00242         <a class="code" href="structcore__config.html#a8f5b04edfbc0a6ff2bd4c1400aaca87f">gpgpu_shmem_sizePrefShared</a>=(unsigned)-1;
<a name="l00243"></a>00243     }
<a name="l00244"></a>00244     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="structcore__config.html#a5a7d738d5eb90bdd1181abd2c1ec9b83">init</a>() = 0;
<a name="l00245"></a>00245 
<a name="l00246"></a><a class="code" href="structcore__config.html#af1a0f9486a3c1c60998c27d50006c29e">00246</a>     <span class="keywordtype">bool</span> <a class="code" href="structcore__config.html#af1a0f9486a3c1c60998c27d50006c29e">m_valid</a>;
<a name="l00247"></a><a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">00247</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249     <span class="comment">// off-chip memory request architecture parameters</span>
<a name="l00250"></a><a class="code" href="structcore__config.html#a5cafd27aa1736962554e4b78b7a00e48">00250</a>     <span class="keywordtype">int</span> <a class="code" href="structcore__config.html#a5cafd27aa1736962554e4b78b7a00e48">gpgpu_coalesce_arch</a>;
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="comment">// shared memory bank conflict checking parameters</span>
<a name="l00253"></a><a class="code" href="structcore__config.html#a12b4a7342e537763373bb433ec06d172">00253</a>     <span class="keywordtype">bool</span> <a class="code" href="structcore__config.html#a12b4a7342e537763373bb433ec06d172">shmem_limited_broadcast</a>;
<a name="l00254"></a><a class="code" href="structcore__config.html#ae27bb00c8e630457c4f7729210d70cf6">00254</a>     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> <a class="code" href="structcore__config.html#ae27bb00c8e630457c4f7729210d70cf6">WORD_SIZE</a>=4;
<a name="l00255"></a><a class="code" href="structcore__config.html#ada2fe1020c39b13e72d0db044114fc3d">00255</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#ada2fe1020c39b13e72d0db044114fc3d">num_shmem_bank</a>;
<a name="l00256"></a><a class="code" href="structcore__config.html#ac627114d5c7a78d674b73b6b8fc32942">00256</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#ac627114d5c7a78d674b73b6b8fc32942">shmem_bank_func</a>(<a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> addr)<span class="keyword"> const</span>
<a name="l00257"></a>00257 <span class="keyword">    </span>{
<a name="l00258"></a>00258         <span class="keywordflow">return</span> ((addr/<a class="code" href="structcore__config.html#ae27bb00c8e630457c4f7729210d70cf6">WORD_SIZE</a>) % <a class="code" href="structcore__config.html#ada2fe1020c39b13e72d0db044114fc3d">num_shmem_bank</a>);
<a name="l00259"></a>00259     }
<a name="l00260"></a><a class="code" href="structcore__config.html#a51c9f7f1e6339b28812ea86f46be189e">00260</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#a51c9f7f1e6339b28812ea86f46be189e">mem_warp_parts</a>;  
<a name="l00261"></a><a class="code" href="structcore__config.html#a09a8494f780facd68295a6a869c14bf7">00261</a>     <span class="keyword">mutable</span> <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#a09a8494f780facd68295a6a869c14bf7">gpgpu_shmem_size</a>;
<a name="l00262"></a><a class="code" href="structcore__config.html#abba0d3e8b4cb58024da0ef71448053ab">00262</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#abba0d3e8b4cb58024da0ef71448053ab">gpgpu_shmem_sizeDefault</a>;
<a name="l00263"></a><a class="code" href="structcore__config.html#ac05dfc6d3a7ac2f83fbc14c44cbc771b">00263</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#ac05dfc6d3a7ac2f83fbc14c44cbc771b">gpgpu_shmem_sizePrefL1</a>;
<a name="l00264"></a><a class="code" href="structcore__config.html#a8f5b04edfbc0a6ff2bd4c1400aaca87f">00264</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#a8f5b04edfbc0a6ff2bd4c1400aaca87f">gpgpu_shmem_sizePrefShared</a>;
<a name="l00265"></a>00265 
<a name="l00266"></a>00266     <span class="comment">// texture and constant cache line sizes (used to determine number of memory accesses)</span>
<a name="l00267"></a><a class="code" href="structcore__config.html#a4d2bc94fff719a8d0a2dcc87d623cf9e">00267</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#a4d2bc94fff719a8d0a2dcc87d623cf9e">gpgpu_cache_texl1_linesize</a>;
<a name="l00268"></a><a class="code" href="structcore__config.html#a76fc5bd6403c6bfae81e3a910f599c7f">00268</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#a76fc5bd6403c6bfae81e3a910f599c7f">gpgpu_cache_constl1_linesize</a>;
<a name="l00269"></a>00269 
<a name="l00270"></a><a class="code" href="structcore__config.html#ae8305e4e7de680859ebde57631b23f40">00270</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structcore__config.html#ae8305e4e7de680859ebde57631b23f40">gpgpu_max_insn_issue_per_warp</a>;
<a name="l00271"></a>00271 };
<a name="l00272"></a>00272 
<a name="l00273"></a>00273 <span class="comment">// bounded stack that implements simt reconvergence using pdom mechanism from MICRO&apos;07 paper</span>
<a name="l00274"></a><a class="code" href="abstract__hardware__model_8h.html#a0829cea3c164e1dc81e4d56a0ba2d529">00274</a> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="abstract__hardware__model_8h.html#a0829cea3c164e1dc81e4d56a0ba2d529">MAX_WARP_SIZE</a> = 32;
<a name="l00275"></a><a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">00275</a> <span class="keyword">typedef</span> std::bitset&lt;MAX_WARP_SIZE&gt; <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a>;
<a name="l00276"></a>00276 <span class="preprocessor">#define MAX_WARP_SIZE_SIMT_STACK  MAX_WARP_SIZE</span>
<a name="l00277"></a><a class="code" href="abstract__hardware__model_8h.html#a72368cab3b31c68552473dbc5f4bd1bf">00277</a> <span class="preprocessor"></span><span class="keyword">typedef</span> std::bitset&lt;MAX_WARP_SIZE_SIMT_STACK&gt; <a class="code" href="abstract__hardware__model_8h.html#a72368cab3b31c68552473dbc5f4bd1bf">simt_mask_t</a>;
<a name="l00278"></a><a class="code" href="abstract__hardware__model_8h.html#ab3a344dc29d16050c72c6ba619d64ef7">00278</a> <span class="keyword">typedef</span> std::vector&lt;address_type&gt; <a class="code" href="abstract__hardware__model_8h.html#ab3a344dc29d16050c72c6ba619d64ef7">addr_vector_t</a>;
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="classsimt__stack.html">00280</a> <span class="keyword">class </span><a class="code" href="classsimt__stack.html">simt_stack</a> {
<a name="l00281"></a>00281 <span class="keyword">public</span>:
<a name="l00282"></a>00282     <a class="code" href="classsimt__stack.html#a799c24511fc227ebaa82ef48e291e75f">simt_stack</a>( <span class="keywordtype">unsigned</span> wid,  <span class="keywordtype">unsigned</span> warpSize);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <span class="keywordtype">void</span> <a class="code" href="classsimt__stack.html#a7dbef33d6da7f2e4bfec8594a361b72a">reset</a>();
<a name="l00285"></a>00285     <span class="keywordtype">void</span> <a class="code" href="classsimt__stack.html#a325140cfa69adf965d360790aa3412b9">launch</a>( <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> start_pc, <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a72368cab3b31c68552473dbc5f4bd1bf">simt_mask_t</a> &amp;active_mask );
<a name="l00286"></a>00286     <span class="keywordtype">void</span> <a class="code" href="classsimt__stack.html#a432ed9f3415e9f27cfc9b94d5c7ae8e9">update</a>( <a class="code" href="abstract__hardware__model_8h.html#a72368cab3b31c68552473dbc5f4bd1bf">simt_mask_t</a> &amp;thread_done, <a class="code" href="abstract__hardware__model_8h.html#ab3a344dc29d16050c72c6ba619d64ef7">addr_vector_t</a> &amp;next_pc, <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> recvg_pc, <a class="code" href="abstract__hardware__model_8h.html#af5d7778e4ff855de5c278e3b93090aac">op_type</a> next_inst_op );
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a72368cab3b31c68552473dbc5f4bd1bf">simt_mask_t</a> &amp;<a class="code" href="classsimt__stack.html#ad5a9d6dda7565fbdbf62c7ebf6acdde2">get_active_mask</a>() <span class="keyword">const</span>;
<a name="l00289"></a>00289     <span class="keywordtype">void</span>     <a class="code" href="classsimt__stack.html#a6dc20c4969bbd3578891c2bb09db5081">get_pdom_stack_top_info</a>( <span class="keywordtype">unsigned</span> *pc, <span class="keywordtype">unsigned</span> *rpc ) <span class="keyword">const</span>;
<a name="l00290"></a>00290     <span class="keywordtype">unsigned</span> <a class="code" href="classsimt__stack.html#a87d24bb340f8cac549e772f5a858c567">get_rp</a>() <span class="keyword">const</span>;
<a name="l00291"></a>00291     <span class="keywordtype">void</span>     <a class="code" href="classsimt__stack.html#ab440907717ca0af046404d08c2e60fac">print</a>(FILE*fp) <span class="keyword">const</span>;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293 <span class="keyword">protected</span>:
<a name="l00294"></a><a class="code" href="classsimt__stack.html#a9781f22277df39476fdede729c63414b">00294</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classsimt__stack.html#a9781f22277df39476fdede729c63414b">m_warp_id</a>;
<a name="l00295"></a><a class="code" href="classsimt__stack.html#a4266f24b1e4a54cf251ae7e96f571d0c">00295</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classsimt__stack.html#a4266f24b1e4a54cf251ae7e96f571d0c">m_warp_size</a>;
<a name="l00296"></a>00296 
<a name="l00297"></a><a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430">00297</a>     <span class="keyword">enum</span> <a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430">stack_entry_type</a> {
<a name="l00298"></a><a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430a760f15b47cbbb64211b001c5a1917d38">00298</a>         <a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430a760f15b47cbbb64211b001c5a1917d38">STACK_ENTRY_TYPE_NORMAL</a> = 0,
<a name="l00299"></a><a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430a1ee53aa6545d0238b9d5a035aad6b474">00299</a>         <a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430a1ee53aa6545d0238b9d5a035aad6b474">STACK_ENTRY_TYPE_CALL</a>
<a name="l00300"></a>00300     };
<a name="l00301"></a>00301 
<a name="l00302"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html">00302</a>     <span class="keyword">struct </span><a class="code" href="structsimt__stack_1_1simt__stack__entry.html">simt_stack_entry</a> {
<a name="l00303"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#abb183ce4a477ad33b1af43e880272304">00303</a>         <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#abb183ce4a477ad33b1af43e880272304">m_pc</a>;
<a name="l00304"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a9325b865b3a6f272e3b9083f3f96c445">00304</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a9325b865b3a6f272e3b9083f3f96c445">m_calldepth</a>;
<a name="l00305"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a818f4024082ca049f0cbe7f59059b0a7">00305</a>         <a class="code" href="abstract__hardware__model_8h.html#a72368cab3b31c68552473dbc5f4bd1bf">simt_mask_t</a> <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a818f4024082ca049f0cbe7f59059b0a7">m_active_mask</a>;
<a name="l00306"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a4b1792f85666522fffa6f459e7b61b56">00306</a>         <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a4b1792f85666522fffa6f459e7b61b56">m_recvg_pc</a>;
<a name="l00307"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#acfe8c0099d80914cfb9ad20f9497a835">00307</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#acfe8c0099d80914cfb9ad20f9497a835">m_branch_div_cycle</a>;
<a name="l00308"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#abd4686149b1fe1df31dbba27e51a9f6f">00308</a>         <a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430">stack_entry_type</a> <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#abd4686149b1fe1df31dbba27e51a9f6f">m_type</a>;
<a name="l00309"></a><a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a40549a3a83e8f44d7d226731f6c2ed63">00309</a>         <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a40549a3a83e8f44d7d226731f6c2ed63">simt_stack_entry</a>() :
<a name="l00310"></a>00310             <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#abb183ce4a477ad33b1af43e880272304">m_pc</a>(-1), <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a9325b865b3a6f272e3b9083f3f96c445">m_calldepth</a>(0), <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a818f4024082ca049f0cbe7f59059b0a7">m_active_mask</a>(), <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#a4b1792f85666522fffa6f459e7b61b56">m_recvg_pc</a>(-1), <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#acfe8c0099d80914cfb9ad20f9497a835">m_branch_div_cycle</a>(0), <a class="code" href="structsimt__stack_1_1simt__stack__entry.html#abd4686149b1fe1df31dbba27e51a9f6f">m_type</a>(<a class="code" href="classsimt__stack.html#a37aa0ad73236f13246543040a1f31430a760f15b47cbbb64211b001c5a1917d38">STACK_ENTRY_TYPE_NORMAL</a>) { };
<a name="l00311"></a>00311     };
<a name="l00312"></a>00312 
<a name="l00313"></a><a class="code" href="classsimt__stack.html#a82163762d011a8ed90d1ef2d5d06db25">00313</a>     std::deque&lt;simt_stack_entry&gt; <a class="code" href="classsimt__stack.html#a82163762d011a8ed90d1ef2d5d06db25">m_stack</a>;
<a name="l00314"></a>00314 };
<a name="l00315"></a>00315 
<a name="l00316"></a>00316 <span class="preprocessor">#define GLOBAL_HEAP_START 0x80000000</span>
<a name="l00317"></a>00317 <span class="preprocessor"></span>   <span class="comment">// start allocating from this address (lower values used for allocating globals in .ptx file)</span>
<a name="l00318"></a>00318 <span class="preprocessor">#define SHARED_MEM_SIZE_MAX (64*1024)</span>
<a name="l00319"></a>00319 <span class="preprocessor"></span><span class="preprocessor">#define LOCAL_MEM_SIZE_MAX (8*1024)</span>
<a name="l00320"></a>00320 <span class="preprocessor"></span><span class="preprocessor">#define MAX_STREAMING_MULTIPROCESSORS 64</span>
<a name="l00321"></a>00321 <span class="preprocessor"></span><span class="preprocessor">#define MAX_THREAD_PER_SM 2048</span>
<a name="l00322"></a>00322 <span class="preprocessor"></span><span class="preprocessor">#define TOTAL_LOCAL_MEM_PER_SM (MAX_THREAD_PER_SM*LOCAL_MEM_SIZE_MAX)</span>
<a name="l00323"></a>00323 <span class="preprocessor"></span><span class="preprocessor">#define TOTAL_SHARED_MEM (MAX_STREAMING_MULTIPROCESSORS*SHARED_MEM_SIZE_MAX)</span>
<a name="l00324"></a>00324 <span class="preprocessor"></span><span class="preprocessor">#define TOTAL_LOCAL_MEM (MAX_STREAMING_MULTIPROCESSORS*MAX_THREAD_PER_SM*LOCAL_MEM_SIZE_MAX)</span>
<a name="l00325"></a>00325 <span class="preprocessor"></span><span class="preprocessor">#define SHARED_GENERIC_START (GLOBAL_HEAP_START-TOTAL_SHARED_MEM)</span>
<a name="l00326"></a>00326 <span class="preprocessor"></span><span class="preprocessor">#define LOCAL_GENERIC_START (SHARED_GENERIC_START-TOTAL_LOCAL_MEM)</span>
<a name="l00327"></a>00327 <span class="preprocessor"></span><span class="preprocessor">#define STATIC_ALLOC_LIMIT (GLOBAL_HEAP_START - (TOTAL_LOCAL_MEM+TOTAL_SHARED_MEM))</span>
<a name="l00328"></a>00328 <span class="preprocessor"></span>
<a name="l00329"></a>00329 <span class="preprocessor">#if !defined(__CUDA_RUNTIME_API_H__)</span>
<a name="l00330"></a>00330 <span class="preprocessor"></span>
<a name="l00331"></a><a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119">00331</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119">cudaChannelFormatKind</a> {
<a name="l00332"></a><a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119a943e8b95cd113175ac55c56d90b40ae0">00332</a>    <a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119a943e8b95cd113175ac55c56d90b40ae0">cudaChannelFormatKindSigned</a>,
<a name="l00333"></a><a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119a240d73fa2dc05cbaa58f093f169ab3d4">00333</a>    <a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119a240d73fa2dc05cbaa58f093f169ab3d4">cudaChannelFormatKindUnsigned</a>,
<a name="l00334"></a><a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119a1107be31913affb6b3b49d8a6e795ee0">00334</a>    <a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119a1107be31913affb6b3b49d8a6e795ee0">cudaChannelFormatKindFloat</a>
<a name="l00335"></a>00335 };
<a name="l00336"></a>00336 
<a name="l00337"></a><a class="code" href="structcudaChannelFormatDesc.html">00337</a> <span class="keyword">struct </span><a class="code" href="structcudaChannelFormatDesc.html">cudaChannelFormatDesc</a> {
<a name="l00338"></a><a class="code" href="structcudaChannelFormatDesc.html#a70dede802100e2acd9f334326e9d7926">00338</a>    <span class="keywordtype">int</span>                        <a class="code" href="structcudaChannelFormatDesc.html#a70dede802100e2acd9f334326e9d7926">x</a>;
<a name="l00339"></a><a class="code" href="structcudaChannelFormatDesc.html#a6570793c6567d0c704e8e8943ccaec43">00339</a>    <span class="keywordtype">int</span>                        <a class="code" href="structcudaChannelFormatDesc.html#a6570793c6567d0c704e8e8943ccaec43">y</a>;
<a name="l00340"></a><a class="code" href="structcudaChannelFormatDesc.html#ae371d37d940d2397139b0a3b7302f51a">00340</a>    <span class="keywordtype">int</span>                        <a class="code" href="structcudaChannelFormatDesc.html#ae371d37d940d2397139b0a3b7302f51a">z</a>;
<a name="l00341"></a><a class="code" href="structcudaChannelFormatDesc.html#a06089c5a407a2cbd6ea05e5a39b19d69">00341</a>    <span class="keywordtype">int</span>                        <a class="code" href="structcudaChannelFormatDesc.html#a06089c5a407a2cbd6ea05e5a39b19d69">w</a>;
<a name="l00342"></a><a class="code" href="structcudaChannelFormatDesc.html#a7d561d361936688eeae79c3184698278">00342</a>    <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a8085eac5cb54b4228f3619a60f235119">cudaChannelFormatKind</a> <a class="code" href="structcudaChannelFormatDesc.html#a7d561d361936688eeae79c3184698278">f</a>;
<a name="l00343"></a>00343 };
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="structcudaArray.html">00345</a> <span class="keyword">struct </span><a class="code" href="structcudaArray.html">cudaArray</a> {
<a name="l00346"></a><a class="code" href="structcudaArray.html#ab5b85ab45f0494856995987756d8c25f">00346</a>    <span class="keywordtype">void</span> *<a class="code" href="structcudaArray.html#ab5b85ab45f0494856995987756d8c25f">devPtr</a>;
<a name="l00347"></a><a class="code" href="structcudaArray.html#a1f79cf1367c9c8958d435e0970771ccb">00347</a>    <span class="keywordtype">int</span> <a class="code" href="structcudaArray.html#a1f79cf1367c9c8958d435e0970771ccb">devPtr32</a>;
<a name="l00348"></a><a class="code" href="structcudaArray.html#ae0c894d6366539846b6551c2f2a3d155">00348</a>    <span class="keyword">struct </span><a class="code" href="structcudaChannelFormatDesc.html">cudaChannelFormatDesc</a> <a class="code" href="structcudaArray.html#ae0c894d6366539846b6551c2f2a3d155">desc</a>;
<a name="l00349"></a><a class="code" href="structcudaArray.html#a3b6311a43ce03da889a70982b1349891">00349</a>    <span class="keywordtype">int</span> <a class="code" href="structcudaArray.html#a3b6311a43ce03da889a70982b1349891">width</a>;
<a name="l00350"></a><a class="code" href="structcudaArray.html#a3699186b6e89d647a43fc8db19e8eacd">00350</a>    <span class="keywordtype">int</span> <a class="code" href="structcudaArray.html#a3699186b6e89d647a43fc8db19e8eacd">height</a>;
<a name="l00351"></a><a class="code" href="structcudaArray.html#a5e96f03e3f130f53298ee9bd2921272f">00351</a>    <span class="keywordtype">int</span> <a class="code" href="structcudaArray.html#a5e96f03e3f130f53298ee9bd2921272f">size</a>; <span class="comment">//in bytes</span>
<a name="l00352"></a><a class="code" href="structcudaArray.html#afafeb43c4acd12c776ce7a19fa2a3394">00352</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structcudaArray.html#afafeb43c4acd12c776ce7a19fa2a3394">dimensions</a>;
<a name="l00353"></a>00353 };
<a name="l00354"></a>00354 
<a name="l00355"></a><a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351">00355</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351">cudaTextureAddressMode</a> {
<a name="l00356"></a><a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351ab1cc30b475318b336b3cdf44aecba1d4">00356</a>    <a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351ab1cc30b475318b336b3cdf44aecba1d4">cudaAddressModeWrap</a>,
<a name="l00357"></a><a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351aaef7d489e6752d5e132f45d2d48c7b19">00357</a>    <a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351aaef7d489e6752d5e132f45d2d48c7b19">cudaAddressModeClamp</a>
<a name="l00358"></a>00358 };
<a name="l00359"></a>00359 
<a name="l00360"></a><a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5">00360</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5">cudaTextureFilterMode</a> {
<a name="l00361"></a><a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5ae07c310cc7ac5c14106fbb8dc7a27d11">00361</a>    <a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5ae07c310cc7ac5c14106fbb8dc7a27d11">cudaFilterModePoint</a>,
<a name="l00362"></a><a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5a5bab9bd668bf4bb2e16f7919f5e0caa0">00362</a>    <a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5a5bab9bd668bf4bb2e16f7919f5e0caa0">cudaFilterModeLinear</a>
<a name="l00363"></a>00363 };
<a name="l00364"></a>00364 
<a name="l00365"></a><a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43d">00365</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43d">cudaTextureReadMode</a> {
<a name="l00366"></a><a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43dacbd5c83aac88965511fc33675738ba63">00366</a>    <a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43dacbd5c83aac88965511fc33675738ba63">cudaReadModeElementType</a>,
<a name="l00367"></a><a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43da4f26f2afcd260d6e19df4cea6d87d697">00367</a>    <a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43da4f26f2afcd260d6e19df4cea6d87d697">cudaReadModeNormalizedFloat</a>
<a name="l00368"></a>00368 };
<a name="l00369"></a>00369 
<a name="l00370"></a><a class="code" href="structtextureReference.html">00370</a> <span class="keyword">struct </span><a class="code" href="structtextureReference.html">textureReference</a> {
<a name="l00371"></a><a class="code" href="structtextureReference.html#a7d2636ed684123f1eb107a7b96f5aee7">00371</a>    <span class="keywordtype">int</span>                           <a class="code" href="structtextureReference.html#a7d2636ed684123f1eb107a7b96f5aee7">normalized</a>;
<a name="l00372"></a><a class="code" href="structtextureReference.html#a3c864a737142c3c62350c03cea63aa1c">00372</a>    <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#aee4adb3d1b062cf05374de09325a82d5">cudaTextureFilterMode</a>    <a class="code" href="structtextureReference.html#a3c864a737142c3c62350c03cea63aa1c">filterMode</a>;
<a name="l00373"></a><a class="code" href="structtextureReference.html#ade42b21b7e4fa51ceb22a63361bc9234">00373</a>    <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a03e1bbd2c491d809279c7a47e2cd0351">cudaTextureAddressMode</a>   <a class="code" href="structtextureReference.html#ade42b21b7e4fa51ceb22a63361bc9234">addressMode</a>[3];
<a name="l00374"></a><a class="code" href="structtextureReference.html#af5088889b774c5854b2858c3906bebd5">00374</a>    <span class="keyword">struct </span><a class="code" href="structcudaChannelFormatDesc.html">cudaChannelFormatDesc</a>  <a class="code" href="structtextureReference.html#af5088889b774c5854b2858c3906bebd5">channelDesc</a>;
<a name="l00375"></a>00375 };
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 <span class="preprocessor">#endif</span>
<a name="l00378"></a>00378 <span class="preprocessor"></span>
<a name="l00379"></a>00379 <span class="comment">// Struct that record other attributes in the textureReference declaration </span>
<a name="l00380"></a>00380 <span class="comment">// - These attributes are passed thru __cudaRegisterTexture()</span>
<a name="l00381"></a><a class="code" href="structtextureReferenceAttr.html">00381</a> <span class="keyword">struct </span><a class="code" href="structtextureReferenceAttr.html">textureReferenceAttr</a> {
<a name="l00382"></a><a class="code" href="structtextureReferenceAttr.html#afe4b2b21038870f5346a36e2fe640db7">00382</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structtextureReference.html">textureReference</a> *<a class="code" href="structtextureReferenceAttr.html#afe4b2b21038870f5346a36e2fe640db7">m_texref</a>; 
<a name="l00383"></a><a class="code" href="structtextureReferenceAttr.html#a182c4cb0c5dc8d7420a6f504e94d3733">00383</a>     <span class="keywordtype">int</span> <a class="code" href="structtextureReferenceAttr.html#a182c4cb0c5dc8d7420a6f504e94d3733">m_dim</a>; 
<a name="l00384"></a><a class="code" href="structtextureReferenceAttr.html#ad71b2766bd0b8741c102b5b0e80e44bd">00384</a>     <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43d">cudaTextureReadMode</a> <a class="code" href="structtextureReferenceAttr.html#ad71b2766bd0b8741c102b5b0e80e44bd">m_readmode</a>; 
<a name="l00385"></a><a class="code" href="structtextureReferenceAttr.html#ac2c1052ec28d188f9cea38a5f8538215">00385</a>     <span class="keywordtype">int</span> <a class="code" href="structtextureReferenceAttr.html#ac2c1052ec28d188f9cea38a5f8538215">m_ext</a>; 
<a name="l00386"></a><a class="code" href="structtextureReferenceAttr.html#aa8a9e12bde147e95105d736df76447ff">00386</a>     <a class="code" href="structtextureReferenceAttr.html#aa8a9e12bde147e95105d736df76447ff">textureReferenceAttr</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a> *texref, 
<a name="l00387"></a>00387                          <span class="keywordtype">int</span> dim, 
<a name="l00388"></a>00388                          <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#ad9266d02be93809558036ec4f3d5f43d">cudaTextureReadMode</a> readmode, 
<a name="l00389"></a>00389                          <span class="keywordtype">int</span> ext)
<a name="l00390"></a>00390     : <a class="code" href="structtextureReferenceAttr.html#afe4b2b21038870f5346a36e2fe640db7">m_texref</a>(texref), <a class="code" href="structtextureReferenceAttr.html#a182c4cb0c5dc8d7420a6f504e94d3733">m_dim</a>(dim), <a class="code" href="structtextureReferenceAttr.html#ad71b2766bd0b8741c102b5b0e80e44bd">m_readmode</a>(readmode), <a class="code" href="structtextureReferenceAttr.html#ac2c1052ec28d188f9cea38a5f8538215">m_ext</a>(ext) 
<a name="l00391"></a>00391     {  }
<a name="l00392"></a>00392 };
<a name="l00393"></a>00393 
<a name="l00394"></a><a class="code" href="classgpgpu__functional__sim__config.html">00394</a> <span class="keyword">class </span><a class="code" href="classgpgpu__functional__sim__config.html">gpgpu_functional_sim_config</a> 
<a name="l00395"></a>00395 {
<a name="l00396"></a>00396 <span class="keyword">public</span>:
<a name="l00397"></a>00397     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__functional__sim__config.html#a5dac785808ea4d33c8326fcd68411a41">reg_options</a>(<span class="keyword">class</span> <a class="code" href="classOptionParser.html">OptionParser</a> * opp);
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__functional__sim__config.html#a5e7f615bd02c0ba4fb3bfe02ff90b209">ptx_set_tex_cache_linesize</a>(<span class="keywordtype">unsigned</span> linesize);
<a name="l00400"></a>00400 
<a name="l00401"></a><a class="code" href="classgpgpu__functional__sim__config.html#a2422592698874a693a95e061aad936e0">00401</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__functional__sim__config.html#a2422592698874a693a95e061aad936e0">get_forced_max_capability</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a51ccd3dc67d75132234007a513a06746">m_ptx_force_max_capability</a>; }
<a name="l00402"></a><a class="code" href="classgpgpu__functional__sim__config.html#a4cc56e9b319b255e3448afb2be34e773">00402</a>     <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__functional__sim__config.html#a4cc56e9b319b255e3448afb2be34e773">convert_to_ptxplus</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a207a5022ecac90960c8059bbbf7be4fe">m_ptx_convert_to_ptxplus</a>; }
<a name="l00403"></a><a class="code" href="classgpgpu__functional__sim__config.html#aebb7da81426d74d41cc43b5bb844edca">00403</a>     <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__functional__sim__config.html#aebb7da81426d74d41cc43b5bb844edca">use_cuobjdump</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a7ee2bc95afb1a62e32b1c7607154aeea">m_ptx_use_cuobjdump</a>; }
<a name="l00404"></a><a class="code" href="classgpgpu__functional__sim__config.html#a61145ddad8fb3f8ffb928912bd15f9fe">00404</a>     <span class="keywordtype">bool</span> <a class="code" href="classgpgpu__functional__sim__config.html#a61145ddad8fb3f8ffb928912bd15f9fe">experimental_lib_support</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a069353873f2fe0647b41116d9aa33342">m_experimental_lib_support</a>; }
<a name="l00405"></a>00405 
<a name="l00406"></a><a class="code" href="classgpgpu__functional__sim__config.html#a6fc79e26daaf405b77f684ff6aad1a4b">00406</a>     <span class="keywordtype">int</span>         <a class="code" href="classgpgpu__functional__sim__config.html#a6fc79e26daaf405b77f684ff6aad1a4b">get_ptx_inst_debug_to_file</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#afbb5a6f608ba5a3be747b6db4f3e0b80">g_ptx_inst_debug_to_file</a>; }
<a name="l00407"></a><a class="code" href="classgpgpu__functional__sim__config.html#ab9b088ed98fdfbaa7aa4550545911800">00407</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classgpgpu__functional__sim__config.html#ab9b088ed98fdfbaa7aa4550545911800">get_ptx_inst_debug_file</a>()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a2bde71a9c5ab1fbc204cfb05c15189cd">g_ptx_inst_debug_file</a>; }
<a name="l00408"></a><a class="code" href="classgpgpu__functional__sim__config.html#a5cc8bac696fb899e2097de29e7536edf">00408</a>     <span class="keywordtype">int</span>         <a class="code" href="classgpgpu__functional__sim__config.html#a5cc8bac696fb899e2097de29e7536edf">get_ptx_inst_debug_thread_uid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a0df67d477cb0b54eb319f61d518d5008">g_ptx_inst_debug_thread_uid</a>; }
<a name="l00409"></a><a class="code" href="classgpgpu__functional__sim__config.html#a8b82f9774752cc505fff2a671e915b69">00409</a>     <span class="keywordtype">unsigned</span>    <a class="code" href="classgpgpu__functional__sim__config.html#a8b82f9774752cc505fff2a671e915b69">get_texcache_linesize</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__functional__sim__config.html#a230097a657ab7be31147ae7bce2e30ea">m_texcache_linesize</a>; }
<a name="l00410"></a>00410 
<a name="l00411"></a>00411 <span class="keyword">private</span>:
<a name="l00412"></a>00412     <span class="comment">// PTX options</span>
<a name="l00413"></a><a class="code" href="classgpgpu__functional__sim__config.html#a207a5022ecac90960c8059bbbf7be4fe">00413</a>     <span class="keywordtype">int</span> <a class="code" href="classgpgpu__functional__sim__config.html#a207a5022ecac90960c8059bbbf7be4fe">m_ptx_convert_to_ptxplus</a>;
<a name="l00414"></a><a class="code" href="classgpgpu__functional__sim__config.html#a7ee2bc95afb1a62e32b1c7607154aeea">00414</a>     <span class="keywordtype">int</span> <a class="code" href="classgpgpu__functional__sim__config.html#a7ee2bc95afb1a62e32b1c7607154aeea">m_ptx_use_cuobjdump</a>;
<a name="l00415"></a><a class="code" href="classgpgpu__functional__sim__config.html#a069353873f2fe0647b41116d9aa33342">00415</a>     <span class="keywordtype">int</span> <a class="code" href="classgpgpu__functional__sim__config.html#a069353873f2fe0647b41116d9aa33342">m_experimental_lib_support</a>;
<a name="l00416"></a><a class="code" href="classgpgpu__functional__sim__config.html#a51ccd3dc67d75132234007a513a06746">00416</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__functional__sim__config.html#a51ccd3dc67d75132234007a513a06746">m_ptx_force_max_capability</a>;
<a name="l00417"></a>00417 
<a name="l00418"></a><a class="code" href="classgpgpu__functional__sim__config.html#afbb5a6f608ba5a3be747b6db4f3e0b80">00418</a>     <span class="keywordtype">int</span>   <a class="code" href="classgpgpu__functional__sim__config.html#afbb5a6f608ba5a3be747b6db4f3e0b80">g_ptx_inst_debug_to_file</a>;
<a name="l00419"></a><a class="code" href="classgpgpu__functional__sim__config.html#a2bde71a9c5ab1fbc204cfb05c15189cd">00419</a>     <span class="keywordtype">char</span>* <a class="code" href="classgpgpu__functional__sim__config.html#a2bde71a9c5ab1fbc204cfb05c15189cd">g_ptx_inst_debug_file</a>;
<a name="l00420"></a><a class="code" href="classgpgpu__functional__sim__config.html#a0df67d477cb0b54eb319f61d518d5008">00420</a>     <span class="keywordtype">int</span>   <a class="code" href="classgpgpu__functional__sim__config.html#a0df67d477cb0b54eb319f61d518d5008">g_ptx_inst_debug_thread_uid</a>;
<a name="l00421"></a>00421 
<a name="l00422"></a><a class="code" href="classgpgpu__functional__sim__config.html#a230097a657ab7be31147ae7bce2e30ea">00422</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classgpgpu__functional__sim__config.html#a230097a657ab7be31147ae7bce2e30ea">m_texcache_linesize</a>;
<a name="l00423"></a>00423 };
<a name="l00424"></a>00424 
<a name="l00425"></a><a class="code" href="classgpgpu__t.html">00425</a> <span class="keyword">class </span><a class="code" href="classgpgpu__t.html">gpgpu_t</a> {
<a name="l00426"></a>00426 <span class="keyword">public</span>:
<a name="l00427"></a>00427     <a class="code" href="classgpgpu__t.html#a2f8ec14d3c76337d6648a1de71e0769f">gpgpu_t</a>( <span class="keyword">const</span> <a class="code" href="classgpgpu__functional__sim__config.html">gpgpu_functional_sim_config</a> &amp;config );
<a name="l00428"></a>00428     <span class="keywordtype">void</span>* <a class="code" href="classgpgpu__t.html#a7368bb34f0afb9fa1894e1535014df46">gpu_malloc</a>( <span class="keywordtype">size_t</span> size );
<a name="l00429"></a>00429     <span class="keywordtype">void</span>* <a class="code" href="classgpgpu__t.html#afc3165b3869cdc121c35e960dc188a33">gpu_mallocarray</a>( <span class="keywordtype">size_t</span> count );
<a name="l00430"></a>00430     <span class="keywordtype">void</span>  <a class="code" href="classgpgpu__t.html#afb966ed5a0e66c6bf935a3ebcfc31e3a">gpu_memset</a>( <span class="keywordtype">size_t</span> dst_start_addr, <span class="keywordtype">int</span> c, <span class="keywordtype">size_t</span> count );
<a name="l00431"></a>00431     <span class="keywordtype">void</span>  <a class="code" href="classgpgpu__t.html#aaf7b32025107b1c53e8939f39d5a8980">memcpy_to_gpu</a>( <span class="keywordtype">size_t</span> dst_start_addr, <span class="keyword">const</span> <span class="keywordtype">void</span> *src, <span class="keywordtype">size_t</span> count );
<a name="l00432"></a>00432     <span class="keywordtype">void</span>  <a class="code" href="classgpgpu__t.html#a2e9eb56ef7444781e563a3d836557245">memcpy_from_gpu</a>( <span class="keywordtype">void</span> *dst, <span class="keywordtype">size_t</span> src_start_addr, <span class="keywordtype">size_t</span> count );
<a name="l00433"></a>00433     <span class="keywordtype">void</span>  <a class="code" href="classgpgpu__t.html#a118cf20fa0de5d8584929f18693eadc0">memcpy_gpu_to_gpu</a>( <span class="keywordtype">size_t</span> dst, <span class="keywordtype">size_t</span> src, <span class="keywordtype">size_t</span> count );
<a name="l00434"></a>00434     
<a name="l00435"></a><a class="code" href="classgpgpu__t.html#aa56aff940ed9da19725dcf5616629626">00435</a>     <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classgpgpu__t.html#aa56aff940ed9da19725dcf5616629626">get_global_memory</a>() { <span class="keywordflow">return</span> <a class="code" href="classgpgpu__t.html#aeb3e6544de57025726c7a64838eefb92">m_global_mem</a>; }
<a name="l00436"></a><a class="code" href="classgpgpu__t.html#a3f19e0353c8aa35a9f682652901a31e3">00436</a>     <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classgpgpu__t.html#a3f19e0353c8aa35a9f682652901a31e3">get_tex_memory</a>() { <span class="keywordflow">return</span> <a class="code" href="classgpgpu__t.html#a8b51c91f172536d8111577c1b33f3a07">m_tex_mem</a>; }
<a name="l00437"></a><a class="code" href="classgpgpu__t.html#ac31170aa5630dcd63c46ae4e6da2e70a">00437</a>     <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classgpgpu__t.html#ac31170aa5630dcd63c46ae4e6da2e70a">get_surf_memory</a>() { <span class="keywordflow">return</span> <a class="code" href="classgpgpu__t.html#a212a381b66c2d0c8a58e6b7b5884bf53">m_surf_mem</a>; }
<a name="l00438"></a>00438 
<a name="l00439"></a>00439     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__t.html#addc8bd641c1e61968b4350c2348f7364">gpgpu_ptx_sim_bindTextureToArray</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a>* texref, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structcudaArray.html">cudaArray</a>* array);
<a name="l00440"></a>00440     <span class="keywordtype">void</span> <a class="code" href="classgpgpu__t.html#a0aa48a96902fd21c17b5f84b7d067f6d">gpgpu_ptx_sim_bindNameToTexture</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a>* texref, <span class="keywordtype">int</span> dim, <span class="keywordtype">int</span> readmode, <span class="keywordtype">int</span> ext);
<a name="l00441"></a>00441     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classgpgpu__t.html#a3d2576ab4063c0c349df07b8d8fc83b5">gpgpu_ptx_sim_findNamefromTexture</a>(<span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a>* texref);
<a name="l00442"></a>00442 
<a name="l00443"></a><a class="code" href="classgpgpu__t.html#a73920547c697d229269ef178baa4744d">00443</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structtextureReference.html">textureReference</a>* <a class="code" href="classgpgpu__t.html#a73920547c697d229269ef178baa4744d">get_texref</a>(<span class="keyword">const</span> std::string &amp;texname)<span class="keyword"> const</span>
<a name="l00444"></a>00444 <span class="keyword">    </span>{
<a name="l00445"></a>00445         std::map&lt;std::string, const struct textureReference*&gt;::const_iterator t=<a class="code" href="classgpgpu__t.html#abc90968cc6f162de0664aec703e488cd">m_NameToTextureRef</a>.find(texname);
<a name="l00446"></a>00446         assert( t != <a class="code" href="classgpgpu__t.html#abc90968cc6f162de0664aec703e488cd">m_NameToTextureRef</a>.end() );
<a name="l00447"></a>00447         <span class="keywordflow">return</span> t-&gt;second;
<a name="l00448"></a>00448     }
<a name="l00449"></a><a class="code" href="classgpgpu__t.html#a2f9ec8499769c78d18ea5012f9ee7076">00449</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structcudaArray.html">cudaArray</a>* <a class="code" href="classgpgpu__t.html#a2f9ec8499769c78d18ea5012f9ee7076">get_texarray</a>( <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a> *texref )<span class="keyword"> const</span>
<a name="l00450"></a>00450 <span class="keyword">    </span>{
<a name="l00451"></a>00451         std::map&lt;const struct textureReference*,const struct cudaArray*&gt;::const_iterator t=<a class="code" href="classgpgpu__t.html#ad20904c628b8adbec3b95900899f9e48">m_TextureRefToCudaArray</a>.find(texref);
<a name="l00452"></a>00452         assert(t != <a class="code" href="classgpgpu__t.html#ad20904c628b8adbec3b95900899f9e48">m_TextureRefToCudaArray</a>.end());
<a name="l00453"></a>00453         <span class="keywordflow">return</span> t-&gt;second;
<a name="l00454"></a>00454     }
<a name="l00455"></a><a class="code" href="classgpgpu__t.html#a6297c45dc05c73905d76b4b2cdd0f0a4">00455</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structtextureInfo.html">textureInfo</a>* <a class="code" href="classgpgpu__t.html#a6297c45dc05c73905d76b4b2cdd0f0a4">get_texinfo</a>( <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a> *texref )<span class="keyword"> const</span>
<a name="l00456"></a>00456 <span class="keyword">    </span>{
<a name="l00457"></a>00457         std::map&lt;const struct textureReference*, const struct textureInfo*&gt;::const_iterator t=<a class="code" href="classgpgpu__t.html#acc05fa8d18e3af59fd25b6441c1e9dc6">m_TextureRefToTexureInfo</a>.find(texref);
<a name="l00458"></a>00458         assert(t != <a class="code" href="classgpgpu__t.html#acc05fa8d18e3af59fd25b6441c1e9dc6">m_TextureRefToTexureInfo</a>.end());
<a name="l00459"></a>00459         <span class="keywordflow">return</span> t-&gt;second;
<a name="l00460"></a>00460     }
<a name="l00461"></a>00461 
<a name="l00462"></a><a class="code" href="classgpgpu__t.html#aa36b78f5cb3db67fc9158a4a0f64d8ba">00462</a>     <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structtextureReferenceAttr.html">textureReferenceAttr</a>* <a class="code" href="classgpgpu__t.html#aa36b78f5cb3db67fc9158a4a0f64d8ba">get_texattr</a>( <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structtextureReference.html">textureReference</a> *texref )<span class="keyword"> const</span>
<a name="l00463"></a>00463 <span class="keyword">    </span>{
<a name="l00464"></a>00464         std::map&lt;const struct textureReference*, const struct textureReferenceAttr*&gt;::const_iterator t=<a class="code" href="classgpgpu__t.html#abd87cafeaa3905c26f7427b1347cfe80">m_TextureRefToAttribute</a>.find(texref);
<a name="l00465"></a>00465         assert(t != <a class="code" href="classgpgpu__t.html#abd87cafeaa3905c26f7427b1347cfe80">m_TextureRefToAttribute</a>.end());
<a name="l00466"></a>00466         <span class="keywordflow">return</span> t-&gt;second;
<a name="l00467"></a>00467     }
<a name="l00468"></a>00468 
<a name="l00469"></a><a class="code" href="classgpgpu__t.html#ac333cdffb2f67255b45312f3f48bd0d0">00469</a>     <span class="keyword">const</span> <a class="code" href="classgpgpu__functional__sim__config.html">gpgpu_functional_sim_config</a> &amp;<a class="code" href="classgpgpu__t.html#ac333cdffb2f67255b45312f3f48bd0d0">get_config</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgpgpu__t.html#acd9c6cfe9d6588be3720772ec624d0ee">m_function_model_config</a>; }
<a name="l00470"></a><a class="code" href="classgpgpu__t.html#a74f97b4ee5d1b7cffa80405318f0268d">00470</a>     FILE* <a class="code" href="classgpgpu__t.html#a74f97b4ee5d1b7cffa80405318f0268d">get_ptx_inst_debug_file</a>() { <span class="keywordflow">return</span> <a class="code" href="classgpgpu__t.html#af861dba452ba378e5045e65763ad510b">ptx_inst_debug_file</a>; }
<a name="l00471"></a>00471 
<a name="l00472"></a>00472 <span class="keyword">protected</span>:
<a name="l00473"></a><a class="code" href="classgpgpu__t.html#acd9c6cfe9d6588be3720772ec624d0ee">00473</a>     <span class="keyword">const</span> <a class="code" href="classgpgpu__functional__sim__config.html">gpgpu_functional_sim_config</a> &amp;<a class="code" href="classgpgpu__t.html#acd9c6cfe9d6588be3720772ec624d0ee">m_function_model_config</a>;
<a name="l00474"></a><a class="code" href="classgpgpu__t.html#af861dba452ba378e5045e65763ad510b">00474</a>     FILE* <a class="code" href="classgpgpu__t.html#af861dba452ba378e5045e65763ad510b">ptx_inst_debug_file</a>;
<a name="l00475"></a>00475 
<a name="l00476"></a><a class="code" href="classgpgpu__t.html#aeb3e6544de57025726c7a64838eefb92">00476</a>     <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classgpgpu__t.html#aeb3e6544de57025726c7a64838eefb92">m_global_mem</a>;
<a name="l00477"></a><a class="code" href="classgpgpu__t.html#a8b51c91f172536d8111577c1b33f3a07">00477</a>     <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classgpgpu__t.html#a8b51c91f172536d8111577c1b33f3a07">m_tex_mem</a>;
<a name="l00478"></a><a class="code" href="classgpgpu__t.html#a212a381b66c2d0c8a58e6b7b5884bf53">00478</a>     <span class="keyword">class </span><a class="code" href="classmemory__space.html">memory_space</a> *<a class="code" href="classgpgpu__t.html#a212a381b66c2d0c8a58e6b7b5884bf53">m_surf_mem</a>;
<a name="l00479"></a>00479     
<a name="l00480"></a><a class="code" href="classgpgpu__t.html#a6f167b98567e16740d6bbec64d6f5ebe">00480</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classgpgpu__t.html#a6f167b98567e16740d6bbec64d6f5ebe">m_dev_malloc</a>;
<a name="l00481"></a>00481     
<a name="l00482"></a><a class="code" href="classgpgpu__t.html#abc90968cc6f162de0664aec703e488cd">00482</a>     std::map&lt;std::string, const struct textureReference*&gt; <a class="code" href="classgpgpu__t.html#abc90968cc6f162de0664aec703e488cd">m_NameToTextureRef</a>;
<a name="l00483"></a><a class="code" href="classgpgpu__t.html#ad20904c628b8adbec3b95900899f9e48">00483</a>     std::map&lt;const struct textureReference*,const struct cudaArray*&gt; <a class="code" href="classgpgpu__t.html#ad20904c628b8adbec3b95900899f9e48">m_TextureRefToCudaArray</a>;
<a name="l00484"></a><a class="code" href="classgpgpu__t.html#acc05fa8d18e3af59fd25b6441c1e9dc6">00484</a>     std::map&lt;const struct textureReference*, const struct textureInfo*&gt; <a class="code" href="classgpgpu__t.html#acc05fa8d18e3af59fd25b6441c1e9dc6">m_TextureRefToTexureInfo</a>;
<a name="l00485"></a><a class="code" href="classgpgpu__t.html#abd87cafeaa3905c26f7427b1347cfe80">00485</a>     std::map&lt;const struct textureReference*, const struct textureReferenceAttr*&gt; <a class="code" href="classgpgpu__t.html#abd87cafeaa3905c26f7427b1347cfe80">m_TextureRefToAttribute</a>;
<a name="l00486"></a>00486 };
<a name="l00487"></a>00487 
<a name="l00488"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html">00488</a> <span class="keyword">struct </span><a class="code" href="structgpgpu__ptx__sim__kernel__info.html">gpgpu_ptx_sim_kernel_info</a> 
<a name="l00489"></a>00489 {
<a name="l00490"></a>00490    <span class="comment">// Holds properties of the kernel (Kernel&apos;s resource use). </span>
<a name="l00491"></a>00491    <span class="comment">// These will be set to zero if a ptxinfo file is not present.</span>
<a name="l00492"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html#aab62bb921de24a3adfa9fd180bc501b9">00492</a>    <span class="keywordtype">int</span> <a class="code" href="structgpgpu__ptx__sim__kernel__info.html#aab62bb921de24a3adfa9fd180bc501b9">lmem</a>;
<a name="l00493"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a50e63c7e0a55da4c388bc97a960b6887">00493</a>    <span class="keywordtype">int</span> <a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a50e63c7e0a55da4c388bc97a960b6887">smem</a>;
<a name="l00494"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a65e2a92b82213c4db7279bbd122e1c04">00494</a>    <span class="keywordtype">int</span> <a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a65e2a92b82213c4db7279bbd122e1c04">cmem</a>;
<a name="l00495"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a631651e9205d73a33c6df4678a5c7453">00495</a>    <span class="keywordtype">int</span> <a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a631651e9205d73a33c6df4678a5c7453">regs</a>;
<a name="l00496"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html#a92beb0fe3d8ed1a9ec256fd1915f32ff">00496</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classptx__version.html">ptx_version</a>;
<a name="l00497"></a><a class="code" href="structgpgpu__ptx__sim__kernel__info.html#ac79b46dc62d64d6f36341fd407e979d2">00497</a>    <span class="keywordtype">unsigned</span> <a class="code" href="structgpgpu__ptx__sim__kernel__info.html#ac79b46dc62d64d6f36341fd407e979d2">sm_target</a>;
<a name="l00498"></a>00498 };
<a name="l00499"></a>00499 
<a name="l00500"></a><a class="code" href="structgpgpu__ptx__sim__arg.html">00500</a> <span class="keyword">struct </span><a class="code" href="structgpgpu__ptx__sim__arg.html">gpgpu_ptx_sim_arg</a> {
<a name="l00501"></a><a class="code" href="structgpgpu__ptx__sim__arg.html#ac01d4b187894fe82f2bcd57622699fae">00501</a>    <a class="code" href="structgpgpu__ptx__sim__arg.html#ac01d4b187894fe82f2bcd57622699fae">gpgpu_ptx_sim_arg</a>() { <a class="code" href="structgpgpu__ptx__sim__arg.html#a6e0e4837ebb297980acaadb26d1e74a7">m_start</a>=NULL; }
<a name="l00502"></a><a class="code" href="structgpgpu__ptx__sim__arg.html#aff2b8b7999ca351a87bd9f18ba7eef33">00502</a>    <a class="code" href="structgpgpu__ptx__sim__arg.html#ac01d4b187894fe82f2bcd57622699fae">gpgpu_ptx_sim_arg</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *arg, <span class="keywordtype">size_t</span> size, <span class="keywordtype">size_t</span> offset)
<a name="l00503"></a>00503    {
<a name="l00504"></a>00504       <a class="code" href="structgpgpu__ptx__sim__arg.html#a6e0e4837ebb297980acaadb26d1e74a7">m_start</a>=arg;
<a name="l00505"></a>00505       <a class="code" href="structgpgpu__ptx__sim__arg.html#ac341052373ac06d2b8433092b9239150">m_nbytes</a>=size;
<a name="l00506"></a>00506       <a class="code" href="structgpgpu__ptx__sim__arg.html#a402bf8bf22111e3aa03058b9f6fc6699">m_offset</a>=offset;
<a name="l00507"></a>00507    }
<a name="l00508"></a><a class="code" href="structgpgpu__ptx__sim__arg.html#a6e0e4837ebb297980acaadb26d1e74a7">00508</a>    <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="structgpgpu__ptx__sim__arg.html#a6e0e4837ebb297980acaadb26d1e74a7">m_start</a>;
<a name="l00509"></a><a class="code" href="structgpgpu__ptx__sim__arg.html#ac341052373ac06d2b8433092b9239150">00509</a>    <span class="keywordtype">size_t</span> <a class="code" href="structgpgpu__ptx__sim__arg.html#ac341052373ac06d2b8433092b9239150">m_nbytes</a>;
<a name="l00510"></a><a class="code" href="structgpgpu__ptx__sim__arg.html#a402bf8bf22111e3aa03058b9f6fc6699">00510</a>    <span class="keywordtype">size_t</span> <a class="code" href="structgpgpu__ptx__sim__arg.html#a402bf8bf22111e3aa03058b9f6fc6699">m_offset</a>;
<a name="l00511"></a>00511 };
<a name="l00512"></a>00512 
<a name="l00513"></a><a class="code" href="abstract__hardware__model_8h.html#a400ae36727fbd6ac693cb1adc886e3d4">00513</a> <span class="keyword">typedef</span> std::list&lt;gpgpu_ptx_sim_arg&gt; <a class="code" href="abstract__hardware__model_8h.html#a400ae36727fbd6ac693cb1adc886e3d4">gpgpu_ptx_sim_arg_list_t</a>;
<a name="l00514"></a>00514 
<a name="l00515"></a><a class="code" href="classmemory__space__t.html">00515</a> <span class="keyword">class </span><a class="code" href="classmemory__space__t.html">memory_space_t</a> {
<a name="l00516"></a>00516 <span class="keyword">public</span>:
<a name="l00517"></a><a class="code" href="classmemory__space__t.html#aeefdc6591aa727cdfa8f5ad956c920e0">00517</a>    <a class="code" href="classmemory__space__t.html#aeefdc6591aa727cdfa8f5ad956c920e0">memory_space_t</a>() { <a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> = <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca434a5fd1a70c9dcbe2de96e9c602d265">undefined_space</a>; <a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a>=0; }
<a name="l00518"></a><a class="code" href="classmemory__space__t.html#a188c87f6ad738ba236a449202897ba71">00518</a>    <a class="code" href="classmemory__space__t.html#a188c87f6ad738ba236a449202897ba71">memory_space_t</a>( <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58c">_memory_space_t</a> &amp;from ) { <a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> = from; <a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a> = 0; }
<a name="l00519"></a><a class="code" href="classmemory__space__t.html#a0a5fd3a6a57585dea5e143d94860617c">00519</a>    <span class="keywordtype">bool</span> <a class="code" href="classmemory__space__t.html#a0a5fd3a6a57585dea5e143d94860617c">operator==</a>( <span class="keyword">const</span> <a class="code" href="classmemory__space__t.html">memory_space_t</a> &amp;x )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a> == x.<a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a>) &amp;&amp; (<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> == x.<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a>); }
<a name="l00520"></a><a class="code" href="classmemory__space__t.html#a3da3b77a6f00d773f53d209e8a36635e">00520</a>    <span class="keywordtype">bool</span> <a class="code" href="classmemory__space__t.html#a3da3b77a6f00d773f53d209e8a36635e">operator!=</a>( <span class="keyword">const</span> <a class="code" href="classmemory__space__t.html">memory_space_t</a> &amp;x )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(*<span class="keyword">this</span> == x); }
<a name="l00521"></a><a class="code" href="classmemory__space__t.html#a9ac90cfdce2c0e62856975db4408c260">00521</a>    <span class="keywordtype">bool</span> <a class="code" href="classmemory__space__t.html#a9ac90cfdce2c0e62856975db4408c260">operator&lt;</a>( <span class="keyword">const</span> <a class="code" href="classmemory__space__t.html">memory_space_t</a> &amp;x )<span class="keyword"> const </span>
<a name="l00522"></a>00522 <span class="keyword">   </span>{ 
<a name="l00523"></a>00523       <span class="keywordflow">if</span>(<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> &lt; x.<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a>)
<a name="l00524"></a>00524          <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00525"></a>00525       <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> &gt; x.<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a>)
<a name="l00526"></a>00526          <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00527"></a>00527       <span class="keywordflow">else</span> <span class="keywordflow">if</span>( <a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a> &lt; x.<a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a> )
<a name="l00528"></a>00528          <span class="keywordflow">return</span> <span class="keyword">true</span>; 
<a name="l00529"></a>00529       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00530"></a>00530    }
<a name="l00531"></a><a class="code" href="classmemory__space__t.html#a9aa8b2fabc2c16d1bfda090f27ab479c">00531</a>    <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58c">_memory_space_t</a> <a class="code" href="classmemory__space__t.html#a9aa8b2fabc2c16d1bfda090f27ab479c">get_type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a>; }
<a name="l00532"></a><a class="code" href="classmemory__space__t.html#aa198b12db7037fc087fb3eb7c51a5e11">00532</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classmemory__space__t.html#aa198b12db7037fc087fb3eb7c51a5e11">get_bank</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a>; }
<a name="l00533"></a><a class="code" href="classmemory__space__t.html#a9a4893deaa630a34a737a774fe3c737f">00533</a>    <span class="keywordtype">void</span> <a class="code" href="classmemory__space__t.html#a9a4893deaa630a34a737a774fe3c737f">set_bank</a>( <span class="keywordtype">unsigned</span> b ) { <a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a> = b; }
<a name="l00534"></a><a class="code" href="classmemory__space__t.html#a8f21e98f3028f18e38dd43cfb3c201e7">00534</a>    <span class="keywordtype">bool</span> <a class="code" href="classmemory__space__t.html#a8f21e98f3028f18e38dd43cfb3c201e7">is_const</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> == <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca445236c52ac314c07392ad430f155071">const_space</a>) || (<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> == <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca5448bfae061180e01eb15ce5fec7bdcc">param_space_kernel</a>); }
<a name="l00535"></a><a class="code" href="classmemory__space__t.html#a3923696fe191c32d4444d57295713783">00535</a>    <span class="keywordtype">bool</span> <a class="code" href="classmemory__space__t.html#a3923696fe191c32d4444d57295713783">is_local</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> == <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca133ba819812b7d97221aed15cb830967">local_space</a>) || (<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> == <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58ca2f594286872ffab4d06ed69f65f111ac">param_space_local</a>); }
<a name="l00536"></a><a class="code" href="classmemory__space__t.html#ae3b156e97c9a1bb07df539952824db06">00536</a>    <span class="keywordtype">bool</span> <a class="code" href="classmemory__space__t.html#ae3b156e97c9a1bb07df539952824db06">is_global</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a> == <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58cade54d01d283e68c3e9c5b8d75b85e49e">global_space</a>); }
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 <span class="keyword">private</span>:
<a name="l00539"></a><a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">00539</a>    <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a1ad2169aaa8924fcc552447f38a5b58c">_memory_space_t</a> <a class="code" href="classmemory__space__t.html#a6bf101df4e44091f854bb1c069562c71">m_type</a>;
<a name="l00540"></a><a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">00540</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classmemory__space__t.html#a344fb2af83505d8b7f7d80824addf387">m_bank</a>; <span class="comment">// n in &quot;.const[n]&quot;; note .const == .const[0] (see PTX 2.1 manual, sec. 5.1.3)</span>
<a name="l00541"></a>00541 };
<a name="l00542"></a>00542 
<a name="l00543"></a><a class="code" href="abstract__hardware__model_8h.html#a449ad7e16ff6d326b814992d0252baa7">00543</a> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="abstract__hardware__model_8h.html#a449ad7e16ff6d326b814992d0252baa7">MAX_MEMORY_ACCESS_SIZE</a> = 128;
<a name="l00544"></a><a class="code" href="abstract__hardware__model_8h.html#a9285eb6e01f5d8c3daa5f2b3ee13c3de">00544</a> <span class="keyword">typedef</span> std::bitset&lt;MAX_MEMORY_ACCESS_SIZE&gt; <a class="code" href="abstract__hardware__model_8h.html#a9285eb6e01f5d8c3daa5f2b3ee13c3de">mem_access_byte_mask_t</a>;
<a name="l00545"></a>00545 <span class="preprocessor">#define NO_PARTIAL_WRITE (mem_access_byte_mask_t())</span>
<a name="l00546"></a>00546 <span class="preprocessor"></span>
<a name="l00547"></a>00547 <span class="preprocessor">#define MEM_ACCESS_TYPE_TUP_DEF \</span>
<a name="l00548"></a>00548 <span class="preprocessor">MA_TUP_BEGIN( mem_access_type ) \</span>
<a name="l00549"></a>00549 <span class="preprocessor">   MA_TUP( GLOBAL_ACC_R ), \</span>
<a name="l00550"></a>00550 <span class="preprocessor">   MA_TUP( LOCAL_ACC_R ), \</span>
<a name="l00551"></a>00551 <span class="preprocessor">   MA_TUP( CONST_ACC_R ), \</span>
<a name="l00552"></a>00552 <span class="preprocessor">   MA_TUP( TEXTURE_ACC_R ), \</span>
<a name="l00553"></a>00553 <span class="preprocessor">   MA_TUP( GLOBAL_ACC_W ), \</span>
<a name="l00554"></a>00554 <span class="preprocessor">   MA_TUP( LOCAL_ACC_W ), \</span>
<a name="l00555"></a>00555 <span class="preprocessor">   MA_TUP( L1_WRBK_ACC ), \</span>
<a name="l00556"></a>00556 <span class="preprocessor">   MA_TUP( L2_WRBK_ACC ), \</span>
<a name="l00557"></a>00557 <span class="preprocessor">   MA_TUP( INST_ACC_R ), \</span>
<a name="l00558"></a>00558 <span class="preprocessor">   MA_TUP( L1_WR_ALLOC_R ), \</span>
<a name="l00559"></a>00559 <span class="preprocessor">   MA_TUP( L2_WR_ALLOC_R ), \</span>
<a name="l00560"></a>00560 <span class="preprocessor">   MA_TUP( NUM_MEM_ACCESS_TYPE ) \</span>
<a name="l00561"></a>00561 <span class="preprocessor">MA_TUP_END( mem_access_type ) </span>
<a name="l00562"></a>00562 <span class="preprocessor"></span>
<a name="l00563"></a>00563 <span class="preprocessor">#define MA_TUP_BEGIN(X) enum X {</span>
<a name="l00564"></a>00564 <span class="preprocessor"></span><span class="preprocessor">#define MA_TUP(X) X</span>
<a name="l00565"></a>00565 <span class="preprocessor"></span><span class="preprocessor">#define MA_TUP_END(X) };</span>
<a name="l00566"></a>00566 <span class="preprocessor"></span>MEM_ACCESS_TYPE_TUP_DEF
<a name="l00567"></a>00567 <span class="preprocessor">#undef MA_TUP_BEGIN</span>
<a name="l00568"></a>00568 <span class="preprocessor"></span><span class="preprocessor">#undef MA_TUP</span>
<a name="l00569"></a>00569 <span class="preprocessor"></span><span class="preprocessor">#undef MA_TUP_END</span>
<a name="l00570"></a>00570 <span class="preprocessor"></span>
<a name="l00571"></a>00571 <span class="keyword">const</span> <span class="keywordtype">char</span> * <a class="code" href="abstract__hardware__model_8cc.html#a348b063d2fd73a9ae19ee24e09c2f463">mem_access_type_str</a>(<span class="keyword">enum</span> mem_access_type access_type); 
<a name="l00572"></a>00572 
<a name="l00573"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072">00573</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072">cache_operator_type</a> {
<a name="l00574"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a499eb549cbf6cae61c01a7dbfbfcd886">00574</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a499eb549cbf6cae61c01a7dbfbfcd886">CACHE_UNDEFINED</a>, 
<a name="l00575"></a>00575 
<a name="l00576"></a>00576     <span class="comment">// loads</span>
<a name="l00577"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a7f6f5a50dde8b6fceeee8e7cdd2b5684">00577</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a7f6f5a50dde8b6fceeee8e7cdd2b5684">CACHE_ALL</a>,          <span class="comment">// .ca</span>
<a name="l00578"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a33cc09777888a5646ac3f56318f578ba">00578</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a33cc09777888a5646ac3f56318f578ba">CACHE_LAST_USE</a>,     <span class="comment">// .lu</span>
<a name="l00579"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a80c73f786357a252982d04b823c24e88">00579</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a80c73f786357a252982d04b823c24e88">CACHE_VOLATILE</a>,     <span class="comment">// .cv</span>
<a name="l00580"></a>00580                        
<a name="l00581"></a>00581     <span class="comment">// loads and stores </span>
<a name="l00582"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a674b0aeb912b6b1fa21037b353b0718d">00582</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a674b0aeb912b6b1fa21037b353b0718d">CACHE_STREAMING</a>,    <span class="comment">// .cs</span>
<a name="l00583"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a652584484432dcd6c7a2a620a2ee44cf">00583</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a652584484432dcd6c7a2a620a2ee44cf">CACHE_GLOBAL</a>,       <span class="comment">// .cg</span>
<a name="l00584"></a>00584 
<a name="l00585"></a>00585     <span class="comment">// stores</span>
<a name="l00586"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a1412cfbe9572dd134b563bff6a032b0b">00586</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a1412cfbe9572dd134b563bff6a032b0b">CACHE_WRITE_BACK</a>,   <span class="comment">// .wb</span>
<a name="l00587"></a><a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a32a0f91706880ac8c1dd90a3f1843ba5">00587</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a32a0f91706880ac8c1dd90a3f1843ba5">CACHE_WRITE_THROUGH</a> <span class="comment">// .wt</span>
<a name="l00588"></a>00588 };
<a name="l00589"></a>00589 
<a name="l00590"></a><a class="code" href="classmem__access__t.html">00590</a> <span class="keyword">class </span><a class="code" href="classmem__access__t.html">mem_access_t</a> {
<a name="l00591"></a>00591 <span class="keyword">public</span>:
<a name="l00592"></a><a class="code" href="classmem__access__t.html#a6e37fa3f0115c7e236d680ca4a53370d">00592</a>    <a class="code" href="classmem__access__t.html#a6e37fa3f0115c7e236d680ca4a53370d">mem_access_t</a>() { <a class="code" href="classmem__access__t.html#ae0d3ab2e31d05e36f07b9dfbbaf318d9">init</a>(); }
<a name="l00593"></a><a class="code" href="classmem__access__t.html#af6232779179e913977cc5fe9d28f5658">00593</a>    <a class="code" href="classmem__access__t.html#a6e37fa3f0115c7e236d680ca4a53370d">mem_access_t</a>( mem_access_type type, 
<a name="l00594"></a>00594                  <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> address, 
<a name="l00595"></a>00595                  <span class="keywordtype">unsigned</span> size,
<a name="l00596"></a>00596                  <span class="keywordtype">bool</span> wr )
<a name="l00597"></a>00597    {
<a name="l00598"></a>00598        <a class="code" href="classmem__access__t.html#ae0d3ab2e31d05e36f07b9dfbbaf318d9">init</a>();
<a name="l00599"></a>00599        <a class="code" href="classmem__access__t.html#a4437098bdc7342ca59819631430e9dec">m_type</a> = type;
<a name="l00600"></a>00600        <a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a> = address;
<a name="l00601"></a>00601        <a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">m_req_size</a> = size;
<a name="l00602"></a>00602        <a class="code" href="classmem__access__t.html#a749e3b2d2a3b28c880ff9cd212735a3d">m_write</a> = wr;
<a name="l00603"></a>00603    }
<a name="l00604"></a><a class="code" href="classmem__access__t.html#aae97fc2fb2198257ac1a5dd3b706236c">00604</a>    <a class="code" href="classmem__access__t.html#a6e37fa3f0115c7e236d680ca4a53370d">mem_access_t</a>( mem_access_type type, 
<a name="l00605"></a>00605                  <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> address, 
<a name="l00606"></a>00606                  <span class="keywordtype">unsigned</span> size, 
<a name="l00607"></a>00607                  <span class="keywordtype">bool</span> wr, 
<a name="l00608"></a>00608                  <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> &amp;active_mask,
<a name="l00609"></a>00609                  <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a9285eb6e01f5d8c3daa5f2b3ee13c3de">mem_access_byte_mask_t</a> &amp;byte_mask )
<a name="l00610"></a>00610     : <a class="code" href="classmem__access__t.html#a8f3ab8066175488e3e136e71a8de0dd6">m_warp_mask</a>(active_mask), <a class="code" href="classmem__access__t.html#a9a8875b4a5e3cadd4a75f24b125d64cd">m_byte_mask</a>(byte_mask)
<a name="l00611"></a>00611    {
<a name="l00612"></a>00612       <a class="code" href="classmem__access__t.html#ae0d3ab2e31d05e36f07b9dfbbaf318d9">init</a>();
<a name="l00613"></a>00613       <a class="code" href="classmem__access__t.html#a4437098bdc7342ca59819631430e9dec">m_type</a> = type;
<a name="l00614"></a>00614       <a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a> = address;
<a name="l00615"></a>00615       <a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">m_req_size</a> = size;
<a name="l00616"></a>00616       <a class="code" href="classmem__access__t.html#a749e3b2d2a3b28c880ff9cd212735a3d">m_write</a> = wr;
<a name="l00617"></a>00617    }
<a name="l00618"></a>00618 
<a name="l00619"></a><a class="code" href="classmem__access__t.html#a46a25b5bfa4da450de080ef6e5bb1c95">00619</a>    <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> <a class="code" href="classmem__access__t.html#a46a25b5bfa4da450de080ef6e5bb1c95">get_addr</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a>; }
<a name="l00620"></a><a class="code" href="classmem__access__t.html#a84f6a28c04b6fccabe43839123048c8d">00620</a>    <span class="keywordtype">void</span> <a class="code" href="classmem__access__t.html#a84f6a28c04b6fccabe43839123048c8d">set_addr</a>(<a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> addr) {<a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a>=addr;}
<a name="l00621"></a><a class="code" href="classmem__access__t.html#a6937659d4da1a76093e97c8a2dd6662a">00621</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classmem__access__t.html#a6937659d4da1a76093e97c8a2dd6662a">get_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">m_req_size</a>; }
<a name="l00622"></a><a class="code" href="classmem__access__t.html#a9c4e733b635f536361c1ad412efd4683">00622</a>    <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> &amp;<a class="code" href="classmem__access__t.html#a9c4e733b635f536361c1ad412efd4683">get_warp_mask</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmem__access__t.html#a8f3ab8066175488e3e136e71a8de0dd6">m_warp_mask</a>; }
<a name="l00623"></a><a class="code" href="classmem__access__t.html#a5302a42233d3662c3ee69152a50d2d5f">00623</a>    <span class="keywordtype">bool</span> <a class="code" href="classmem__access__t.html#a5302a42233d3662c3ee69152a50d2d5f">is_write</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmem__access__t.html#a749e3b2d2a3b28c880ff9cd212735a3d">m_write</a>; }
<a name="l00624"></a><a class="code" href="classmem__access__t.html#a130d652bf627da2a9989f02638ab7c53">00624</a>    <span class="keyword">enum</span> mem_access_type <a class="code" href="classmem__access__t.html#a130d652bf627da2a9989f02638ab7c53">get_type</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmem__access__t.html#a4437098bdc7342ca59819631430e9dec">m_type</a>; }
<a name="l00625"></a><a class="code" href="classmem__access__t.html#a3e853836a4548afec467f2e483c1d1c2">00625</a>    <a class="code" href="abstract__hardware__model_8h.html#a9285eb6e01f5d8c3daa5f2b3ee13c3de">mem_access_byte_mask_t</a> <a class="code" href="classmem__access__t.html#a3e853836a4548afec467f2e483c1d1c2">get_byte_mask</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classmem__access__t.html#a9a8875b4a5e3cadd4a75f24b125d64cd">m_byte_mask</a>; }
<a name="l00626"></a>00626 
<a name="l00627"></a><a class="code" href="classmem__access__t.html#a92ad0b7720462168c62d700264b77960">00627</a>    <span class="keywordtype">void</span> <a class="code" href="classmem__access__t.html#a92ad0b7720462168c62d700264b77960">print</a>(FILE *fp)<span class="keyword"> const</span>
<a name="l00628"></a>00628 <span class="keyword">   </span>{
<a name="l00629"></a>00629        fprintf(fp,<span class="stringliteral">&quot;addr=0x%llx, %s, size=%u, &quot;</span>, <a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a>, <a class="code" href="classmem__access__t.html#a749e3b2d2a3b28c880ff9cd212735a3d">m_write</a>?<span class="stringliteral">&quot;store&quot;</span>:<span class="stringliteral">&quot;load &quot;</span>, <a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">m_req_size</a> );
<a name="l00630"></a>00630        <span class="keywordflow">switch</span>(<a class="code" href="classmem__access__t.html#a4437098bdc7342ca59819631430e9dec">m_type</a>) {
<a name="l00631"></a>00631        <span class="keywordflow">case</span> GLOBAL_ACC_R:  fprintf(fp,<span class="stringliteral">&quot;GLOBAL_R&quot;</span>); <span class="keywordflow">break</span>;
<a name="l00632"></a>00632        <span class="keywordflow">case</span> LOCAL_ACC_R:   fprintf(fp,<span class="stringliteral">&quot;LOCAL_R &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00633"></a>00633        <span class="keywordflow">case</span> CONST_ACC_R:   fprintf(fp,<span class="stringliteral">&quot;CONST   &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00634"></a>00634        <span class="keywordflow">case</span> TEXTURE_ACC_R: fprintf(fp,<span class="stringliteral">&quot;TEXTURE &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00635"></a>00635        <span class="keywordflow">case</span> GLOBAL_ACC_W:  fprintf(fp,<span class="stringliteral">&quot;GLOBAL_W&quot;</span>); <span class="keywordflow">break</span>;
<a name="l00636"></a>00636        <span class="keywordflow">case</span> LOCAL_ACC_W:   fprintf(fp,<span class="stringliteral">&quot;LOCAL_W &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00637"></a>00637        <span class="keywordflow">case</span> L2_WRBK_ACC:   fprintf(fp,<span class="stringliteral">&quot;L2_WRBK &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00638"></a>00638        <span class="keywordflow">case</span> INST_ACC_R:    fprintf(fp,<span class="stringliteral">&quot;INST    &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00639"></a>00639        <span class="keywordflow">case</span> L1_WRBK_ACC:   fprintf(fp,<span class="stringliteral">&quot;L1_WRBK &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00640"></a>00640        <span class="keywordflow">default</span>:            fprintf(fp,<span class="stringliteral">&quot;unknown &quot;</span>); <span class="keywordflow">break</span>;
<a name="l00641"></a>00641        }
<a name="l00642"></a>00642    }
<a name="l00643"></a>00643 
<a name="l00644"></a>00644 <span class="keyword">private</span>:
<a name="l00645"></a><a class="code" href="classmem__access__t.html#ae0d3ab2e31d05e36f07b9dfbbaf318d9">00645</a>    <span class="keywordtype">void</span> <a class="code" href="classmem__access__t.html#ae0d3ab2e31d05e36f07b9dfbbaf318d9">init</a>() 
<a name="l00646"></a>00646    {
<a name="l00647"></a>00647       <a class="code" href="classmem__access__t.html#ab1496faa4fd1a43723cff53f97466859">m_uid</a>=++<a class="code" href="classmem__access__t.html#adf19b11d2226e2b089c7b69a9fe6325f">sm_next_access_uid</a>;
<a name="l00648"></a>00648       <a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a>=0;
<a name="l00649"></a>00649       <a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">m_req_size</a>=0;
<a name="l00650"></a>00650    }
<a name="l00651"></a>00651 
<a name="l00652"></a><a class="code" href="classmem__access__t.html#ab1496faa4fd1a43723cff53f97466859">00652</a>    <span class="keywordtype">unsigned</span>      <a class="code" href="classmem__access__t.html#ab1496faa4fd1a43723cff53f97466859">m_uid</a>;
<a name="l00653"></a><a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">00653</a>    <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> <a class="code" href="classmem__access__t.html#a0a3be82df6b533f830028c6734d82a19">m_addr</a>;     <span class="comment">// request address</span>
<a name="l00654"></a><a class="code" href="classmem__access__t.html#a749e3b2d2a3b28c880ff9cd212735a3d">00654</a>    <span class="keywordtype">bool</span>          <a class="code" href="classmem__access__t.html#a749e3b2d2a3b28c880ff9cd212735a3d">m_write</a>;
<a name="l00655"></a><a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">00655</a>    <span class="keywordtype">unsigned</span>      <a class="code" href="classmem__access__t.html#a4019df9efa6acfb0c3baa994ed360904">m_req_size</a>; <span class="comment">// bytes</span>
<a name="l00656"></a><a class="code" href="classmem__access__t.html#a4437098bdc7342ca59819631430e9dec">00656</a>    mem_access_type <a class="code" href="classmem__access__t.html#a4437098bdc7342ca59819631430e9dec">m_type</a>;
<a name="l00657"></a><a class="code" href="classmem__access__t.html#a8f3ab8066175488e3e136e71a8de0dd6">00657</a>    <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> <a class="code" href="classmem__access__t.html#a8f3ab8066175488e3e136e71a8de0dd6">m_warp_mask</a>;
<a name="l00658"></a><a class="code" href="classmem__access__t.html#a9a8875b4a5e3cadd4a75f24b125d64cd">00658</a>    <a class="code" href="abstract__hardware__model_8h.html#a9285eb6e01f5d8c3daa5f2b3ee13c3de">mem_access_byte_mask_t</a> <a class="code" href="classmem__access__t.html#a9a8875b4a5e3cadd4a75f24b125d64cd">m_byte_mask</a>;
<a name="l00659"></a>00659 
<a name="l00660"></a><a class="code" href="classmem__access__t.html#adf19b11d2226e2b089c7b69a9fe6325f">00660</a>    <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classmem__access__t.html#adf19b11d2226e2b089c7b69a9fe6325f">sm_next_access_uid</a>;
<a name="l00661"></a>00661 };
<a name="l00662"></a>00662 
<a name="l00663"></a>00663 <span class="keyword">class </span><a class="code" href="classmem__fetch.html">mem_fetch</a>;
<a name="l00664"></a>00664 
<a name="l00665"></a><a class="code" href="classmem__fetch__interface.html">00665</a> <span class="keyword">class </span><a class="code" href="classmem__fetch__interface.html">mem_fetch_interface</a> {
<a name="l00666"></a>00666 <span class="keyword">public</span>:
<a name="l00667"></a>00667     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classmem__fetch__interface.html#aa658575deee8358107ff13b82599e84d">full</a>( <span class="keywordtype">unsigned</span> size, <span class="keywordtype">bool</span> write ) <span class="keyword">const</span> = 0;
<a name="l00668"></a>00668     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classmem__fetch__interface.html#a0a1a7f338acd49ae5f864faaa3ead792">push</a>( <a class="code" href="classmem__fetch.html">mem_fetch</a> *mf ) = 0;
<a name="l00669"></a>00669 };
<a name="l00670"></a>00670 
<a name="l00671"></a><a class="code" href="classmem__fetch__allocator.html">00671</a> <span class="keyword">class </span><a class="code" href="classmem__fetch__allocator.html">mem_fetch_allocator</a> {
<a name="l00672"></a>00672 <span class="keyword">public</span>:
<a name="l00673"></a>00673     <span class="keyword">virtual</span> <a class="code" href="classmem__fetch.html">mem_fetch</a> *<a class="code" href="classmem__fetch__allocator.html#aaa95db6955d361423f444495e39d3b64">alloc</a>( <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> addr, mem_access_type type, <span class="keywordtype">unsigned</span> size, <span class="keywordtype">bool</span> wr ) <span class="keyword">const</span> = 0;
<a name="l00674"></a>00674     <span class="keyword">virtual</span> <a class="code" href="classmem__fetch.html">mem_fetch</a> *<a class="code" href="classmem__fetch__allocator.html#aaa95db6955d361423f444495e39d3b64">alloc</a>( <span class="keyword">const</span> <span class="keyword">class</span> <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> &amp;inst, <span class="keyword">const</span> <a class="code" href="classmem__access__t.html">mem_access_t</a> &amp;access ) <span class="keyword">const</span> = 0;
<a name="l00675"></a>00675 };
<a name="l00676"></a>00676 
<a name="l00677"></a>00677 <span class="comment">// the maximum number of destination, source, or address uarch operands in a instruction</span>
<a name="l00678"></a>00678 <span class="preprocessor">#define MAX_REG_OPERANDS 8</span>
<a name="l00679"></a>00679 <span class="preprocessor"></span>
<a name="l00680"></a><a class="code" href="structdram__callback__t.html">00680</a> <span class="keyword">struct </span><a class="code" href="structdram__callback__t.html">dram_callback_t</a> {
<a name="l00681"></a><a class="code" href="structdram__callback__t.html#a467a9f3add245c834915acd73b52ae00">00681</a>    <a class="code" href="structdram__callback__t.html#a467a9f3add245c834915acd73b52ae00">dram_callback_t</a>() { <a class="code" href="structdram__callback__t.html#a0c920dd2417e7dfb45d5a65bfc213767">function</a>=NULL; <a class="code" href="structdram__callback__t.html#a637ad42609af2a656212438f8fe9a42e">instruction</a>=NULL; <a class="code" href="structdram__callback__t.html#a266dbc46ec49ca698002a20fccec8dd9">thread</a>=NULL; }
<a name="l00682"></a>00682    void (*<a class="code" href="structdram__callback__t.html#a0c920dd2417e7dfb45d5a65bfc213767">function</a>)(<span class="keyword">const</span> <span class="keyword">class </span><a class="code" href="classinst__t.html">inst_t</a>*, <span class="keyword">class </span><a class="code" href="classptx__thread__info.html">ptx_thread_info</a>*);
<a name="l00683"></a><a class="code" href="structdram__callback__t.html#a637ad42609af2a656212438f8fe9a42e">00683</a>    <span class="keyword">const</span> <span class="keyword">class </span><a class="code" href="classinst__t.html">inst_t</a>* <a class="code" href="structdram__callback__t.html#a637ad42609af2a656212438f8fe9a42e">instruction</a>;
<a name="l00684"></a><a class="code" href="structdram__callback__t.html#a266dbc46ec49ca698002a20fccec8dd9">00684</a>    <span class="keyword">class </span><a class="code" href="classptx__thread__info.html">ptx_thread_info</a> *<a class="code" href="structdram__callback__t.html#a266dbc46ec49ca698002a20fccec8dd9">thread</a>;
<a name="l00685"></a>00685 };
<a name="l00686"></a>00686 
<a name="l00687"></a><a class="code" href="classinst__t.html">00687</a> <span class="keyword">class </span><a class="code" href="classinst__t.html">inst_t</a> {
<a name="l00688"></a>00688 <span class="keyword">public</span>:
<a name="l00689"></a><a class="code" href="classinst__t.html#ab2b44678d026d40cc36033d87b524bbf">00689</a>     <a class="code" href="classinst__t.html#ab2b44678d026d40cc36033d87b524bbf">inst_t</a>()
<a name="l00690"></a>00690     {
<a name="l00691"></a>00691         <a class="code" href="classinst__t.html#a27943eef81f5eeec20fbee76ac3b233f">m_decoded</a>=<span class="keyword">false</span>;
<a name="l00692"></a>00692         <a class="code" href="classinst__t.html#a76aea27709c3a0256c2615451c7daa56">pc</a>=(<a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a>)-1;
<a name="l00693"></a>00693         <a class="code" href="classinst__t.html#ad3da0fc2ad36b2b1c2cbd2f1c980da52">reconvergence_pc</a>=(<a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a>)-1;
<a name="l00694"></a>00694         <a class="code" href="classinst__t.html#a5e7e56fb753710a255876d382fda08c3">op</a>=<a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cae76c941d2316666913c673a032deb9ba">NO_OP</a>; 
<a name="l00695"></a>00695         <a class="code" href="classinst__t.html#ac7a035218233cd400ee53e07292b3e19">oprnd_type</a>=<a class="code" href="abstract__hardware__model_8h.html#a2f268fb920f58fceda179b2a908e48fda4ce321bf19c8bf9689997d735424614c">UN_OP</a>;
<a name="l00696"></a>00696         <a class="code" href="classinst__t.html#aa01cff1aa0581463b17d5fe0e58d0196">sp_op</a>=<a class="code" href="abstract__hardware__model_8h.html#a4bca82f78a8b186b2f789b829b836312acf75d70f82aa1396bdfa86ba8f54c4da">OTHER_OP</a>;
<a name="l00697"></a>00697         <a class="code" href="classinst__t.html#aa8f66610c2913e2ce7a7db303c70ef74">op_pipe</a>=<a class="code" href="abstract__hardware__model_8h.html#a23365de714a3880b41addd50b5d4fcd0a2a803cd9c8bcc86f713aae7a0cc994bd">UNKOWN_OP</a>;
<a name="l00698"></a>00698         <a class="code" href="classinst__t.html#a740113d4aeb9d9c593e88211ec560390">mem_op</a>=<a class="code" href="abstract__hardware__model_8h.html#a36b1ea75630fc91b4b9b711513cdf016a67158123a1459282510c6c2fa4d475b6">NOT_TEX</a>;
<a name="l00699"></a>00699         <a class="code" href="classinst__t.html#ab6fa0e4f7944ee1a6225249d30c1d399">num_operands</a>=0;
<a name="l00700"></a>00700         <a class="code" href="classinst__t.html#a3eb2d831ee26f8a907748defcc585e1a">num_regs</a>=0;
<a name="l00701"></a>00701         memset(<a class="code" href="classinst__t.html#a3c2c79e427a4d22fbf44264857a02c51">out</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span>)); 
<a name="l00702"></a>00702         memset(<a class="code" href="classinst__t.html#a5fb3f3e1f0a98e2c25f51251cf495e9a">in</a>, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span>)); 
<a name="l00703"></a>00703         <a class="code" href="classinst__t.html#aa68a80e8ae373709df3c0a6eab56616d">is_vectorin</a>=0; 
<a name="l00704"></a>00704         <a class="code" href="classinst__t.html#a6f9b659317654b0182e79b429b259431">is_vectorout</a>=0;
<a name="l00705"></a>00705         <a class="code" href="classinst__t.html#a7830eb1cfe5a305e426d8530563c11da">space</a> = <a class="code" href="classmemory__space__t.html">memory_space_t</a>();
<a name="l00706"></a>00706         <a class="code" href="classinst__t.html#a329da97dfe6b0972748e988793b1d684">cache_op</a> = <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072a499eb549cbf6cae61c01a7dbfbfcd886">CACHE_UNDEFINED</a>;
<a name="l00707"></a>00707         <a class="code" href="classinst__t.html#a0bd8bcc5400fbeb0f80147b5897f9ece">latency</a> = 1;
<a name="l00708"></a>00708         <a class="code" href="classinst__t.html#abb194962eb28815abe4036a1c23f5d2d">initiation_interval</a> = 1;
<a name="l00709"></a>00709         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=0; i &lt; MAX_REG_OPERANDS; i++ ) {
<a name="l00710"></a>00710             <a class="code" href="classinst__t.html#a88db6b095dc8d40a932891f69e4baa27">arch_reg</a>.src[i] = -1;
<a name="l00711"></a>00711             <a class="code" href="classinst__t.html#a88db6b095dc8d40a932891f69e4baa27">arch_reg</a>.dst[i] = -1;
<a name="l00712"></a>00712         }
<a name="l00713"></a>00713         <a class="code" href="classinst__t.html#ab86890cdd0a9a3f624e1439a9552b053">isize</a>=0;
<a name="l00714"></a>00714     }
<a name="l00715"></a><a class="code" href="classinst__t.html#af5b6be7232de77623fbe8b3c818913cd">00715</a>     <span class="keywordtype">bool</span> <a class="code" href="classinst__t.html#af5b6be7232de77623fbe8b3c818913cd">valid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classinst__t.html#a27943eef81f5eeec20fbee76ac3b233f">m_decoded</a>; }
<a name="l00716"></a><a class="code" href="classinst__t.html#a1bc08d98bbaa6de7059577167335e67c">00716</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classinst__t.html#a1bc08d98bbaa6de7059577167335e67c">print_insn</a>( FILE *fp )<span class="keyword"> const </span>
<a name="l00717"></a>00717 <span class="keyword">    </span>{
<a name="l00718"></a>00718         fprintf(fp,<span class="stringliteral">&quot; [inst @ pc=0x%04x] &quot;</span>, <a class="code" href="classinst__t.html#a76aea27709c3a0256c2615451c7daa56">pc</a> );
<a name="l00719"></a>00719     }
<a name="l00720"></a><a class="code" href="classinst__t.html#a2a7f0ff5bdc4a059f744487d2cf255bd">00720</a>     <span class="keywordtype">bool</span> <a class="code" href="classinst__t.html#a2a7f0ff5bdc4a059f744487d2cf255bd">is_load</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classinst__t.html#a5e7e56fb753710a255876d382fda08c3">op</a> == <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4ca5129cce70aaf0f68261db0c4bf273709">LOAD_OP</a> || <a class="code" href="classinst__t.html#a9b1e867c7e8fc7d452ee732f9efcb37d">memory_op</a> == <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549ba75c129e3900f1380d61f86c21cdcb1b9">memory_load</a>); }
<a name="l00721"></a><a class="code" href="classinst__t.html#a4a4af03ae60d4f77f84d07c0264a5354">00721</a>     <span class="keywordtype">bool</span> <a class="code" href="classinst__t.html#a4a4af03ae60d4f77f84d07c0264a5354">is_store</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classinst__t.html#a5e7e56fb753710a255876d382fda08c3">op</a> == <a class="code" href="abstract__hardware__model_8h.html#a35b8f4223626361f0e0cb24d0c0b0f4cafd107fa80c07dee943713884d06dea31">STORE_OP</a> || <a class="code" href="classinst__t.html#a9b1e867c7e8fc7d452ee732f9efcb37d">memory_op</a> == <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549bad1c612197bbcb92d93fc4cf46418d50e">memory_store</a>); }
<a name="l00722"></a><a class="code" href="classinst__t.html#a0318c4c4bc75a9cdc8a318200cf9f81f">00722</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a0318c4c4bc75a9cdc8a318200cf9f81f">get_num_operands</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classinst__t.html#ab6fa0e4f7944ee1a6225249d30c1d399">num_operands</a>;}
<a name="l00723"></a><a class="code" href="classinst__t.html#a10a37eac95cf5f52927d3f2696915ba4">00723</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a10a37eac95cf5f52927d3f2696915ba4">get_num_regs</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classinst__t.html#a3eb2d831ee26f8a907748defcc585e1a">num_regs</a>;}
<a name="l00724"></a><a class="code" href="classinst__t.html#a98525756e794e44c71da629ea4f69293">00724</a>     <span class="keywordtype">void</span> <a class="code" href="classinst__t.html#a98525756e794e44c71da629ea4f69293">set_num_regs</a>(<span class="keywordtype">unsigned</span> num) {<a class="code" href="classinst__t.html#a3eb2d831ee26f8a907748defcc585e1a">num_regs</a>=num;}
<a name="l00725"></a><a class="code" href="classinst__t.html#a68f2d678574d4412a06475c4b18645dc">00725</a>     <span class="keywordtype">void</span> <a class="code" href="classinst__t.html#a68f2d678574d4412a06475c4b18645dc">set_num_operands</a>(<span class="keywordtype">unsigned</span> num) {<a class="code" href="classinst__t.html#ab6fa0e4f7944ee1a6225249d30c1d399">num_operands</a>=num;}
<a name="l00726"></a>00726 
<a name="l00727"></a><a class="code" href="classinst__t.html#a76aea27709c3a0256c2615451c7daa56">00727</a>     <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> <a class="code" href="classinst__t.html#a76aea27709c3a0256c2615451c7daa56">pc</a>;        <span class="comment">// program counter address of instruction</span>
<a name="l00728"></a><a class="code" href="classinst__t.html#ab86890cdd0a9a3f624e1439a9552b053">00728</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#ab86890cdd0a9a3f624e1439a9552b053">isize</a>;         <span class="comment">// size of instruction in bytes </span>
<a name="l00729"></a><a class="code" href="classinst__t.html#a5e7e56fb753710a255876d382fda08c3">00729</a>     <a class="code" href="abstract__hardware__model_8h.html#af5d7778e4ff855de5c278e3b93090aac">op_type</a> <a class="code" href="classinst__t.html#a5e7e56fb753710a255876d382fda08c3">op</a>;             <span class="comment">// opcode (uarch visible)</span>
<a name="l00730"></a><a class="code" href="classinst__t.html#ac7a035218233cd400ee53e07292b3e19">00730</a>     <a class="code" href="abstract__hardware__model_8h.html#a286cfd03dab53b49aa9723361f307bae">types_of_operands</a> <a class="code" href="classinst__t.html#ac7a035218233cd400ee53e07292b3e19">oprnd_type</a>;     <span class="comment">// code (uarch visible) identify if the operation is an interger or a floating point</span>
<a name="l00731"></a><a class="code" href="classinst__t.html#aa01cff1aa0581463b17d5fe0e58d0196">00731</a>     <a class="code" href="abstract__hardware__model_8h.html#a5afd6dd45c6280dea5bfc1e92690b40f">special_ops</a> <a class="code" href="classinst__t.html#aa01cff1aa0581463b17d5fe0e58d0196">sp_op</a>;           <span class="comment">// code (uarch visible) identify if int_alu, fp_alu, int_mul ....</span>
<a name="l00732"></a><a class="code" href="classinst__t.html#aa8f66610c2913e2ce7a7db303c70ef74">00732</a>     <a class="code" href="abstract__hardware__model_8h.html#a4f3e3ecef91256afa0083315272c978e">operation_pipeline</a> <a class="code" href="classinst__t.html#aa8f66610c2913e2ce7a7db303c70ef74">op_pipe</a>;  <span class="comment">// code (uarch visible) identify the pipeline of the operation (SP, SFU or MEM)</span>
<a name="l00733"></a><a class="code" href="classinst__t.html#a740113d4aeb9d9c593e88211ec560390">00733</a>     <a class="code" href="abstract__hardware__model_8h.html#a59d68b1c20933ed4964c8160685c4240">mem_operation</a> <a class="code" href="classinst__t.html#a740113d4aeb9d9c593e88211ec560390">mem_op</a>;        <span class="comment">// code (uarch visible) identify memory type</span>
<a name="l00734"></a><a class="code" href="classinst__t.html#a9b1e867c7e8fc7d452ee732f9efcb37d">00734</a>     <a class="code" href="abstract__hardware__model_8h.html#a1df0b5882f0bc92aabef2d5a968c549b">_memory_op_t</a> <a class="code" href="classinst__t.html#a9b1e867c7e8fc7d452ee732f9efcb37d">memory_op</a>; <span class="comment">// memory_op used by ptxplus </span>
<a name="l00735"></a><a class="code" href="classinst__t.html#ab6fa0e4f7944ee1a6225249d30c1d399">00735</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#ab6fa0e4f7944ee1a6225249d30c1d399">num_operands</a>;
<a name="l00736"></a><a class="code" href="classinst__t.html#a3eb2d831ee26f8a907748defcc585e1a">00736</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a3eb2d831ee26f8a907748defcc585e1a">num_regs</a>; <span class="comment">// count vector operand as one register operand</span>
<a name="l00737"></a>00737 
<a name="l00738"></a><a class="code" href="classinst__t.html#ad3da0fc2ad36b2b1c2cbd2f1c980da52">00738</a>     <a class="code" href="abstract__hardware__model_8h.html#a4234d30919c0dcca6fca040a13ad6ae1">address_type</a> <a class="code" href="classinst__t.html#ad3da0fc2ad36b2b1c2cbd2f1c980da52">reconvergence_pc</a>; <span class="comment">// -1 =&gt; not a branch, -2 =&gt; use function return address</span>
<a name="l00739"></a>00739     
<a name="l00740"></a><a class="code" href="classinst__t.html#a3c2c79e427a4d22fbf44264857a02c51">00740</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a3c2c79e427a4d22fbf44264857a02c51">out</a>[4];
<a name="l00741"></a><a class="code" href="classinst__t.html#a5fb3f3e1f0a98e2c25f51251cf495e9a">00741</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a5fb3f3e1f0a98e2c25f51251cf495e9a">in</a>[4];
<a name="l00742"></a><a class="code" href="classinst__t.html#aa68a80e8ae373709df3c0a6eab56616d">00742</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classinst__t.html#aa68a80e8ae373709df3c0a6eab56616d">is_vectorin</a>;
<a name="l00743"></a><a class="code" href="classinst__t.html#a6f9b659317654b0182e79b429b259431">00743</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classinst__t.html#a6f9b659317654b0182e79b429b259431">is_vectorout</a>;
<a name="l00744"></a><a class="code" href="classinst__t.html#a352aa924f31558eb543c8a9ab6769367">00744</a>     <span class="keywordtype">int</span> <a class="code" href="classinst__t.html#a352aa924f31558eb543c8a9ab6769367">pred</a>; <span class="comment">// predicate register number</span>
<a name="l00745"></a><a class="code" href="classinst__t.html#a932df482f6c89b8b7e2b27923dc4bbf1">00745</a>     <span class="keywordtype">int</span> <a class="code" href="classinst__t.html#ae245a88c92eccb464ea3510a5d70c736">ar1</a>, <a class="code" href="classinst__t.html#a932df482f6c89b8b7e2b27923dc4bbf1">ar2</a>;
<a name="l00746"></a>00746     <span class="comment">// register number for bank conflict evaluation</span>
<a name="l00747"></a>00747     <span class="keyword">struct </span>{
<a name="l00748"></a><a class="code" href="classinst__t.html#a11e33f6b6e83bcea0590fa5de1c3dc7b">00748</a>         <span class="keywordtype">int</span> <a class="code" href="classinst__t.html#a11e33f6b6e83bcea0590fa5de1c3dc7b">dst</a>[MAX_REG_OPERANDS];
<a name="l00749"></a><a class="code" href="classinst__t.html#ae90835bf4242b551e4902afe16d62074">00749</a>         <span class="keywordtype">int</span> <a class="code" href="classinst__t.html#ae90835bf4242b551e4902afe16d62074">src</a>[MAX_REG_OPERANDS];
<a name="l00750"></a>00750     } <a class="code" href="classinst__t.html#a88db6b095dc8d40a932891f69e4baa27">arch_reg</a>;
<a name="l00751"></a>00751     <span class="comment">//int arch_reg[MAX_REG_OPERANDS]; // register number for bank conflict evaluation</span>
<a name="l00752"></a><a class="code" href="classinst__t.html#a0bd8bcc5400fbeb0f80147b5897f9ece">00752</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a0bd8bcc5400fbeb0f80147b5897f9ece">latency</a>; <span class="comment">// operation latency </span>
<a name="l00753"></a><a class="code" href="classinst__t.html#abb194962eb28815abe4036a1c23f5d2d">00753</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#abb194962eb28815abe4036a1c23f5d2d">initiation_interval</a>;
<a name="l00754"></a>00754 
<a name="l00755"></a><a class="code" href="classinst__t.html#a17ce412c0e2dc350263be5e20efb4b36">00755</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classinst__t.html#a17ce412c0e2dc350263be5e20efb4b36">data_size</a>; <span class="comment">// what is the size of the word being operated on?</span>
<a name="l00756"></a><a class="code" href="classinst__t.html#a7830eb1cfe5a305e426d8530563c11da">00756</a>     <a class="code" href="classmemory__space__t.html">memory_space_t</a> <a class="code" href="classinst__t.html#a7830eb1cfe5a305e426d8530563c11da">space</a>;
<a name="l00757"></a><a class="code" href="classinst__t.html#a329da97dfe6b0972748e988793b1d684">00757</a>     <a class="code" href="abstract__hardware__model_8h.html#ab204345d04c216e6d47f2f19501d7072">cache_operator_type</a> <a class="code" href="classinst__t.html#a329da97dfe6b0972748e988793b1d684">cache_op</a>;
<a name="l00758"></a>00758 
<a name="l00759"></a>00759 <span class="keyword">protected</span>:
<a name="l00760"></a><a class="code" href="classinst__t.html#a27943eef81f5eeec20fbee76ac3b233f">00760</a>     <span class="keywordtype">bool</span> <a class="code" href="classinst__t.html#a27943eef81f5eeec20fbee76ac3b233f">m_decoded</a>;
<a name="l00761"></a><a class="code" href="classinst__t.html#ab2f1bdf0fcd40bea765f0b83bbd8b652">00761</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classinst__t.html#ab2f1bdf0fcd40bea765f0b83bbd8b652">pre_decode</a>() {}
<a name="l00762"></a>00762 };
<a name="l00763"></a>00763 
<a name="l00764"></a><a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12b">00764</a> <span class="keyword">enum</span> <a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12b">divergence_support_t</a> {
<a name="l00765"></a><a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12ba31993dfb97df7a2ea5aa5a9504b96c72">00765</a>    <a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12ba31993dfb97df7a2ea5aa5a9504b96c72">POST_DOMINATOR</a> = 1,
<a name="l00766"></a><a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12ba193f62e176614a48884d9bac6f56b01d">00766</a>    <a class="code" href="abstract__hardware__model_8h.html#a3c3e5c822956df0d19e61cbb11c5b12ba193f62e176614a48884d9bac6f56b01d">NUM_SIMD_MODEL</a>
<a name="l00767"></a>00767 };
<a name="l00768"></a>00768 
<a name="l00769"></a><a class="code" href="abstract__hardware__model_8h.html#acc19e1a3f40248ac6a83b3cdb3df9449">00769</a> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <a class="code" href="abstract__hardware__model_8h.html#acc19e1a3f40248ac6a83b3cdb3df9449">MAX_ACCESSES_PER_INSN_PER_THREAD</a> = 8;
<a name="l00770"></a>00770 
<a name="l00771"></a><a class="code" href="classwarp__inst__t.html">00771</a> <span class="keyword">class </span><a class="code" href="classwarp__inst__t.html">warp_inst_t</a>: <span class="keyword">public</span> <a class="code" href="classinst__t.html">inst_t</a> {
<a name="l00772"></a>00772 <span class="keyword">public</span>:
<a name="l00773"></a>00773     <span class="comment">// constructors</span>
<a name="l00774"></a><a class="code" href="classwarp__inst__t.html#a7215a2d230d9e970cf74a95dab812988">00774</a>     <a class="code" href="classwarp__inst__t.html#a7215a2d230d9e970cf74a95dab812988">warp_inst_t</a>() 
<a name="l00775"></a>00775     {
<a name="l00776"></a>00776         <a class="code" href="classwarp__inst__t.html#aa27c462b52e96324ae1a6477e98b7ae8">m_uid</a>=0;
<a name="l00777"></a>00777         <a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a>=<span class="keyword">true</span>; 
<a name="l00778"></a>00778         <a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>=NULL; 
<a name="l00779"></a>00779     }
<a name="l00780"></a><a class="code" href="classwarp__inst__t.html#ae3a85030e6b970baa1582b781728cfd6">00780</a>     <a class="code" href="classwarp__inst__t.html#a7215a2d230d9e970cf74a95dab812988">warp_inst_t</a>( <span class="keyword">const</span> <a class="code" href="structcore__config.html">core_config</a> *config ) 
<a name="l00781"></a>00781     { 
<a name="l00782"></a>00782         <a class="code" href="classwarp__inst__t.html#aa27c462b52e96324ae1a6477e98b7ae8">m_uid</a>=0;
<a name="l00783"></a>00783         assert(config-&gt;<a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>&lt;=<a class="code" href="abstract__hardware__model_8h.html#a0829cea3c164e1dc81e4d56a0ba2d529">MAX_WARP_SIZE</a>); 
<a name="l00784"></a>00784         <a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>=config;
<a name="l00785"></a>00785         <a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a>=<span class="keyword">true</span>; 
<a name="l00786"></a>00786         <a class="code" href="classwarp__inst__t.html#ab7830ead9db63c4473b35b2adcd64c04">m_isatomic</a>=<span class="keyword">false</span>;
<a name="l00787"></a>00787         <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a>=<span class="keyword">false</span>;
<a name="l00788"></a>00788         <a class="code" href="classwarp__inst__t.html#a34586a7c7e47c03a3b6dedb780c0c63f">m_mem_accesses_created</a>=<span class="keyword">false</span>;
<a name="l00789"></a>00789         <a class="code" href="classwarp__inst__t.html#ac0447c8b7179c32540c5860013e3b3df">m_cache_hit</a>=<span class="keyword">false</span>;
<a name="l00790"></a>00790         <a class="code" href="classwarp__inst__t.html#a3d2606b96edddeb0f2cd7ebe3196e024">m_is_printf</a>=<span class="keyword">false</span>;
<a name="l00791"></a>00791     }
<a name="l00792"></a><a class="code" href="classwarp__inst__t.html#a85f12caf3238a1a4682c030d07db757e">00792</a>     <span class="keyword">virtual</span> <a class="code" href="classwarp__inst__t.html#a85f12caf3238a1a4682c030d07db757e">~warp_inst_t</a>(){
<a name="l00793"></a>00793     }
<a name="l00794"></a>00794 
<a name="l00795"></a>00795     <span class="comment">// modifiers</span>
<a name="l00796"></a>00796     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a4975bed2e5b0ce4805738b89497bc1fc">do_atomic</a>(<span class="keywordtype">bool</span> forceDo=<span class="keyword">false</span>);
<a name="l00797"></a>00797     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a4975bed2e5b0ce4805738b89497bc1fc">do_atomic</a>( <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a>&amp; access_mask, <span class="keywordtype">bool</span> forceDo=<span class="keyword">false</span> );
<a name="l00798"></a><a class="code" href="classwarp__inst__t.html#a4ec50b2b803104315d11fb6eb8ad926f">00798</a>     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a4ec50b2b803104315d11fb6eb8ad926f">clear</a>() 
<a name="l00799"></a>00799     { 
<a name="l00800"></a>00800         <a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a>=<span class="keyword">true</span>; 
<a name="l00801"></a>00801     }
<a name="l00802"></a><a class="code" href="classwarp__inst__t.html#adc77a69bc71b8568276ba753551bd492">00802</a>     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#adc77a69bc71b8568276ba753551bd492">issue</a>( <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> &amp;mask, <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ab1dd215e5b3d4083cdb473d4f8bf8bf2">warp_id</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> cycle, <span class="keywordtype">int</span> <a class="code" href="classwarp__inst__t.html#a87038bc0fe07fd3c46ee639d60267c08">dynamic_warp_id</a> ) 
<a name="l00803"></a>00803     {
<a name="l00804"></a>00804         <a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a> = mask;
<a name="l00805"></a>00805         <a class="code" href="classwarp__inst__t.html#a21bdd8853f76dc0188e12b739731a4bb">m_warp_issued_mask</a> = mask; 
<a name="l00806"></a>00806         <a class="code" href="classwarp__inst__t.html#aa27c462b52e96324ae1a6477e98b7ae8">m_uid</a> = ++<a class="code" href="classwarp__inst__t.html#a9b7983d8df3dc556b53121e9f83b9724">sm_next_uid</a>;
<a name="l00807"></a>00807         <a class="code" href="classwarp__inst__t.html#acf0e9df5aafb913eb8b961c47d4b4300">m_warp_id</a> = warp_id;
<a name="l00808"></a>00808         <a class="code" href="classwarp__inst__t.html#ae28306d0cc620dc964d9eb3ae6b565d9">m_dynamic_warp_id</a> = dynamic_warp_id;
<a name="l00809"></a>00809         <a class="code" href="classwarp__inst__t.html#a8e30c8820148d7aa89b42809d75b2d2a">issue_cycle</a> = cycle;
<a name="l00810"></a>00810         <a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">cycles</a> = <a class="code" href="classinst__t.html#abb194962eb28815abe4036a1c23f5d2d">initiation_interval</a>;
<a name="l00811"></a>00811         <a class="code" href="classwarp__inst__t.html#ac0447c8b7179c32540c5860013e3b3df">m_cache_hit</a>=<span class="keyword">false</span>;
<a name="l00812"></a>00812         <a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a>=<span class="keyword">false</span>;
<a name="l00813"></a>00813     }
<a name="l00814"></a><a class="code" href="classwarp__inst__t.html#af4512b9950894b5c8433182c378dca15">00814</a>     <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> &amp; <a class="code" href="classwarp__inst__t.html#af4512b9950894b5c8433182c378dca15">get_active_mask</a>()<span class="keyword"> const</span>
<a name="l00815"></a>00815 <span class="keyword">    </span>{
<a name="l00816"></a>00816         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a>;
<a name="l00817"></a>00817     }
<a name="l00818"></a>00818     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#aaa621aa519306da09ccaa82dbfeb7c37">completed</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> cycle ) <span class="keyword">const</span>;  <span class="comment">// stat collection: called when the instruction is completed  </span>
<a name="l00819"></a><a class="code" href="classwarp__inst__t.html#afd733ed202cb8ea4a2fdfea5d1ed9e4d">00819</a>     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#afd733ed202cb8ea4a2fdfea5d1ed9e4d">set_addr</a>( <span class="keywordtype">unsigned</span> <a class="code" href="rng_8cpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> addr ) 
<a name="l00820"></a>00820     {
<a name="l00821"></a>00821         <span class="keywordflow">if</span>( !<a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a> ) {
<a name="l00822"></a>00822             <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>.resize(<a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>-&gt;<a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>);
<a name="l00823"></a>00823             <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a>=<span class="keyword">true</span>;
<a name="l00824"></a>00824         }
<a name="l00825"></a>00825         <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[n].memreqaddr[0] = addr;
<a name="l00826"></a>00826     }
<a name="l00827"></a><a class="code" href="classwarp__inst__t.html#a1001c291f413850406a4ebfe79fc6341">00827</a>     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#afd733ed202cb8ea4a2fdfea5d1ed9e4d">set_addr</a>( <span class="keywordtype">unsigned</span> <a class="code" href="rng_8cpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a>, <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a>* addr, <span class="keywordtype">unsigned</span> num_addrs )
<a name="l00828"></a>00828     {
<a name="l00829"></a>00829         <span class="keywordflow">if</span>( !<a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a> ) {
<a name="l00830"></a>00830             <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>.resize(<a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>-&gt;<a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>);
<a name="l00831"></a>00831             <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a>=<span class="keyword">true</span>;
<a name="l00832"></a>00832         }
<a name="l00833"></a>00833         assert(num_addrs &lt;= <a class="code" href="abstract__hardware__model_8h.html#acc19e1a3f40248ac6a83b3cdb3df9449">MAX_ACCESSES_PER_INSN_PER_THREAD</a>);
<a name="l00834"></a>00834         <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;num_addrs; i++)
<a name="l00835"></a>00835             <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[n].memreqaddr[i] = addr[i];
<a name="l00836"></a>00836     }
<a name="l00837"></a>00837 
<a name="l00838"></a><a class="code" href="structwarp__inst__t_1_1transaction__info.html">00838</a>     <span class="keyword">struct </span><a class="code" href="structwarp__inst__t_1_1transaction__info.html">transaction_info</a> {
<a name="l00839"></a><a class="code" href="structwarp__inst__t_1_1transaction__info.html#a7615a7e0788ad3a370dff42e5c62cfa0">00839</a>         std::bitset&lt;4&gt; <a class="code" href="structwarp__inst__t_1_1transaction__info.html#a7615a7e0788ad3a370dff42e5c62cfa0">chunks</a>; <span class="comment">// bitmask: 32-byte chunks accessed</span>
<a name="l00840"></a><a class="code" href="structwarp__inst__t_1_1transaction__info.html#a9189afd7f78caaca589760f4bd237f3b">00840</a>         <a class="code" href="abstract__hardware__model_8h.html#a9285eb6e01f5d8c3daa5f2b3ee13c3de">mem_access_byte_mask_t</a> <a class="code" href="structwarp__inst__t_1_1transaction__info.html#a9189afd7f78caaca589760f4bd237f3b">bytes</a>;
<a name="l00841"></a><a class="code" href="structwarp__inst__t_1_1transaction__info.html#a8510cbd62e4562147e847445fff7f0be">00841</a>         <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> <a class="code" href="structwarp__inst__t_1_1transaction__info.html#a8510cbd62e4562147e847445fff7f0be">active</a>; <span class="comment">// threads in this transaction</span>
<a name="l00842"></a>00842 
<a name="l00843"></a><a class="code" href="structwarp__inst__t_1_1transaction__info.html#a64c3c051d0d5369d9234b93c2847b133">00843</a>         <span class="keywordtype">bool</span> <a class="code" href="structwarp__inst__t_1_1transaction__info.html#a64c3c051d0d5369d9234b93c2847b133">test_bytes</a>(<span class="keywordtype">unsigned</span> start_bit, <span class="keywordtype">unsigned</span> end_bit) {
<a name="l00844"></a>00844            <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i=start_bit; i&lt;=end_bit; i++ )
<a name="l00845"></a>00845               <span class="keywordflow">if</span>(<a class="code" href="structwarp__inst__t_1_1transaction__info.html#a9189afd7f78caaca589760f4bd237f3b">bytes</a>.test(i))
<a name="l00846"></a>00846                  <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00847"></a>00847            <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00848"></a>00848         }
<a name="l00849"></a>00849     };
<a name="l00850"></a>00850 
<a name="l00851"></a>00851     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a427312133d093a9251a1cc8b80c3e194">generate_mem_accesses</a>();
<a name="l00852"></a>00852     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#aa0e4f0f480750040d59d25b7a9160813">memory_coalescing_arch_13</a>( <span class="keywordtype">bool</span> is_write, mem_access_type access_type );
<a name="l00853"></a>00853     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a13d0286a13d417722f6308806b46f5cb">memory_coalescing_arch_13_atomic</a>( <span class="keywordtype">bool</span> is_write, mem_access_type access_type );
<a name="l00854"></a>00854     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a0462beb7948ec3e5e0d55f97cdc912f1">memory_coalescing_arch_13_reduce_and_send</a>( <span class="keywordtype">bool</span> is_write, mem_access_type access_type, <span class="keyword">const</span> transaction_info &amp;info, <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> addr, <span class="keywordtype">unsigned</span> segment_size );
<a name="l00855"></a>00855 
<a name="l00856"></a><a class="code" href="classwarp__inst__t.html#a229b9efb4170baf1d750f6e2f3d4fc86">00856</a>     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a229b9efb4170baf1d750f6e2f3d4fc86">add_callback</a>( <span class="keywordtype">unsigned</span> lane_id, 
<a name="l00857"></a>00857                        <span class="keywordtype">void</span> (*function)(<span class="keyword">const</span> <span class="keyword">class</span> <a class="code" href="classinst__t.html">inst_t</a>*, <span class="keyword">class</span> <a class="code" href="classptx__thread__info.html">ptx_thread_info</a>*),
<a name="l00858"></a>00858                        <span class="keyword">const</span> <a class="code" href="classinst__t.html">inst_t</a> *inst, 
<a name="l00859"></a>00859                        <span class="keyword">class</span> <a class="code" href="classptx__thread__info.html">ptx_thread_info</a> *thread )
<a name="l00860"></a>00860     {
<a name="l00861"></a>00861         <span class="keywordflow">if</span>( !<a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a> ) {
<a name="l00862"></a>00862             <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>.resize(<a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>-&gt;<a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>);
<a name="l00863"></a>00863             <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a>=<span class="keyword">true</span>;
<a name="l00864"></a>00864             <a class="code" href="classwarp__inst__t.html#ab7830ead9db63c4473b35b2adcd64c04">m_isatomic</a>=<span class="keyword">true</span>;
<a name="l00865"></a>00865         }
<a name="l00866"></a>00866         <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[lane_id].callback.function = function;
<a name="l00867"></a>00867         <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[lane_id].callback.instruction = inst;
<a name="l00868"></a>00868         <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[lane_id].callback.thread = thread;
<a name="l00869"></a>00869     }
<a name="l00870"></a>00870     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a85b198b92108d3eae5cc21fc94373291">set_active</a>( <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> &amp;<a class="code" href="classwarp__inst__t.html#ae44d8d3d283dc0ecf16db55f57f3c03d">active</a> );
<a name="l00871"></a>00871 
<a name="l00872"></a>00872     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a26a7ed83a4b4902d1b3648ee8a0ffe13">clear_active</a>( <span class="keyword">const</span> <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> &amp;inactive );
<a name="l00873"></a>00873     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#abdbf9fe9d73f6b41867da7eb15f5435e">set_not_active</a>( <span class="keywordtype">unsigned</span> lane_id );
<a name="l00874"></a>00874 
<a name="l00875"></a>00875     <span class="comment">// accessors</span>
<a name="l00876"></a><a class="code" href="classwarp__inst__t.html#a056e1f5e684e3f07fb370d704778a02f">00876</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a056e1f5e684e3f07fb370d704778a02f">print_insn</a>(FILE *fp)<span class="keyword"> const </span>
<a name="l00877"></a>00877 <span class="keyword">    </span>{
<a name="l00878"></a>00878         fprintf(fp,<span class="stringliteral">&quot; [inst @ pc=0x%04x] &quot;</span>, <a class="code" href="classinst__t.html#a76aea27709c3a0256c2615451c7daa56">pc</a> );
<a name="l00879"></a>00879         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=(<span class="keywordtype">int</span>)<a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>-&gt;<a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>-1; i&gt;=0; i--)
<a name="l00880"></a>00880             fprintf(fp, <span class="stringliteral">&quot;%c&quot;</span>, ((<a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a>[i])?<span class="charliteral">&apos;1&apos;</span>:<span class="charliteral">&apos;0&apos;</span>) );
<a name="l00881"></a>00881     }
<a name="l00882"></a><a class="code" href="classwarp__inst__t.html#ae44d8d3d283dc0ecf16db55f57f3c03d">00882</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#ae44d8d3d283dc0ecf16db55f57f3c03d">active</a>( <span class="keywordtype">unsigned</span> thread )<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a>.test(thread); }
<a name="l00883"></a><a class="code" href="classwarp__inst__t.html#ae2478f41ed1d4ce60ceec0fa5a85623a">00883</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ae2478f41ed1d4ce60ceec0fa5a85623a">active_count</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a>.count(); }
<a name="l00884"></a><a class="code" href="classwarp__inst__t.html#a4a8609e29cd530319197bec3fee7286c">00884</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#a4a8609e29cd530319197bec3fee7286c">issued_count</a>()<span class="keyword"> const </span>{ assert(<a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a> == <span class="keyword">false</span>); <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a21bdd8853f76dc0188e12b739731a4bb">m_warp_issued_mask</a>.count(); }  <span class="comment">// for instruction counting </span>
<a name="l00885"></a><a class="code" href="classwarp__inst__t.html#a6d8dcd93a49b024688585d9e37a86a4e">00885</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a6d8dcd93a49b024688585d9e37a86a4e">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a>; }
<a name="l00886"></a><a class="code" href="classwarp__inst__t.html#ab1dd215e5b3d4083cdb473d4f8bf8bf2">00886</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ab1dd215e5b3d4083cdb473d4f8bf8bf2">warp_id</a>()<span class="keyword"> const </span>
<a name="l00887"></a>00887 <span class="keyword">    </span>{ 
<a name="l00888"></a>00888         assert( !<a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a> );
<a name="l00889"></a>00889         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#acf0e9df5aafb913eb8b961c47d4b4300">m_warp_id</a>; 
<a name="l00890"></a>00890     }
<a name="l00891"></a><a class="code" href="classwarp__inst__t.html#a87038bc0fe07fd3c46ee639d60267c08">00891</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#a87038bc0fe07fd3c46ee639d60267c08">dynamic_warp_id</a>()<span class="keyword"> const </span>
<a name="l00892"></a>00892 <span class="keyword">    </span>{ 
<a name="l00893"></a>00893         assert( !<a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a> );
<a name="l00894"></a>00894         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#ae28306d0cc620dc964d9eb3ae6b565d9">m_dynamic_warp_id</a>; 
<a name="l00895"></a>00895     }
<a name="l00896"></a><a class="code" href="classwarp__inst__t.html#a18c8a6b673bf545f55d6edef2928abd1">00896</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a18c8a6b673bf545f55d6edef2928abd1">has_callback</a>( <span class="keywordtype">unsigned</span> <a class="code" href="rng_8cpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a> )<span class="keyword"> const</span>
<a name="l00897"></a>00897 <span class="keyword">    </span>{
<a name="l00898"></a>00898         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a>[n] &amp;&amp; <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a> &amp;&amp; 
<a name="l00899"></a>00899             (<a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[n].callback.function!=NULL);
<a name="l00900"></a>00900     }
<a name="l00901"></a><a class="code" href="classwarp__inst__t.html#ad6eb1b42860bc299f4674a7609bf6395">00901</a>     <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> <a class="code" href="classwarp__inst__t.html#ad6eb1b42860bc299f4674a7609bf6395">get_addr</a>( <span class="keywordtype">unsigned</span> <a class="code" href="rng_8cpp.html#a76f11d9a0a47b94f72c2d0e77fb32240">n</a> )<span class="keyword"> const</span>
<a name="l00902"></a>00902 <span class="keyword">    </span>{
<a name="l00903"></a>00903         assert( <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a> );
<a name="l00904"></a>00904         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>[n].memreqaddr[0];
<a name="l00905"></a>00905     }
<a name="l00906"></a>00906 
<a name="l00907"></a><a class="code" href="classwarp__inst__t.html#ad5046e7f41d1188cf9428d160b3ead73">00907</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#ad5046e7f41d1188cf9428d160b3ead73">isatomic</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#ab7830ead9db63c4473b35b2adcd64c04">m_isatomic</a>; }
<a name="l00908"></a>00908 
<a name="l00909"></a><a class="code" href="classwarp__inst__t.html#ad9026d2383a0365bd123f309534b5fb1">00909</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ad9026d2383a0365bd123f309534b5fb1">warp_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>-&gt;<a class="code" href="structcore__config.html#a13edb2e659903146089ba0e75ce36ed1">warp_size</a>; }
<a name="l00910"></a>00910 
<a name="l00911"></a><a class="code" href="classwarp__inst__t.html#add080e50183d3231cb1d22fb7f6eb43e">00911</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#add080e50183d3231cb1d22fb7f6eb43e">accessq_empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#aaa8f0652365a855ab440542699489a67">m_accessq</a>.empty(); }
<a name="l00912"></a><a class="code" href="classwarp__inst__t.html#af7237cd02688a40a086556facb08fb44">00912</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#af7237cd02688a40a086556facb08fb44">accessq_count</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#aaa8f0652365a855ab440542699489a67">m_accessq</a>.size(); }
<a name="l00913"></a><a class="code" href="classwarp__inst__t.html#a840f7c8bbd444ba2feaaa4d8dbe92994">00913</a>     <span class="keyword">const</span> <a class="code" href="classmem__access__t.html">mem_access_t</a> &amp;<a class="code" href="classwarp__inst__t.html#a840f7c8bbd444ba2feaaa4d8dbe92994">accessq_back</a>() { <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#aaa8f0652365a855ab440542699489a67">m_accessq</a>.back(); }
<a name="l00914"></a><a class="code" href="classwarp__inst__t.html#ac53a68215e0d799173661067694346ae">00914</a>     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#ac53a68215e0d799173661067694346ae">accessq_pop_back</a>() { <a class="code" href="classwarp__inst__t.html#aaa8f0652365a855ab440542699489a67">m_accessq</a>.pop_back(); }
<a name="l00915"></a>00915 
<a name="l00916"></a><a class="code" href="classwarp__inst__t.html#a4d806fbdf1218ecee367cb44d3b5b6ca">00916</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a4d806fbdf1218ecee367cb44d3b5b6ca">dispatch_delay</a>()
<a name="l00917"></a>00917     { 
<a name="l00918"></a>00918         <span class="keywordflow">if</span>( <a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">cycles</a> &gt; 0 ) 
<a name="l00919"></a>00919             <a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">cycles</a>--;
<a name="l00920"></a>00920         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">cycles</a> &gt; 0;
<a name="l00921"></a>00921     }
<a name="l00922"></a>00922 
<a name="l00923"></a><a class="code" href="classwarp__inst__t.html#a5baecd0a27402f0399ccecdded196852">00923</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a5baecd0a27402f0399ccecdded196852">has_dispatch_delay</a>(){
<a name="l00924"></a>00924         <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">cycles</a> &gt; 0;
<a name="l00925"></a>00925     }
<a name="l00926"></a>00926 
<a name="l00927"></a>00927     <span class="keywordtype">void</span> <a class="code" href="classwarp__inst__t.html#a55adcc62951f84d8b005c0a8a1a056e2">print</a>( FILE *fout ) <span class="keyword">const</span>;
<a name="l00928"></a><a class="code" href="classwarp__inst__t.html#ade8230e949579209fa2e9cb0873ecd48">00928</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ade8230e949579209fa2e9cb0873ecd48">get_uid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classwarp__inst__t.html#aa27c462b52e96324ae1a6477e98b7ae8">m_uid</a>; }
<a name="l00929"></a>00929 
<a name="l00930"></a>00930 <span class="keyword">protected</span>:
<a name="l00931"></a>00931 
<a name="l00932"></a><a class="code" href="classwarp__inst__t.html#aa27c462b52e96324ae1a6477e98b7ae8">00932</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#aa27c462b52e96324ae1a6477e98b7ae8">m_uid</a>;
<a name="l00933"></a><a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">00933</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#ae69ae8d0f588da34d26897f5b1b54f89">m_empty</a>;
<a name="l00934"></a><a class="code" href="classwarp__inst__t.html#ac0447c8b7179c32540c5860013e3b3df">00934</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#ac0447c8b7179c32540c5860013e3b3df">m_cache_hit</a>;
<a name="l00935"></a><a class="code" href="classwarp__inst__t.html#a8e30c8820148d7aa89b42809d75b2d2a">00935</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="classwarp__inst__t.html#a8e30c8820148d7aa89b42809d75b2d2a">issue_cycle</a>;
<a name="l00936"></a><a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">00936</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ace66fcd80575e113ae5019599c0a4128">cycles</a>; <span class="comment">// used for implementing initiation interval delay</span>
<a name="l00937"></a><a class="code" href="classwarp__inst__t.html#ab7830ead9db63c4473b35b2adcd64c04">00937</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#ab7830ead9db63c4473b35b2adcd64c04">m_isatomic</a>;
<a name="l00938"></a><a class="code" href="classwarp__inst__t.html#a3d2606b96edddeb0f2cd7ebe3196e024">00938</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a3d2606b96edddeb0f2cd7ebe3196e024">m_is_printf</a>;
<a name="l00939"></a><a class="code" href="classwarp__inst__t.html#acf0e9df5aafb913eb8b961c47d4b4300">00939</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#acf0e9df5aafb913eb8b961c47d4b4300">m_warp_id</a>;
<a name="l00940"></a><a class="code" href="classwarp__inst__t.html#ae28306d0cc620dc964d9eb3ae6b565d9">00940</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#ae28306d0cc620dc964d9eb3ae6b565d9">m_dynamic_warp_id</a>; 
<a name="l00941"></a><a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">00941</a>     <span class="keyword">const</span> <a class="code" href="structcore__config.html">core_config</a> *<a class="code" href="classwarp__inst__t.html#a72bafff96f66a0d3bb4954401ff85da1">m_config</a>; 
<a name="l00942"></a><a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">00942</a>     <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> <a class="code" href="classwarp__inst__t.html#a712f6c559f4683f4ff4f840540e92b26">m_warp_active_mask</a>; <span class="comment">// dynamic active mask for timing model (after predication)</span>
<a name="l00943"></a><a class="code" href="classwarp__inst__t.html#a21bdd8853f76dc0188e12b739731a4bb">00943</a>     <a class="code" href="abstract__hardware__model_8h.html#a7a04052f9f95a9e16de0283eb0b22c3e">active_mask_t</a> <a class="code" href="classwarp__inst__t.html#a21bdd8853f76dc0188e12b739731a4bb">m_warp_issued_mask</a>; <span class="comment">// active mask at issue (prior to predication test) -- for instruction counting</span>
<a name="l00944"></a>00944 
<a name="l00945"></a><a class="code" href="structwarp__inst__t_1_1per__thread__info.html">00945</a>     <span class="keyword">struct </span><a class="code" href="structwarp__inst__t_1_1per__thread__info.html">per_thread_info</a> {
<a name="l00946"></a><a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a04ed91091f6192c514f7426d8bd331e1">00946</a>         <a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a04ed91091f6192c514f7426d8bd331e1">per_thread_info</a>() {
<a name="l00947"></a>00947             <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="abstract__hardware__model_8h.html#acc19e1a3f40248ac6a83b3cdb3df9449">MAX_ACCESSES_PER_INSN_PER_THREAD</a>; i++)
<a name="l00948"></a>00948                 <a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a43f48ef04149c8ce12887b8eea970716">memreqaddr</a>[i] = 0;
<a name="l00949"></a>00949         }
<a name="l00950"></a><a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a7423921dc05cbb8b6b69216c0efe9514">00950</a>         <a class="code" href="structdram__callback__t.html">dram_callback_t</a> <a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a7423921dc05cbb8b6b69216c0efe9514">callback</a>;
<a name="l00951"></a><a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a43f48ef04149c8ce12887b8eea970716">00951</a>         <a class="code" href="abstract__hardware__model_8h.html#adcde2e548bc855c5cb446e23e38bd12d">new_addr_type</a> <a class="code" href="structwarp__inst__t_1_1per__thread__info.html#a43f48ef04149c8ce12887b8eea970716">memreqaddr</a>[<a class="code" href="abstract__hardware__model_8h.html#acc19e1a3f40248ac6a83b3cdb3df9449">MAX_ACCESSES_PER_INSN_PER_THREAD</a>]; <span class="comment">// effective address, upto 8 different requests (to support 32B access in 8 chunks of 4B each)</span>
<a name="l00952"></a>00952     };
<a name="l00953"></a><a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">00953</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a260f279cdaaaf2275692ac7e2ce530e1">m_per_scalar_thread_valid</a>;
<a name="l00954"></a><a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">00954</a>     std::vector&lt;per_thread_info&gt; <a class="code" href="classwarp__inst__t.html#a3972b1db54cc7ab74ef905da7a481f81">m_per_scalar_thread</a>;
<a name="l00955"></a><a class="code" href="classwarp__inst__t.html#a34586a7c7e47c03a3b6dedb780c0c63f">00955</a>     <span class="keywordtype">bool</span> <a class="code" href="classwarp__inst__t.html#a34586a7c7e47c03a3b6dedb780c0c63f">m_mem_accesses_created</a>;
<a name="l00956"></a><a class="code" href="classwarp__inst__t.html#aaa8f0652365a855ab440542699489a67">00956</a>     std::list&lt;mem_access_t&gt; <a class="code" href="classwarp__inst__t.html#aaa8f0652365a855ab440542699489a67">m_accessq</a>;
<a name="l00957"></a>00957 
<a name="l00958"></a><a class="code" href="classwarp__inst__t.html#a9b7983d8df3dc556b53121e9f83b9724">00958</a>     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classwarp__inst__t.html#a9b7983d8df3dc556b53121e9f83b9724">sm_next_uid</a>;
<a name="l00959"></a>00959 };
<a name="l00960"></a>00960 
<a name="l00961"></a>00961 <span class="keywordtype">void</span> <a class="code" href="abstract__hardware__model_8cc.html#abf4893100752eaa8370602c0a6373c82">move_warp</a>( <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> *&amp;dst, <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> *&amp;src );
<a name="l00962"></a>00962 
<a name="l00963"></a>00963 <span class="keywordtype">size_t</span> <a class="code" href="abstract__hardware__model_8h.html#adb5bcd9d21c9fcf9e2af27b99b10a505">get_kernel_code_size</a>( <span class="keyword">class</span> <a class="code" href="classfunction__info.html">function_info</a> *entry );
<a name="l00964"></a>00964 
<a name="l00965"></a>00965 <span class="comment">/*</span>
<a name="l00966"></a>00966 <span class="comment"> * This abstract class used as a base for functional and performance and simulation, it has basic functional simulation</span>
<a name="l00967"></a>00967 <span class="comment"> * data structures and procedures. </span>
<a name="l00968"></a>00968 <span class="comment"> */</span>
<a name="l00969"></a><a class="code" href="classcore__t.html">00969</a> <span class="keyword">class </span><a class="code" href="classcore__t.html">core_t</a> {
<a name="l00970"></a>00970     <span class="keyword">public</span>:
<a name="l00971"></a><a class="code" href="classcore__t.html#aed2096c530d60475e9509ba4b85896dd">00971</a>         <a class="code" href="classcore__t.html#aed2096c530d60475e9509ba4b85896dd">core_t</a>( <a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> *gpu, 
<a name="l00972"></a>00972                 <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *kernel,
<a name="l00973"></a>00973                 <span class="keywordtype">unsigned</span> warp_size,
<a name="l00974"></a>00974                 <span class="keywordtype">unsigned</span> threads_per_shader )
<a name="l00975"></a>00975             : <a class="code" href="classcore__t.html#a8c9d8ee79e128de6729806cdfa2c5301">m_gpu</a>( gpu ),
<a name="l00976"></a>00976               <a class="code" href="classcore__t.html#a598c5ea555cb4d6f4b3c1253bf87425b">m_kernel</a>( kernel ),
<a name="l00977"></a>00977               <a class="code" href="classcore__t.html#abc85a3fb05c778cd6c06c95863a47ed6">m_simt_stack</a>( NULL ),
<a name="l00978"></a>00978               <a class="code" href="classcore__t.html#a74ac58fba7a6ecd53ba31705ba5c38cd">m_thread</a>( NULL ),
<a name="l00979"></a>00979               <a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a>( warp_size )
<a name="l00980"></a>00980         {
<a name="l00981"></a>00981             <a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">m_warp_count</a> = threads_per_shader/<a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a>;
<a name="l00982"></a>00982             <span class="comment">// Handle the case where the number of threads is not a</span>
<a name="l00983"></a>00983             <span class="comment">// multiple of the warp size</span>
<a name="l00984"></a>00984             <span class="keywordflow">if</span> ( threads_per_shader % <a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a> != 0 ) {
<a name="l00985"></a>00985                 <a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">m_warp_count</a> += 1;
<a name="l00986"></a>00986             }
<a name="l00987"></a>00987             assert( <a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">m_warp_count</a> * <a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a> &gt; 0 );
<a name="l00988"></a>00988             <a class="code" href="classcore__t.html#a74ac58fba7a6ecd53ba31705ba5c38cd">m_thread</a> = ( <a class="code" href="classptx__thread__info.html">ptx_thread_info</a>** )
<a name="l00989"></a>00989                      calloc( <a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">m_warp_count</a> * <a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a>,
<a name="l00990"></a>00990                              <span class="keyword">sizeof</span>( <a class="code" href="classptx__thread__info.html">ptx_thread_info</a>* ) );
<a name="l00991"></a>00991             <a class="code" href="classcore__t.html#accf6626dfdb6d00cf2f2ada5a710787b">initilizeSIMTStack</a>(<a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">m_warp_count</a>,m_warp_size);
<a name="l00992"></a>00992         }
<a name="l00993"></a><a class="code" href="classcore__t.html#a67a99b93febb4ba7a6a8f5909590044d">00993</a>         <span class="keyword">virtual</span> <a class="code" href="classcore__t.html#a67a99b93febb4ba7a6a8f5909590044d">~core_t</a>() { <a class="code" href="y_8tab_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a>(<a class="code" href="classcore__t.html#a74ac58fba7a6ecd53ba31705ba5c38cd">m_thread</a>); }
<a name="l00994"></a>00994         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#a92ab216a0345b3134688560a58f8df7f">warp_exit</a>( <span class="keywordtype">unsigned</span> warp_id ) = 0;
<a name="l00995"></a>00995         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classcore__t.html#a28af3be792182e1c7c7438103935a41c">warp_waiting_at_barrier</a>( <span class="keywordtype">unsigned</span> warp_id ) <span class="keyword">const</span> = 0;
<a name="l00996"></a>00996         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#a338a44c2fa7c425e3277daffe791844b">checkExecutionStatusAndUpdate</a>(<a class="code" href="classwarp__inst__t.html">warp_inst_t</a> &amp;inst, <span class="keywordtype">unsigned</span> t, <span class="keywordtype">unsigned</span> tid)=0;
<a name="l00997"></a><a class="code" href="classcore__t.html#a9498cec67d27d32cd69bbcc6f76752b2">00997</a>         <span class="keyword">class </span><a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> * <a class="code" href="classcore__t.html#a9498cec67d27d32cd69bbcc6f76752b2">get_gpu</a>() {<span class="keywordflow">return</span> <a class="code" href="classcore__t.html#a8c9d8ee79e128de6729806cdfa2c5301">m_gpu</a>;}
<a name="l00998"></a>00998         <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#a19a45810ebc463b29ecffaf9024a58f3">execute_warp_inst_t</a>(<a class="code" href="classwarp__inst__t.html">warp_inst_t</a> &amp;inst, <span class="keywordtype">unsigned</span> warpId =(<span class="keywordtype">unsigned</span>)-1);
<a name="l00999"></a>00999         <span class="keywordtype">bool</span>  <a class="code" href="classcore__t.html#aef36fb0d504e2357a78da821249f617a">ptx_thread_done</a>( <span class="keywordtype">unsigned</span> hw_thread_id ) <span class="keyword">const</span> ;
<a name="l01000"></a>01000         <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#aa11c9f449e913436ec99099c1a650424">updateSIMTStack</a>(<span class="keywordtype">unsigned</span> warpId, <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> * inst);
<a name="l01001"></a>01001         <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#accf6626dfdb6d00cf2f2ada5a710787b">initilizeSIMTStack</a>(<span class="keywordtype">unsigned</span> warp_count, <span class="keywordtype">unsigned</span> warps_size);
<a name="l01002"></a>01002         <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#aa5c29c2359d60b2479394dc6919db45d">deleteSIMTStack</a>();
<a name="l01003"></a>01003         <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> <a class="code" href="classcore__t.html#a43d4407b2123d779eab151bd348d340b" title="Get the warp to be executed using the data taken form the SIMT stack.">getExecuteWarp</a>(<span class="keywordtype">unsigned</span> warpId);
<a name="l01004"></a>01004         <span class="keywordtype">void</span> <a class="code" href="classcore__t.html#af4559dc19ac00b8e3dfb014e94c361e8">get_pdom_stack_top_info</a>( <span class="keywordtype">unsigned</span> warpId, <span class="keywordtype">unsigned</span> *pc, <span class="keywordtype">unsigned</span> *rpc ) <span class="keyword">const</span>;
<a name="l01005"></a><a class="code" href="classcore__t.html#afd052ae545bd12db665cd934eb3e9a31">01005</a>         <a class="code" href="classkernel__info__t.html">kernel_info_t</a> * <a class="code" href="classcore__t.html#afd052ae545bd12db665cd934eb3e9a31">get_kernel_info</a>(){ <span class="keywordflow">return</span> <a class="code" href="classcore__t.html#a598c5ea555cb4d6f4b3c1253bf87425b">m_kernel</a>;}
<a name="l01006"></a><a class="code" href="classcore__t.html#adc93c7c27d376c9b2fc667fef27647d0">01006</a>         <span class="keywordtype">unsigned</span> <a class="code" href="classcore__t.html#adc93c7c27d376c9b2fc667fef27647d0">get_warp_size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a>; }
<a name="l01007"></a>01007     <span class="keyword">protected</span>:
<a name="l01008"></a><a class="code" href="classcore__t.html#a8c9d8ee79e128de6729806cdfa2c5301">01008</a>         <span class="keyword">class </span><a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> *<a class="code" href="classcore__t.html#a8c9d8ee79e128de6729806cdfa2c5301">m_gpu</a>;
<a name="l01009"></a><a class="code" href="classcore__t.html#a598c5ea555cb4d6f4b3c1253bf87425b">01009</a>         <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *<a class="code" href="classcore__t.html#a598c5ea555cb4d6f4b3c1253bf87425b">m_kernel</a>;
<a name="l01010"></a><a class="code" href="classcore__t.html#abc85a3fb05c778cd6c06c95863a47ed6">01010</a>         <a class="code" href="classsimt__stack.html">simt_stack</a>  **<a class="code" href="classcore__t.html#abc85a3fb05c778cd6c06c95863a47ed6">m_simt_stack</a>; <span class="comment">// pdom based reconvergence context for each warp</span>
<a name="l01011"></a><a class="code" href="classcore__t.html#a74ac58fba7a6ecd53ba31705ba5c38cd">01011</a>         <span class="keyword">class </span><a class="code" href="classptx__thread__info.html">ptx_thread_info</a> ** <a class="code" href="classcore__t.html#a74ac58fba7a6ecd53ba31705ba5c38cd">m_thread</a>;
<a name="l01012"></a><a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">01012</a>         <span class="keywordtype">unsigned</span> <a class="code" href="classcore__t.html#a65e8ba0d59364d180c6f3ca49d840229">m_warp_size</a>;
<a name="l01013"></a><a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">01013</a>         <span class="keywordtype">unsigned</span> <a class="code" href="classcore__t.html#a6c35c5fc2bfa8ed3096db834e6b305fb">m_warp_count</a>;
<a name="l01014"></a>01014 };
<a name="l01015"></a>01015 
<a name="l01016"></a>01016 
<a name="l01017"></a>01017 <span class="comment">//register that can hold multiple instructions.</span>
<a name="l01018"></a><a class="code" href="classregister__set.html">01018</a> <span class="keyword">class </span><a class="code" href="classregister__set.html">register_set</a> {
<a name="l01019"></a>01019 <span class="keyword">public</span>:
<a name="l01020"></a><a class="code" href="classregister__set.html#ad4adf41e059f28c78917abe625a99d7a">01020</a>     <a class="code" href="classregister__set.html#ad4adf41e059f28c78917abe625a99d7a">register_set</a>(<span class="keywordtype">unsigned</span> num, <span class="keyword">const</span> <span class="keywordtype">char</span>* name){
<a name="l01021"></a>01021         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; num; i++ ) {
<a name="l01022"></a>01022             <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>.push_back(<span class="keyword">new</span> <a class="code" href="classwarp__inst__t.html">warp_inst_t</a>());
<a name="l01023"></a>01023         }
<a name="l01024"></a>01024         <a class="code" href="classregister__set.html#a251188bc9bffa1340a51d94295cd1d42">m_name</a> = name;
<a name="l01025"></a>01025     }
<a name="l01026"></a><a class="code" href="classregister__set.html#afc6a582f983b8f883c513c3d718cd222">01026</a>     <span class="keywordtype">bool</span> <a class="code" href="classregister__set.html#afc6a582f983b8f883c513c3d718cd222">has_free</a>(){
<a name="l01027"></a>01027         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>.size(); i++ ) {
<a name="l01028"></a>01028             <span class="keywordflow">if</span>( <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i]-&gt;empty() ) {
<a name="l01029"></a>01029                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01030"></a>01030             }
<a name="l01031"></a>01031         }
<a name="l01032"></a>01032         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01033"></a>01033     }
<a name="l01034"></a><a class="code" href="classregister__set.html#a4dd3f829dec172021e66ebeed9d59b20">01034</a>     <span class="keywordtype">bool</span> <a class="code" href="classregister__set.html#a4dd3f829dec172021e66ebeed9d59b20">has_ready</a>(){
<a name="l01035"></a>01035         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>.size(); i++ ) {
<a name="l01036"></a>01036             <span class="keywordflow">if</span>( not <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i]-&gt;empty() ) {
<a name="l01037"></a>01037                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01038"></a>01038             }
<a name="l01039"></a>01039         }
<a name="l01040"></a>01040         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01041"></a>01041     }
<a name="l01042"></a>01042 
<a name="l01043"></a><a class="code" href="classregister__set.html#aa1bc637d8a6b46e0f69749028ba2bfdf">01043</a>     <span class="keywordtype">void</span> <a class="code" href="classregister__set.html#aa1bc637d8a6b46e0f69749028ba2bfdf">move_in</a>( <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> *&amp;src ){
<a name="l01044"></a>01044         <a class="code" href="classwarp__inst__t.html">warp_inst_t</a>** <a class="code" href="y_8tab_8c.html#af07d89f5ceaea0c7c8252cc41fd75f37">free</a> = <a class="code" href="classregister__set.html#a44c85736aff09e152a81bad99ddf7911">get_free</a>();
<a name="l01045"></a>01045         <a class="code" href="abstract__hardware__model_8cc.html#abf4893100752eaa8370602c0a6373c82">move_warp</a>(*free, src);
<a name="l01046"></a>01046     }
<a name="l01047"></a>01047     <span class="comment">//void copy_in( warp_inst_t* src ){</span>
<a name="l01048"></a>01048         <span class="comment">//   src-&gt;copy_contents_to(*get_free());</span>
<a name="l01049"></a>01049         <span class="comment">//}</span>
<a name="l01050"></a><a class="code" href="classregister__set.html#ad689d3116b019bd30e84e0cd17101f94">01050</a>     <span class="keywordtype">void</span> <a class="code" href="classregister__set.html#ad689d3116b019bd30e84e0cd17101f94">move_out_to</a>( <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> *&amp;dest ){
<a name="l01051"></a>01051         <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> **ready=<a class="code" href="classregister__set.html#a736ba5ce2956c0c6814177768f50f07b">get_ready</a>();
<a name="l01052"></a>01052         <a class="code" href="abstract__hardware__model_8cc.html#abf4893100752eaa8370602c0a6373c82">move_warp</a>(dest, *ready);
<a name="l01053"></a>01053     }
<a name="l01054"></a>01054 
<a name="l01055"></a><a class="code" href="classregister__set.html#a736ba5ce2956c0c6814177768f50f07b">01055</a>     <a class="code" href="classwarp__inst__t.html">warp_inst_t</a>** <a class="code" href="classregister__set.html#a736ba5ce2956c0c6814177768f50f07b">get_ready</a>(){
<a name="l01056"></a>01056         <a class="code" href="classwarp__inst__t.html">warp_inst_t</a>** ready;
<a name="l01057"></a>01057         ready = NULL;
<a name="l01058"></a>01058         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>.size(); i++ ) {
<a name="l01059"></a>01059             <span class="keywordflow">if</span>( not <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i]-&gt;empty() ) {
<a name="l01060"></a>01060                 <span class="keywordflow">if</span>( ready and (*ready)-&gt;<a class="code" href="classwarp__inst__t.html#ade8230e949579209fa2e9cb0873ecd48">get_uid</a>() &lt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i]-&gt;get_uid() ) {
<a name="l01061"></a>01061                     <span class="comment">// ready is oldest</span>
<a name="l01062"></a>01062                 } <span class="keywordflow">else</span> {
<a name="l01063"></a>01063                     ready = &amp;<a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i];
<a name="l01064"></a>01064                 }
<a name="l01065"></a>01065             }
<a name="l01066"></a>01066         }
<a name="l01067"></a>01067         <span class="keywordflow">return</span> ready;
<a name="l01068"></a>01068     }
<a name="l01069"></a>01069 
<a name="l01070"></a><a class="code" href="classregister__set.html#a11cf8ec7849a59064cc95d3fb38a32ce">01070</a>     <span class="keywordtype">void</span> <a class="code" href="classregister__set.html#a11cf8ec7849a59064cc95d3fb38a32ce">print</a>(FILE* fp)<span class="keyword"> const</span>{
<a name="l01071"></a>01071         fprintf(fp, <span class="stringliteral">&quot;%s : @%p\n&quot;</span>, <a class="code" href="classregister__set.html#a251188bc9bffa1340a51d94295cd1d42">m_name</a>, <span class="keyword">this</span>);
<a name="l01072"></a>01072         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>.size(); i++ ) {
<a name="l01073"></a>01073             fprintf(fp, <span class="stringliteral">&quot;     &quot;</span>);
<a name="l01074"></a>01074             <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i]-&gt;print(fp);
<a name="l01075"></a>01075             fprintf(fp, <span class="stringliteral">&quot;\n&quot;</span>);
<a name="l01076"></a>01076         }
<a name="l01077"></a>01077     }
<a name="l01078"></a>01078 
<a name="l01079"></a><a class="code" href="classregister__set.html#a44c85736aff09e152a81bad99ddf7911">01079</a>     <a class="code" href="classwarp__inst__t.html">warp_inst_t</a> ** <a class="code" href="classregister__set.html#a44c85736aff09e152a81bad99ddf7911">get_free</a>(){
<a name="l01080"></a>01080         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> i = 0; i &lt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>.size(); i++ ) {
<a name="l01081"></a>01081             <span class="keywordflow">if</span>( <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i]-&gt;empty() ) {
<a name="l01082"></a>01082                 <span class="keywordflow">return</span> &amp;<a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>[i];
<a name="l01083"></a>01083             }
<a name="l01084"></a>01084         }
<a name="l01085"></a>01085         assert(0 &amp;&amp; <span class="stringliteral">&quot;No free registers found&quot;</span>);
<a name="l01086"></a>01086         <span class="keywordflow">return</span> NULL;
<a name="l01087"></a>01087     }
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 <span class="keyword">private</span>:
<a name="l01090"></a><a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">01090</a>     std::vector&lt;warp_inst_t*&gt; <a class="code" href="classregister__set.html#a581e5e74e93f38f2ae6b11539b9286d6">regs</a>;
<a name="l01091"></a><a class="code" href="classregister__set.html#a251188bc9bffa1340a51d94295cd1d42">01091</a>     <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classregister__set.html#a251188bc9bffa1340a51d94295cd1d42">m_name</a>;
<a name="l01092"></a>01092 };
<a name="l01093"></a>01093 
<a name="l01094"></a>01094 <span class="preprocessor">#endif // #ifdef __cplusplus</span>
<a name="l01095"></a>01095 <span class="preprocessor"></span>
<a name="l01096"></a>01096 <span class="preprocessor">#endif // #ifndef ABSTRACT_HARDWARE_MODEL_INCLUDED</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 13 May 2014 for GPGPU-Sim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
