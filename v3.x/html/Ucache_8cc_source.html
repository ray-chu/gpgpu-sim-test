<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPGPU-Sim: v3.x/src/gpuwattch/cacti/Ucache.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_c934b74ccb33d6b9bfd1e576787940d8.html">v3.x</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_da58ad9beee6988f697f1a76e412a52a.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e4ac30e7c77047a48208b8444737dc6a.html">gpuwattch</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_9c4b365597bf32c8652137a0e3833a05.html">cacti</a>
  </div>
</div>
<div class="contents">
<h1>Ucache.cc</h1><a href="Ucache_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *                                McPAT/CACTI</span>
<a name="l00003"></a>00003 <span class="comment"> *                      SOFTWARE LICENSE AGREEMENT</span>
<a name="l00004"></a>00004 <span class="comment"> *            Copyright 2012 Hewlett-Packard Development Company, L.P.</span>
<a name="l00005"></a>00005 <span class="comment"> *                          All Rights Reserved</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00008"></a>00008 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00009"></a>00009 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00011"></a>00011 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00012"></a>00012 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00013"></a>00013 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00014"></a>00014 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00015"></a>00015 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00016"></a>00016 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00019"></a>00019 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00020"></a>00020 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00021"></a>00021 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00022"></a>00022 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00023"></a>00023 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00024"></a>00024 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00025"></a>00025 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00026"></a>00026 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00027"></a>00027 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00028"></a>00028 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.‚Äù</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> ***************************************************************************/</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;math.h&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#include &quot;<a class="code" href="area_8h.html">area.h</a>&quot;</span>
<a name="l00038"></a>00038 <span class="preprocessor">#include &quot;<a class="code" href="bank_8h.html">bank.h</a>&quot;</span>
<a name="l00039"></a>00039 <span class="preprocessor">#include &quot;<a class="code" href="basic__circuit_8h.html">basic_circuit.h</a>&quot;</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="component_8h.html">component.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="const_8h.html">const.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="decoder_8h.html">decoder.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="parameter_8h.html">parameter.h</a>&quot;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &quot;<a class="code" href="Ucache_8h.html">Ucache.h</a>&quot;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="subarray_8h.html">subarray.h</a>&quot;</span>
<a name="l00046"></a>00046 <span class="preprocessor">#include &quot;<a class="code" href="uca_8h.html">uca.h</a>&quot;</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;iostream&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">using namespace </span>std;
<a name="l00054"></a>00054 
<a name="l00055"></a><a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">00055</a> <span class="keyword">const</span> uint32_t <a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">nthreads</a> = NTHREADS;
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 
<a name="l00058"></a><a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">00058</a> <span class="keywordtype">void</span> <a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">min_values_t::update_min_values</a>(<span class="keyword">const</span> <a class="code" href="classmin__values__t.html">min_values_t</a> * val)
<a name="l00059"></a>00059 {
<a name="l00060"></a>00060   <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>   = (<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a> &gt; val-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>) ? val-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a> : <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>;
<a name="l00061"></a>00061   <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>     = (<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a> &gt; val-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>) ? val-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a> : <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>;
<a name="l00062"></a>00062   <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> = (<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> &gt; val-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>) ? val-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> : <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>;
<a name="l00063"></a>00063   <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>    = (<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a> &gt; val-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>) ? val-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a> : <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>;
<a name="l00064"></a>00064   <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>     = (<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a> &gt; val-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>) ? val-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a> : <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>;
<a name="l00065"></a>00065 }
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 
<a name="l00069"></a><a class="code" href="classmin__values__t.html#ab5b8e77a025b790771c42713d91ad8ea">00069</a> <span class="keywordtype">void</span> <a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">min_values_t::update_min_values</a>(<span class="keyword">const</span> <a class="code" href="classuca__org__t.html">uca_org_t</a> &amp; res)
<a name="l00070"></a>00070 {
<a name="l00071"></a>00071   <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>   = (<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a> &gt; res.<a class="code" href="classuca__org__t.html#a1828396d50a278088a7bac0878bd25dd">access_time</a>) ? res.<a class="code" href="classuca__org__t.html#a1828396d50a278088a7bac0878bd25dd">access_time</a> : <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>;
<a name="l00072"></a>00072   <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>     = (<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a> &gt; res.<a class="code" href="classuca__org__t.html#a5758451e3b486d6ba00844e69cc89e7d">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) ? res.<a class="code" href="classuca__org__t.html#a5758451e3b486d6ba00844e69cc89e7d">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> : <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>;
<a name="l00073"></a>00073   <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> = (<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> &gt; res.<a class="code" href="classuca__org__t.html#a5758451e3b486d6ba00844e69cc89e7d">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>) ? res.<a class="code" href="classuca__org__t.html#a5758451e3b486d6ba00844e69cc89e7d">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> : <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>;
<a name="l00074"></a>00074   <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>    = (<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a> &gt; res.<a class="code" href="classuca__org__t.html#ad292acf2459110e2121f65fbbdfb9bcc">area</a>) ? res.<a class="code" href="classuca__org__t.html#ad292acf2459110e2121f65fbbdfb9bcc">area</a> : <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>;
<a name="l00075"></a>00075   <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>     = (<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a> &gt; res.<a class="code" href="classuca__org__t.html#ae9e1345b0931c4cebecf2c5dea6194a5">cycle_time</a>) ? res.<a class="code" href="classuca__org__t.html#ae9e1345b0931c4cebecf2c5dea6194a5">cycle_time</a> : <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>;
<a name="l00076"></a>00076 }
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="classmin__values__t.html#a12a271b629b3e2a312bc4f47093b5228">00078</a> <span class="keywordtype">void</span> <a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">min_values_t::update_min_values</a>(<span class="keyword">const</span> <a class="code" href="classnuca__org__t.html">nuca_org_t</a> * res)
<a name="l00079"></a>00079 {
<a name="l00080"></a>00080   <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>   = (<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a> &gt; res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>) ? res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a> : <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>;
<a name="l00081"></a>00081   <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>     = (<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a> &gt; res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) ? res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> : <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>;
<a name="l00082"></a>00082   <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> = (<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> &gt; res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>) ? res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> : <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>;
<a name="l00083"></a>00083   <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>    = (<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a> &gt; res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>()) ? res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() : <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>;
<a name="l00084"></a>00084   <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>     = (<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a> &gt; res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#abf1cc962a87f9dc7c8f04af980674c20">cycle_time</a>) ? res-&gt;<a class="code" href="classnuca__org__t.html#adfbf859ff66fb9a8578756074f7394c4">nuca_pda</a>.<a class="code" href="classComponent.html#abf1cc962a87f9dc7c8f04af980674c20">cycle_time</a> : <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>;
<a name="l00085"></a>00085 }
<a name="l00086"></a>00086 
<a name="l00087"></a><a class="code" href="classmin__values__t.html#a385715421919acd1e2c2afed51708448">00087</a> <span class="keywordtype">void</span> <a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">min_values_t::update_min_values</a>(<span class="keyword">const</span> <a class="code" href="classmem__array.html">mem_array</a> * res)
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089   <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>   = (<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a> &gt; res-&gt;<a class="code" href="classmem__array.html#a23e4d95f7cb429e244f556648815f95e">access_time</a>) ? res-&gt;<a class="code" href="classmem__array.html#a23e4d95f7cb429e244f556648815f95e">access_time</a> : <a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>;
<a name="l00090"></a>00090   <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>     = (<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a> &gt; res-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) ? res-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> : <a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>;
<a name="l00091"></a>00091   <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> = (<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a> &gt; res-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>) ? res-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> : <a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>;
<a name="l00092"></a>00092   <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>    = (<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a> &gt; res-&gt;<a class="code" href="classmem__array.html#a128b3e6adae7cd69c4d6ff0aaa84404f">area</a>) ? res-&gt;<a class="code" href="classmem__array.html#a128b3e6adae7cd69c4d6ff0aaa84404f">area</a> : <a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>;
<a name="l00093"></a>00093   <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>     = (<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a> &gt; res-&gt;<a class="code" href="classmem__array.html#af3f5e22031b79065cf1456ed4eae3a5a">cycle_time</a>) ? res-&gt;<a class="code" href="classmem__array.html#af3f5e22031b79065cf1456ed4eae3a5a">cycle_time</a> : <a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>;
<a name="l00094"></a>00094 }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="Ucache_8h.html#a87b65293400df598217655f92d170a69">00098</a> <span class="keywordtype">void</span> * <a class="code" href="Ucache_8cc.html#a87b65293400df598217655f92d170a69">calc_time_mt_wrapper</a>(<span class="keywordtype">void</span> * void_obj)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100   <a class="code" href="structcalc__time__mt__wrapper__struct.html">calc_time_mt_wrapper_struct</a> * calc_obj = (<a class="code" href="structcalc__time__mt__wrapper__struct.html">calc_time_mt_wrapper_struct</a> *) void_obj;
<a name="l00101"></a>00101   uint32_t tid                   = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa6d09524a8b7d0a675ddaf6eb1d62e8b">tid</a>;
<a name="l00102"></a>00102   list&lt;mem_array *&gt; &amp; data_arr   = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa16f93a599edc2ab33b63876cc567f60">data_arr</a>;
<a name="l00103"></a>00103   list&lt;mem_array *&gt; &amp; tag_arr    = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#a56e0059b5861361c4afd9d9594976028">tag_arr</a>;
<a name="l00104"></a>00104   <span class="keywordtype">bool</span> is_tag                    = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#af342054ec5facbee85c5adce2def5125">is_tag</a>;
<a name="l00105"></a>00105   <span class="keywordtype">bool</span> pure_ram                  = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#a7242bc9948526993b4407cc93b223b29">pure_ram</a>;
<a name="l00106"></a>00106   <span class="keywordtype">bool</span> pure_cam                  = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#a14c732f405eece22f6f5a73672f4fbd3">pure_cam</a>;
<a name="l00107"></a>00107   <span class="keywordtype">bool</span> is_main_mem               = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#a8b503d981a48a3dc88d40d356f73886e">is_main_mem</a>;
<a name="l00108"></a>00108   <span class="keywordtype">double</span> Nspd_min                = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#a19986e9b07b7078ae0ea9ab075a82c57">Nspd_min</a>;
<a name="l00109"></a>00109   <a class="code" href="classmin__values__t.html">min_values_t</a> * data_res        = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa6c7d502d0c95a676c520c3dc9a43645">data_res</a>;
<a name="l00110"></a>00110   <a class="code" href="classmin__values__t.html">min_values_t</a> * tag_res         = calc_obj-&gt;<a class="code" href="structcalc__time__mt__wrapper__struct.html#a4a4540dc4a3ab48e93a1bc2fcdf7ca47">tag_res</a>;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   data_arr.clear();
<a name="l00113"></a>00113   data_arr.push_back(<span class="keyword">new</span> <a class="code" href="classmem__array.html">mem_array</a>);
<a name="l00114"></a>00114   tag_arr.clear();
<a name="l00115"></a>00115   tag_arr.push_back(<span class="keyword">new</span> <a class="code" href="classmem__array.html">mem_array</a>);
<a name="l00116"></a>00116 
<a name="l00117"></a>00117   uint32_t Ndwl_niter = <a class="code" href="basic__circuit_8cc.html#a4b98c8a88ac852101d03cafb10e3a5e7">_log2</a>(<a class="code" href="const_8h.html#a98bf4b9a428a836bdf21d69315a96df8">MAXDATAN</a>) + 1;
<a name="l00118"></a>00118   uint32_t Ndbl_niter = <a class="code" href="basic__circuit_8cc.html#a4b98c8a88ac852101d03cafb10e3a5e7">_log2</a>(<a class="code" href="const_8h.html#a98bf4b9a428a836bdf21d69315a96df8">MAXDATAN</a>) + 1;
<a name="l00119"></a>00119   uint32_t Ndcm_niter = <a class="code" href="basic__circuit_8cc.html#a4b98c8a88ac852101d03cafb10e3a5e7">_log2</a>(<a class="code" href="const_8h.html#a961039e8716224fece51923ea9b989b1">MAX_COL_MUX</a>) + 1;
<a name="l00120"></a>00120   uint32_t niter      = Ndwl_niter * Ndbl_niter * Ndcm_niter;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122 
<a name="l00123"></a>00123   <span class="keywordtype">bool</span> is_valid_partition;
<a name="l00124"></a>00124   <span class="keywordtype">int</span> wt_min, wt_max;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a26d50cc6944de7ca1d1a73eea4e16484">force_wiretype</a>) {
<a name="l00127"></a>00127     <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a5024da486a66b224dadb4b2ed9e251f3">wt</a> == 0) {
<a name="l00128"></a>00128       wt_min = <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432a22e0066214db4f2450dfe98e2f942160">Low_swing</a>;
<a name="l00129"></a>00129       wt_max = <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432a22e0066214db4f2450dfe98e2f942160">Low_swing</a>;
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131     <span class="keywordflow">else</span> {
<a name="l00132"></a>00132       wt_min = <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432a03ddcda8467f404189c984dc13409aa8">Global</a>;
<a name="l00133"></a>00133       wt_max = <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432a22e0066214db4f2450dfe98e2f942160">Low_swing</a>-1;
<a name="l00134"></a>00134     }
<a name="l00135"></a>00135   }
<a name="l00136"></a>00136   <span class="keywordflow">else</span> {
<a name="l00137"></a>00137     wt_min = <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432a03ddcda8467f404189c984dc13409aa8">Global</a>;
<a name="l00138"></a>00138     wt_max = <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432a22e0066214db4f2450dfe98e2f942160">Low_swing</a>;
<a name="l00139"></a>00139   }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141   <span class="keywordflow">for</span> (<span class="keywordtype">double</span> Nspd = Nspd_min; Nspd &lt;= <a class="code" href="const_8h.html#ae6e051a6d048236f62f444a62b85b453">MAXDATASPD</a>; Nspd *= 2)
<a name="l00142"></a>00142   {
<a name="l00143"></a>00143     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> wr = wt_min; wr &lt;= wt_max; wr++)
<a name="l00144"></a>00144     {
<a name="l00145"></a>00145       <span class="keywordflow">for</span> (uint32_t iter = tid; iter &lt; niter; iter += <a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">nthreads</a>)
<a name="l00146"></a>00146       {
<a name="l00147"></a>00147         <span class="comment">// reconstruct Ndwl, Ndbl, Ndcm</span>
<a name="l00148"></a>00148         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndwl = 1 &lt;&lt; (iter / (Ndbl_niter * Ndcm_niter));
<a name="l00149"></a>00149         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndbl = 1 &lt;&lt; ((iter / (Ndcm_niter))%Ndbl_niter);
<a name="l00150"></a>00150         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndcm = 1 &lt;&lt; (iter % Ndcm_niter);
<a name="l00151"></a>00151         <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndsam_lev_1 = 1; Ndsam_lev_1 &lt;= <a class="code" href="const_8h.html#a961039e8716224fece51923ea9b989b1">MAX_COL_MUX</a>; Ndsam_lev_1 *= 2)
<a name="l00152"></a>00152         {
<a name="l00153"></a>00153           <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndsam_lev_2 = 1; Ndsam_lev_2 &lt;= <a class="code" href="const_8h.html#a961039e8716224fece51923ea9b989b1">MAX_COL_MUX</a>; Ndsam_lev_2 *= 2)
<a name="l00154"></a>00154           {
<a name="l00155"></a>00155             <span class="comment">//for debuging</span>
<a name="l00156"></a>00156             <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a99a818a8b0f1ad4ace58495977e62451">force_cache_config</a> &amp;&amp; is_tag == <span class="keyword">false</span>)
<a name="l00157"></a>00157             {
<a name="l00158"></a>00158               wr   = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a5024da486a66b224dadb4b2ed9e251f3">wt</a>;
<a name="l00159"></a>00159               Ndwl = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#ad00b5e267bb0375d7471180535e0ed6c">ndwl</a>;
<a name="l00160"></a>00160               Ndbl = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#ac2d3db92d5f55391020cb28e7c4812ac">ndbl</a>;
<a name="l00161"></a>00161               Ndcm = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a97ef381280c3c9b999f6ba98c455b9de">ndcm</a>;
<a name="l00162"></a>00162               <span class="keywordflow">if</span>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a306fa7df8beb46a6852961d8562a529a">nspd</a> != 0) {
<a name="l00163"></a>00163                   Nspd = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a306fa7df8beb46a6852961d8562a529a">nspd</a>;
<a name="l00164"></a>00164               }
<a name="l00165"></a>00165               <span class="keywordflow">if</span>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a3dc421f7a3f8c81abe0d83b8d574106a">ndsam1</a> != 0) {
<a name="l00166"></a>00166                   Ndsam_lev_1 = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a3dc421f7a3f8c81abe0d83b8d574106a">ndsam1</a>;
<a name="l00167"></a>00167                   Ndsam_lev_2 = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#ae181b1145fa8c1ae9f1b37144b479149">ndsam2</a>;
<a name="l00168"></a>00168               }
<a name="l00169"></a>00169             }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171             <span class="keywordflow">if</span> (is_tag == <span class="keyword">true</span>)
<a name="l00172"></a>00172             {
<a name="l00173"></a>00173               is_valid_partition = <a class="code" href="Ucache_8cc.html#afddee871d5ca4cd3b69575ef901a4d8d">calculate_time</a>(is_tag, pure_ram, pure_cam, Nspd, Ndwl,
<a name="l00174"></a>00174                   Ndbl, Ndcm, Ndsam_lev_1, Ndsam_lev_2,
<a name="l00175"></a>00175                   tag_arr.back(), 0, NULL, NULL,
<a name="l00176"></a>00176                   is_main_mem);
<a name="l00177"></a>00177             }
<a name="l00178"></a>00178             <span class="comment">// If it&apos;s a fully-associative cache, the data array partition parameters are identical to that of</span>
<a name="l00179"></a>00179             <span class="comment">// the tag array, so compute data array partition properties also here.</span>
<a name="l00180"></a>00180             <span class="keywordflow">if</span> (is_tag == <span class="keyword">false</span> || <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#adfc9422172f4c7161097a651a82aa57f">fully_assoc</a>)
<a name="l00181"></a>00181             {
<a name="l00182"></a>00182               is_valid_partition = <a class="code" href="Ucache_8cc.html#afddee871d5ca4cd3b69575ef901a4d8d">calculate_time</a>(is_tag<span class="comment">/*false*/</span>, pure_ram, pure_cam, Nspd, Ndwl,
<a name="l00183"></a>00183                   Ndbl, Ndcm, Ndsam_lev_1, Ndsam_lev_2,
<a name="l00184"></a>00184                   data_arr.back(), 0, NULL, NULL,
<a name="l00185"></a>00185                   is_main_mem);
<a name="l00186"></a>00186             }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188             <span class="keywordflow">if</span> (is_valid_partition)
<a name="l00189"></a>00189             {
<a name="l00190"></a>00190               <span class="keywordflow">if</span> (is_tag == <span class="keyword">true</span>)
<a name="l00191"></a>00191               {
<a name="l00192"></a>00192                 tag_arr.back()-&gt;wt = (<span class="keyword">enum</span> <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432">Wire_type</a>) wr;
<a name="l00193"></a>00193                 tag_res-&gt;<a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">update_min_values</a>(tag_arr.back());
<a name="l00194"></a>00194                 tag_arr.push_back(<span class="keyword">new</span> <a class="code" href="classmem__array.html">mem_array</a>);
<a name="l00195"></a>00195               }
<a name="l00196"></a>00196               <span class="keywordflow">if</span> (is_tag == <span class="keyword">false</span> || <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#adfc9422172f4c7161097a651a82aa57f">fully_assoc</a>)
<a name="l00197"></a>00197               {
<a name="l00198"></a>00198                 data_arr.back()-&gt;wt = (<span class="keyword">enum</span> <a class="code" href="cacti__interface_8h.html#a0d0a6912be8bcbfb10f9bfea163e0432">Wire_type</a>) wr;
<a name="l00199"></a>00199                 data_res-&gt;<a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">update_min_values</a>(data_arr.back());
<a name="l00200"></a>00200                 data_arr.push_back(<span class="keyword">new</span> <a class="code" href="classmem__array.html">mem_array</a>);
<a name="l00201"></a>00201               }
<a name="l00202"></a>00202             }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204             <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a99a818a8b0f1ad4ace58495977e62451">force_cache_config</a> &amp;&amp; is_tag == <span class="keyword">false</span>)
<a name="l00205"></a>00205             {
<a name="l00206"></a>00206                 wr   = wt_max;
<a name="l00207"></a>00207                 iter = niter;
<a name="l00208"></a>00208                 <span class="keywordflow">if</span>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a306fa7df8beb46a6852961d8562a529a">nspd</a> != 0) {
<a name="l00209"></a>00209                     Nspd = <a class="code" href="const_8h.html#ae6e051a6d048236f62f444a62b85b453">MAXDATASPD</a>;
<a name="l00210"></a>00210                 }
<a name="l00211"></a>00211                 <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a3dc421f7a3f8c81abe0d83b8d574106a">ndsam1</a> != 0) {
<a name="l00212"></a>00212                     Ndsam_lev_1 = <a class="code" href="const_8h.html#a961039e8716224fece51923ea9b989b1">MAX_COL_MUX</a>+1;
<a name="l00213"></a>00213                     Ndsam_lev_2 = <a class="code" href="const_8h.html#a961039e8716224fece51923ea9b989b1">MAX_COL_MUX</a>+1;
<a name="l00214"></a>00214                 }
<a name="l00215"></a>00215             }
<a name="l00216"></a>00216           }
<a name="l00217"></a>00217         }
<a name="l00218"></a>00218       }
<a name="l00219"></a>00219     }
<a name="l00220"></a>00220   }
<a name="l00221"></a>00221 
<a name="l00222"></a>00222   <span class="keyword">delete</span> data_arr.back();
<a name="l00223"></a>00223   <span class="keyword">delete</span> tag_arr.back();
<a name="l00224"></a>00224   data_arr.pop_back();
<a name="l00225"></a>00225   tag_arr.pop_back();
<a name="l00226"></a>00226 
<a name="l00227"></a>00227   pthread_exit(NULL);
<a name="l00228"></a>00228 }
<a name="l00229"></a>00229 
<a name="l00230"></a>00230 
<a name="l00231"></a>00231 
<a name="l00232"></a><a class="code" href="Ucache_8h.html#afddee871d5ca4cd3b69575ef901a4d8d">00232</a> <span class="keywordtype">bool</span> <a class="code" href="Ucache_8cc.html#afddee871d5ca4cd3b69575ef901a4d8d">calculate_time</a>(
<a name="l00233"></a>00233     <span class="keywordtype">bool</span> is_tag,
<a name="l00234"></a>00234     <span class="keywordtype">int</span> pure_ram,
<a name="l00235"></a>00235     <span class="keywordtype">bool</span> pure_cam,
<a name="l00236"></a>00236     <span class="keywordtype">double</span> Nspd,
<a name="l00237"></a>00237     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndwl,
<a name="l00238"></a>00238     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndbl,
<a name="l00239"></a>00239     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndcm,
<a name="l00240"></a>00240     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndsam_lev_1,
<a name="l00241"></a>00241     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> Ndsam_lev_2,
<a name="l00242"></a>00242     <a class="code" href="classmem__array.html">mem_array</a> *ptr_array,
<a name="l00243"></a>00243     <span class="keywordtype">int</span> flag_results_populate,
<a name="l00244"></a>00244     <a class="code" href="structresults__mem__array.html">results_mem_array</a> *ptr_results,
<a name="l00245"></a>00245     <a class="code" href="classuca__org__t.html">uca_org_t</a> *ptr_fin_res,
<a name="l00246"></a>00246     <span class="keywordtype">bool</span> is_main_mem)
<a name="l00247"></a>00247 {
<a name="l00248"></a>00248   <a class="code" href="classDynamicParameter.html">DynamicParameter</a> dyn_p(is_tag, pure_ram, pure_cam, Nspd, Ndwl, Ndbl, Ndcm, Ndsam_lev_1, Ndsam_lev_2, is_main_mem);
<a name="l00249"></a>00249 
<a name="l00250"></a>00250   <span class="keywordflow">if</span> (dyn_p.<a class="code" href="classDynamicParameter.html#a10978b0d77bec14962bdbe3e43011ccc">is_valid</a> == <span class="keyword">false</span>)
<a name="l00251"></a>00251   {
<a name="l00252"></a>00252     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00253"></a>00253   }
<a name="l00254"></a>00254 
<a name="l00255"></a>00255   <a class="code" href="classUCA.html">UCA</a> * uca = <span class="keyword">new</span> <a class="code" href="classUCA.html">UCA</a>(dyn_p);
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="keywordflow">if</span> (flag_results_populate)
<a name="l00259"></a>00259   { <span class="comment">//For the final solution, populate the ptr_results data structure  -- TODO: copy only necessary variables</span>
<a name="l00260"></a>00260   }
<a name="l00261"></a>00261   <span class="keywordflow">else</span>
<a name="l00262"></a>00262   {
<a name="l00263"></a>00263       <span class="keywordtype">int</span> num_act_mats_hor_dir = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a554779ef7f5adfe31721a865dcf5373f">dp</a>.<a class="code" href="classDynamicParameter.html#a4f14bda04ff2af79f17ccfff6de00c1c">num_act_mats_hor_dir</a>;
<a name="l00264"></a>00264       <span class="keywordtype">int</span> num_mats = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a554779ef7f5adfe31721a865dcf5373f">dp</a>.<a class="code" href="classDynamicParameter.html#a6fc0298a21b6dae1dbe7fac15d6471ee">num_mats</a>;
<a name="l00265"></a>00265       <span class="keywordtype">bool</span> is_fa = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a554779ef7f5adfe31721a865dcf5373f">dp</a>.<a class="code" href="classDynamicParameter.html#abb8c278c2b9427e543ce5052748feea8">fully_assoc</a>;
<a name="l00266"></a>00266       <span class="keywordtype">bool</span> pure_cam = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a554779ef7f5adfe31721a865dcf5373f">dp</a>.<a class="code" href="classDynamicParameter.html#a5eb409c2bd9c72318771f1eef135337b">pure_cam</a>;
<a name="l00267"></a>00267     ptr_array-&gt;<a class="code" href="classmem__array.html#a66b9b06bee4c0fa6b73baf51ad869249">Ndwl</a> = Ndwl;
<a name="l00268"></a>00268     ptr_array-&gt;<a class="code" href="classmem__array.html#a21496ebd56e9044c8d1232210de2f7b7">Ndbl</a> = Ndbl;
<a name="l00269"></a>00269     ptr_array-&gt;<a class="code" href="classmem__array.html#aae4896154a8bcabf9c7d8eea47e18397">Nspd</a> = Nspd;
<a name="l00270"></a>00270     ptr_array-&gt;<a class="code" href="classmem__array.html#a7518dd82fd3cb46807f99ff4b43df022">deg_bl_muxing</a> = dyn_p.<a class="code" href="classDynamicParameter.html#ad0403e80aa9d4ad7f32a796e648bb952">deg_bl_muxing</a>;
<a name="l00271"></a>00271     ptr_array-&gt;<a class="code" href="classmem__array.html#a0eeac08fb10a52d77642d8187b593c65">Ndsam_lev_1</a> = Ndsam_lev_1;
<a name="l00272"></a>00272     ptr_array-&gt;<a class="code" href="classmem__array.html#a0378a78aa2106707d4a8df60eb952c35">Ndsam_lev_2</a> = Ndsam_lev_2;
<a name="l00273"></a>00273     ptr_array-&gt;<a class="code" href="classmem__array.html#a23e4d95f7cb429e244f556648815f95e">access_time</a> = uca-&gt;<a class="code" href="classUCA.html#a11cffc564f4b6703079cce49dcfa4b23">access_time</a>;
<a name="l00274"></a>00274     ptr_array-&gt;<a class="code" href="classmem__array.html#af3f5e22031b79065cf1456ed4eae3a5a">cycle_time</a> = uca-&gt;<a class="code" href="classComponent.html#abf1cc962a87f9dc7c8f04af980674c20">cycle_time</a>;
<a name="l00275"></a>00275     ptr_array-&gt;<a class="code" href="classmem__array.html#aa380d89a60b916266b8a926d131eeee3">multisubbank_interleave_cycle_time</a> = uca-&gt;<a class="code" href="classUCA.html#aecbec57c11f0ae52c26afc64c9cf7572">multisubbank_interleave_cycle_time</a>;
<a name="l00276"></a>00276     ptr_array-&gt;<a class="code" href="classmem__array.html#a293044e2f9943fcb61767a378aa3a9c2">area_ram_cells</a> = uca-&gt;<a class="code" href="classUCA.html#a6d851c9477c0c9884cca05d7d2a273f7">area_all_dataramcells</a>;
<a name="l00277"></a>00277     ptr_array-&gt;<a class="code" href="classmem__array.html#a128b3e6adae7cd69c4d6ff0aaa84404f">area</a>   = uca-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>();
<a name="l00278"></a>00278     ptr_array-&gt;<a class="code" href="classmem__array.html#a105a2bb8449f03e9c2ce23599410ad37">height</a> = uca-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00279"></a>00279     ptr_array-&gt;<a class="code" href="classmem__array.html#a607ce4c1d6b2fa396881ea3e10043e36">width</a>  = uca-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>;
<a name="l00280"></a>00280     ptr_array-&gt;<a class="code" href="classmem__array.html#afba6da6ee9f6492908d981ad89b6209c">mat_height</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00281"></a>00281     ptr_array-&gt;<a class="code" href="classmem__array.html#a8fbc35347d29e8c30e755287bb698128">mat_length</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>;
<a name="l00282"></a>00282     ptr_array-&gt;<a class="code" href="classmem__array.html#af489c4548c66a1f6ed2110d3b89fb278">subarray_height</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00283"></a>00283     ptr_array-&gt;<a class="code" href="classmem__array.html#a3bf46c8c6ed13a8b332bc14114c3f578">subarray_length</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>;
<a name="l00284"></a>00284     ptr_array-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>  = uca-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00285"></a>00285     ptr_array-&gt;<a class="code" href="classmem__array.html#a4c2d4a8eadd520bb2d8fb77432a1153a">delay_senseamp_mux_decoder</a> =
<a name="l00286"></a>00286       MAX(uca-&gt;<a class="code" href="classUCA.html#a4ef5ce9cb6f6b8a0c7a864c93051a0e5">delay_array_to_sa_mux_lev_1_decoder</a>,
<a name="l00287"></a>00287           uca-&gt;<a class="code" href="classUCA.html#ab1f3e9227165f7423ee7e233c295388c">delay_array_to_sa_mux_lev_2_decoder</a>);
<a name="l00288"></a>00288     ptr_array-&gt;<a class="code" href="classmem__array.html#a6e71d81c5aa2df9ece9b601a46d0c598">delay_before_subarray_output_driver</a>         = uca-&gt;<a class="code" href="classUCA.html#abe86d79f56394344a06c64a7a15839a2">delay_before_subarray_output_driver</a>;
<a name="l00289"></a>00289     ptr_array-&gt;<a class="code" href="classmem__array.html#ae0727153d600f7de2a48ca8d109ca6d9">delay_from_subarray_output_driver_to_output</a> = uca-&gt;<a class="code" href="classUCA.html#ac592f6498ddbdd226a5b9df6e2306b70">delay_from_subarray_out_drv_to_out</a>;
<a name="l00290"></a>00290 
<a name="l00291"></a>00291     ptr_array-&gt;<a class="code" href="classmem__array.html#a63a7774b4aa440558dabeaf6e39a77fd">delay_route_to_bank</a>          = uca-&gt;<a class="code" href="classUCA.html#a0420057d7fcd15ebbf833478266ce870">htree_in_add</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>;
<a name="l00292"></a>00292     ptr_array-&gt;<a class="code" href="classmem__array.html#a678449a46a3dd211809b1fcf27bfc5f9">delay_input_htree</a>            = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a2e17e91497143a75a863e181cc1a3319">htree_in_add</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>;
<a name="l00293"></a>00293     ptr_array-&gt;<a class="code" href="classmem__array.html#a89967735a8a4b26d5bfdc1d5205c2156">delay_row_predecode_driver_and_block</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>;
<a name="l00294"></a>00294     ptr_array-&gt;<a class="code" href="classmem__array.html#a3d1e580bdf0a9f1b9fceba80535166ea">delay_row_decoder</a>            = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#ab1e88f71ec9906d7627f5fcf22ea2d87">delay</a>;
<a name="l00295"></a>00295     ptr_array-&gt;<a class="code" href="classmem__array.html#af3320bcf1a73ee4e64f40e120d262fe6">delay_bitlines</a>               = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ae7972cfa462796f4d6fd8ff40e91c12a">delay_bitline</a>;
<a name="l00296"></a>00296     ptr_array-&gt;<a class="code" href="classmem__array.html#a62a9ac3cc60e67fa943b8f7f0dcbfeef">delay_matchlines</a>               = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a>;
<a name="l00297"></a>00297     ptr_array-&gt;<a class="code" href="classmem__array.html#a6a5812eb9e4e52cb024a2b3a35af9d2e">delay_sense_amp</a>              = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a85bfd5c98438e9ed28d81e053aee8ecd">delay_sa</a>;
<a name="l00298"></a>00298     ptr_array-&gt;<a class="code" href="classmem__array.html#a6e6fe2b9becccb4f712a944cf2546660">delay_subarray_output_driver</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#acae6718054300f04c8379b795956281a">delay_subarray_out_drv_htree</a>;
<a name="l00299"></a>00299     ptr_array-&gt;<a class="code" href="classmem__array.html#a9b614692a53d45d56aab90b4547a23f1">delay_dout_htree</a>             = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#af086a7f8d26c10bed5ee9ae716244aa2">htree_out_data</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>;
<a name="l00300"></a>00300     ptr_array-&gt;<a class="code" href="classmem__array.html#a4694d74400028e70b20e09e7a663bce9">delay_comparator</a>             = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a4491b5939453b10425d78c46675017c7">delay_comparator</a>;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302     ptr_array-&gt;<a class="code" href="classmem__array.html#a9e7ca57d76571feaf995b333cb6bc7c1">all_banks_height</a> = uca-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00303"></a>00303     ptr_array-&gt;<a class="code" href="classmem__array.html#ae6b60fe538c0fc0c1796370d78c84db5">all_banks_width</a>  = uca-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>;
<a name="l00304"></a>00304     ptr_array-&gt;<a class="code" href="classmem__array.html#ad656aac2df017b222f74dc2524e2e71e">area_efficiency</a> = uca-&gt;<a class="code" href="classUCA.html#a6d851c9477c0c9884cca05d7d2a273f7">area_all_dataramcells</a> * 100 / (uca-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>());
<a name="l00305"></a>00305 
<a name="l00306"></a>00306     ptr_array-&gt;<a class="code" href="classmem__array.html#a62f061a88040be9040063252a01a506f">power_routing_to_bank</a> = uca-&gt;<a class="code" href="classUCA.html#a57a847ee9027116a21165c967958cae2">power_routing_to_bank</a>;
<a name="l00307"></a>00307     ptr_array-&gt;<a class="code" href="classmem__array.html#aa898c8f6667590503d24fff145852b88">power_addr_input_htree</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a2e17e91497143a75a863e181cc1a3319">htree_in_add</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00308"></a>00308     ptr_array-&gt;<a class="code" href="classmem__array.html#a3da93f8657f170f40c88264e6a58d78f">power_data_input_htree</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a68fa1cee9946da7bd579e154c2a897e3">htree_in_data</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00309"></a>00309 <span class="comment">//    cout&lt;&lt;&quot;power_data_input_htree&quot;&lt;&lt;uca-&gt;bank.htree_in_data-&gt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l00310"></a>00310     ptr_array-&gt;<a class="code" href="classmem__array.html#aa71374937b1a30906079a3e4a1d46ca1">power_data_output_htree</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#af086a7f8d26c10bed5ee9ae716244aa2">htree_out_data</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00311"></a>00311 <span class="comment">//    cout&lt;&lt;&quot;power_data_output_htree&quot;&lt;&lt;uca-&gt;bank.htree_out_data-&gt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l00312"></a>00312     ptr_array-&gt;<a class="code" href="classmem__array.html#a05376a966fcc434d6e0b0753a8fb8e37">power_row_predecoder_drivers</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#aa5f5044e0f3c54c60659e23cf71fa7e4">driver_power</a>;
<a name="l00313"></a>00313     ptr_array-&gt;<a class="code" href="classmem__array.html#a05376a966fcc434d6e0b0753a8fb8e37">power_row_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00314"></a>00314     ptr_array-&gt;<a class="code" href="classmem__array.html#a05376a966fcc434d6e0b0753a8fb8e37">power_row_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00315"></a>00315     ptr_array-&gt;<a class="code" href="classmem__array.html#a05376a966fcc434d6e0b0753a8fb8e37">power_row_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00316"></a>00316 
<a name="l00317"></a>00317     ptr_array-&gt;<a class="code" href="classmem__array.html#a145ab7f09e9949ffe94a5be61fe8db27">power_row_predecoder_blocks</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a0befae8017f86237f67875ef4de30d13">block_power</a>;
<a name="l00318"></a>00318     ptr_array-&gt;<a class="code" href="classmem__array.html#a145ab7f09e9949ffe94a5be61fe8db27">power_row_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00319"></a>00319     ptr_array-&gt;<a class="code" href="classmem__array.html#a145ab7f09e9949ffe94a5be61fe8db27">power_row_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00320"></a>00320     ptr_array-&gt;<a class="code" href="classmem__array.html#a145ab7f09e9949ffe94a5be61fe8db27">power_row_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00321"></a>00321 
<a name="l00322"></a>00322     ptr_array-&gt;<a class="code" href="classmem__array.html#a2a05ee66d4585f45af8ba4e1b10ac486">power_row_decoders</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>;
<a name="l00323"></a>00323     ptr_array-&gt;<a class="code" href="classmem__array.html#a2a05ee66d4585f45af8ba4e1b10ac486">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00324"></a>00324     ptr_array-&gt;<a class="code" href="classmem__array.html#a2a05ee66d4585f45af8ba4e1b10ac486">power_row_decoders</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00325"></a>00325     ptr_array-&gt;<a class="code" href="classmem__array.html#a2a05ee66d4585f45af8ba4e1b10ac486">power_row_decoders</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00326"></a>00326 
<a name="l00327"></a>00327     ptr_array-&gt;<a class="code" href="classmem__array.html#a3b426b2ababc22a8cb45a283d2a56299">power_bit_mux_predecoder_drivers</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#aa5f5044e0f3c54c60659e23cf71fa7e4">driver_power</a>;
<a name="l00328"></a>00328     ptr_array-&gt;<a class="code" href="classmem__array.html#a3b426b2ababc22a8cb45a283d2a56299">power_bit_mux_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00329"></a>00329     ptr_array-&gt;<a class="code" href="classmem__array.html#a3b426b2ababc22a8cb45a283d2a56299">power_bit_mux_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00330"></a>00330     ptr_array-&gt;<a class="code" href="classmem__array.html#a3b426b2ababc22a8cb45a283d2a56299">power_bit_mux_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00331"></a>00331 
<a name="l00332"></a>00332     ptr_array-&gt;<a class="code" href="classmem__array.html#a99dcd640c4f3f5540720b32f6aa3fae4">power_bit_mux_predecoder_blocks</a>  = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#a0befae8017f86237f67875ef4de30d13">block_power</a>;
<a name="l00333"></a>00333     ptr_array-&gt;<a class="code" href="classmem__array.html#a99dcd640c4f3f5540720b32f6aa3fae4">power_bit_mux_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00334"></a>00334     ptr_array-&gt;<a class="code" href="classmem__array.html#a99dcd640c4f3f5540720b32f6aa3fae4">power_bit_mux_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00335"></a>00335     ptr_array-&gt;<a class="code" href="classmem__array.html#a99dcd640c4f3f5540720b32f6aa3fae4">power_bit_mux_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00336"></a>00336 
<a name="l00337"></a>00337     ptr_array-&gt;<a class="code" href="classmem__array.html#a791a1d3bb2d966298b0f3882d09a7593">power_bit_mux_decoders</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a3aaf0f48be663bce6ac2f8a828560441">power_bit_mux_decoders</a>;
<a name="l00338"></a>00338     ptr_array-&gt;<a class="code" href="classmem__array.html#a791a1d3bb2d966298b0f3882d09a7593">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00339"></a>00339     ptr_array-&gt;<a class="code" href="classmem__array.html#a791a1d3bb2d966298b0f3882d09a7593">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00340"></a>00340     ptr_array-&gt;<a class="code" href="classmem__array.html#a791a1d3bb2d966298b0f3882d09a7593">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00341"></a>00341 
<a name="l00342"></a>00342     ptr_array-&gt;<a class="code" href="classmem__array.html#a8cf9582814e786f40eef864e48d6e1a4">power_senseamp_mux_lev_1_predecoder_drivers</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#aa5f5044e0f3c54c60659e23cf71fa7e4">driver_power</a>;
<a name="l00343"></a>00343     ptr_array-&gt;<a class="code" href="classmem__array.html#a8cf9582814e786f40eef864e48d6e1a4">power_senseamp_mux_lev_1_predecoder_drivers</a> .<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00344"></a>00344     ptr_array-&gt;<a class="code" href="classmem__array.html#a8cf9582814e786f40eef864e48d6e1a4">power_senseamp_mux_lev_1_predecoder_drivers</a> .<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00345"></a>00345     ptr_array-&gt;<a class="code" href="classmem__array.html#a8cf9582814e786f40eef864e48d6e1a4">power_senseamp_mux_lev_1_predecoder_drivers</a> .<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     ptr_array-&gt;<a class="code" href="classmem__array.html#a501cccd78217553a99ed753aaf40f2b1">power_senseamp_mux_lev_1_predecoder_blocks</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#a0befae8017f86237f67875ef4de30d13">block_power</a>;
<a name="l00348"></a>00348     ptr_array-&gt;<a class="code" href="classmem__array.html#a501cccd78217553a99ed753aaf40f2b1">power_senseamp_mux_lev_1_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00349"></a>00349     ptr_array-&gt;<a class="code" href="classmem__array.html#a501cccd78217553a99ed753aaf40f2b1">power_senseamp_mux_lev_1_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00350"></a>00350     ptr_array-&gt;<a class="code" href="classmem__array.html#a501cccd78217553a99ed753aaf40f2b1">power_senseamp_mux_lev_1_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00351"></a>00351 
<a name="l00352"></a>00352     ptr_array-&gt;<a class="code" href="classmem__array.html#ac87a89a221c957eb4bef671be698be8e">power_senseamp_mux_lev_1_decoders</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a157f675feed50ea559d1346e065321fb">power_sa_mux_lev_1_decoders</a>;
<a name="l00353"></a>00353     ptr_array-&gt;<a class="code" href="classmem__array.html#ac87a89a221c957eb4bef671be698be8e">power_senseamp_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00354"></a>00354     ptr_array-&gt;<a class="code" href="classmem__array.html#ac87a89a221c957eb4bef671be698be8e">power_senseamp_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00355"></a>00355     ptr_array-&gt;<a class="code" href="classmem__array.html#ac87a89a221c957eb4bef671be698be8e">power_senseamp_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00356"></a>00356 
<a name="l00357"></a>00357     ptr_array-&gt;<a class="code" href="classmem__array.html#ae9d269cff2fa29ef8e3c1557331136cb">power_senseamp_mux_lev_2_predecoder_drivers</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#aa5f5044e0f3c54c60659e23cf71fa7e4">driver_power</a>;
<a name="l00358"></a>00358     ptr_array-&gt;<a class="code" href="classmem__array.html#ae9d269cff2fa29ef8e3c1557331136cb">power_senseamp_mux_lev_2_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00359"></a>00359     ptr_array-&gt;<a class="code" href="classmem__array.html#ae9d269cff2fa29ef8e3c1557331136cb">power_senseamp_mux_lev_2_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00360"></a>00360     ptr_array-&gt;<a class="code" href="classmem__array.html#ae9d269cff2fa29ef8e3c1557331136cb">power_senseamp_mux_lev_2_predecoder_drivers</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00361"></a>00361 
<a name="l00362"></a>00362     ptr_array-&gt;<a class="code" href="classmem__array.html#a2fa38cb1c63f03993cb423086481b1ef">power_senseamp_mux_lev_2_predecoder_blocks</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#a0befae8017f86237f67875ef4de30d13">block_power</a>;
<a name="l00363"></a>00363     ptr_array-&gt;<a class="code" href="classmem__array.html#a2fa38cb1c63f03993cb423086481b1ef">power_senseamp_mux_lev_2_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00364"></a>00364     ptr_array-&gt;<a class="code" href="classmem__array.html#a2fa38cb1c63f03993cb423086481b1ef">power_senseamp_mux_lev_2_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00365"></a>00365     ptr_array-&gt;<a class="code" href="classmem__array.html#a2fa38cb1c63f03993cb423086481b1ef">power_senseamp_mux_lev_2_predecoder_blocks</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00366"></a>00366 
<a name="l00367"></a>00367     ptr_array-&gt;<a class="code" href="classmem__array.html#a0c13d966fc2ca2764cb27030c50631e8">power_senseamp_mux_lev_2_decoders</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a85e75f38cdb6b2f03c8e704f3c23f395">power_sa_mux_lev_2_decoders</a>;
<a name="l00368"></a>00368     ptr_array-&gt;<a class="code" href="classmem__array.html#a0c13d966fc2ca2764cb27030c50631e8">power_senseamp_mux_lev_2_decoders</a> .<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00369"></a>00369     ptr_array-&gt;<a class="code" href="classmem__array.html#a0c13d966fc2ca2764cb27030c50631e8">power_senseamp_mux_lev_2_decoders</a> .<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00370"></a>00370     ptr_array-&gt;<a class="code" href="classmem__array.html#a0c13d966fc2ca2764cb27030c50631e8">power_senseamp_mux_lev_2_decoders</a> .<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00371"></a>00371 
<a name="l00372"></a>00372     ptr_array-&gt;<a class="code" href="classmem__array.html#a3441243558b31ff1f9b2910ea63812f4">power_bitlines</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>;
<a name="l00373"></a>00373     ptr_array-&gt;<a class="code" href="classmem__array.html#a3441243558b31ff1f9b2910ea63812f4">power_bitlines</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00374"></a>00374     ptr_array-&gt;<a class="code" href="classmem__array.html#a3441243558b31ff1f9b2910ea63812f4">power_bitlines</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00375"></a>00375     ptr_array-&gt;<a class="code" href="classmem__array.html#a3441243558b31ff1f9b2910ea63812f4">power_bitlines</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377     ptr_array-&gt;<a class="code" href="classmem__array.html#a29a3a9b9e51be0fa6799c8d15ab4d146">power_sense_amps</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>;
<a name="l00378"></a>00378     ptr_array-&gt;<a class="code" href="classmem__array.html#a29a3a9b9e51be0fa6799c8d15ab4d146">power_sense_amps</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00379"></a>00379     ptr_array-&gt;<a class="code" href="classmem__array.html#a29a3a9b9e51be0fa6799c8d15ab4d146">power_sense_amps</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00380"></a>00380     ptr_array-&gt;<a class="code" href="classmem__array.html#a29a3a9b9e51be0fa6799c8d15ab4d146">power_sense_amps</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382     ptr_array-&gt;<a class="code" href="classmem__array.html#ab07b33b95d091b6bf8502973400929ac">power_prechg_eq_drivers</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>;
<a name="l00383"></a>00383     ptr_array-&gt;<a class="code" href="classmem__array.html#ab07b33b95d091b6bf8502973400929ac">power_prechg_eq_drivers</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00384"></a>00384     ptr_array-&gt;<a class="code" href="classmem__array.html#ab07b33b95d091b6bf8502973400929ac">power_prechg_eq_drivers</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00385"></a>00385     ptr_array-&gt;<a class="code" href="classmem__array.html#ab07b33b95d091b6bf8502973400929ac">power_prechg_eq_drivers</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00386"></a>00386 
<a name="l00387"></a>00387     ptr_array-&gt;<a class="code" href="classmem__array.html#a8b2d988734015ee4be2ec35ad072c323">power_output_drivers_at_subarray</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>;
<a name="l00388"></a>00388     ptr_array-&gt;<a class="code" href="classmem__array.html#a8b2d988734015ee4be2ec35ad072c323">power_output_drivers_at_subarray</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00389"></a>00389     ptr_array-&gt;<a class="code" href="classmem__array.html#a8b2d988734015ee4be2ec35ad072c323">power_output_drivers_at_subarray</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00390"></a>00390     ptr_array-&gt;<a class="code" href="classmem__array.html#a8b2d988734015ee4be2ec35ad072c323">power_output_drivers_at_subarray</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     ptr_array-&gt;<a class="code" href="classmem__array.html#a0647d3d62bb306ef35db1018867516c7">power_comparators</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>;
<a name="l00393"></a>00393     ptr_array-&gt;<a class="code" href="classmem__array.html#a0647d3d62bb306ef35db1018867516c7">power_comparators</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00394"></a>00394     ptr_array-&gt;<a class="code" href="classmem__array.html#a0647d3d62bb306ef35db1018867516c7">power_comparators</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00395"></a>00395     ptr_array-&gt;<a class="code" href="classmem__array.html#a0647d3d62bb306ef35db1018867516c7">power_comparators</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_act_mats_hor_dir;
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 <span class="comment">//    cout &lt;&lt;  &quot;  num of mats: &quot; &lt;&lt; dyn_p.num_mats &lt;&lt; endl;</span>
<a name="l00398"></a>00398     <span class="keywordflow">if</span> (is_fa || pure_cam)
<a name="l00399"></a>00399     {
<a name="l00400"></a>00400     ptr_array-&gt;<a class="code" href="classmem__array.html#a7ff1d1600cf67c9dfe1a034815263daf">power_htree_in_search</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#aa628418d84e0f5e104d750ea857c4012">htree_in_search</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00401"></a>00401 <span class="comment">//    cout&lt;&lt;&quot;power_htree_in_search&quot;&lt;&lt;uca-&gt;bank.htree_in_search-&gt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l00402"></a>00402     ptr_array-&gt;<a class="code" href="classmem__array.html#a1129d66c6c669a6297b8e78091a8b920">power_htree_out_search</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#a3ea7aaddc28c4afefa13ed91f7cb35b0">htree_out_search</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00403"></a>00403 <span class="comment">//    cout&lt;&lt;&quot;power_htree_out_search&quot;&lt;&lt;uca-&gt;bank.htree_out_search-&gt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l00404"></a>00404     ptr_array-&gt;<a class="code" href="classmem__array.html#a3b9c704125bcce6e81116d5efd1004dd">power_searchline</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>;
<a name="l00405"></a>00405 <span class="comment">//    cout&lt;&lt;&quot;power_searchlineh&quot;&lt;&lt;uca-&gt;bank.mat.power_searchline.readOp.leakage&lt;&lt;endl;</span>
<a name="l00406"></a>00406     ptr_array-&gt;<a class="code" href="classmem__array.html#a3b9c704125bcce6e81116d5efd1004dd">power_searchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_mats;
<a name="l00407"></a>00407     ptr_array-&gt;<a class="code" href="classmem__array.html#a7df6c73da81cb9db7581003e0e996975">power_searchline_precharge</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>;
<a name="l00408"></a>00408     ptr_array-&gt;<a class="code" href="classmem__array.html#a7df6c73da81cb9db7581003e0e996975">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_mats;
<a name="l00409"></a>00409     ptr_array-&gt;<a class="code" href="classmem__array.html#a910ba065341a278b2d1d19a6db793fa9">power_matchlines</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>;
<a name="l00410"></a>00410     ptr_array-&gt;<a class="code" href="classmem__array.html#a910ba065341a278b2d1d19a6db793fa9">power_matchlines</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_mats;
<a name="l00411"></a>00411     ptr_array-&gt;<a class="code" href="classmem__array.html#abb576214669397a938cb81c6bfa0034e">power_matchline_precharge</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>;
<a name="l00412"></a>00412     ptr_array-&gt;<a class="code" href="classmem__array.html#abb576214669397a938cb81c6bfa0034e">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_mats;
<a name="l00413"></a>00413     ptr_array-&gt;<a class="code" href="classmem__array.html#a44da585951d437bdb8baf404463f60e8">power_matchline_to_wordline_drv</a> = uca-&gt;<a class="code" href="classUCA.html#a4b7c14b9c03b8d86bd148afa0120f8c1">bank</a>.<a class="code" href="classBank.html#ae7e02911e3d6d7607a81ba565609c17d">mat</a>.<a class="code" href="classMat.html#a2c5c36228c9f2274f85e15e112e78177">power_ml_to_ram_wl_drv</a>;
<a name="l00414"></a>00414 <span class="comment">//    cout&lt;&lt;&quot;power_matchline.searchOp.leakage&quot;&lt;&lt;uca-&gt;bank.mat.power_matchline.searchOp.leakage&lt;&lt;endl;</span>
<a name="l00415"></a>00415     }
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     ptr_array-&gt;<a class="code" href="classmem__array.html#ab8d82f8b838a0b2ca4892fe2a449b69a">activate_energy</a> = uca-&gt;<a class="code" href="classUCA.html#acdc69c910fd3bf4330745bd0a830c4ee">activate_energy</a>;
<a name="l00418"></a>00418     ptr_array-&gt;<a class="code" href="classmem__array.html#a0714b9e6efdec567bb3c224a5c6a0b5b">read_energy</a> = uca-&gt;<a class="code" href="classUCA.html#a0a2718180b746dd79caaed16dd21a628">read_energy</a>;
<a name="l00419"></a>00419     ptr_array-&gt;<a class="code" href="classmem__array.html#a8dcb826f082f39806d758bf33c806752">write_energy</a> = uca-&gt;<a class="code" href="classUCA.html#a5d46e1ce6bc9af1a9465be44064ddd5e">write_energy</a>;
<a name="l00420"></a>00420     ptr_array-&gt;<a class="code" href="classmem__array.html#a63a8d8ee0339e62f08e39f2cc05e2363">precharge_energy</a> = uca-&gt;<a class="code" href="classUCA.html#aa8fd6e1cb9bf89d7bdd5d2e45893fb4d">precharge_energy</a>;
<a name="l00421"></a>00421     ptr_array-&gt;<a class="code" href="classmem__array.html#aea70dae2ba3de8a866b67819c8c3d71d">refresh_power</a> = uca-&gt;<a class="code" href="classUCA.html#a3a7ad48e070b622154a053110256af2a">refresh_power</a>;
<a name="l00422"></a>00422     ptr_array-&gt;<a class="code" href="classmem__array.html#ac6c98fb31861ea9259f0bba0cde60b67">leak_power_subbank_closed_page</a> = uca-&gt;<a class="code" href="classUCA.html#a128002928b1dcecaf76be45886674020">leak_power_subbank_closed_page</a>;
<a name="l00423"></a>00423     ptr_array-&gt;<a class="code" href="classmem__array.html#a94b2ca04579db2a79e7e9959c55069a9">leak_power_subbank_open_page</a> = uca-&gt;<a class="code" href="classUCA.html#aad38aa4fba1a12735f27f924ef799a5d">leak_power_subbank_open_page</a>;
<a name="l00424"></a>00424     ptr_array-&gt;<a class="code" href="classmem__array.html#a4320011f69633991722739daff2bfd63">leak_power_request_and_reply_networks</a> = uca-&gt;<a class="code" href="classUCA.html#a8b5089bb1796a55ad29ccad15d5ad691">leak_power_request_and_reply_networks</a>;
<a name="l00425"></a>00425 
<a name="l00426"></a>00426     ptr_array-&gt;<a class="code" href="classmem__array.html#a59d2bd75448caaad39c097f10aac34be">precharge_delay</a> = uca-&gt;<a class="code" href="classUCA.html#a7c16302b3e44abe41edd93666d2b43f9">precharge_delay</a>;
<a name="l00427"></a>00427 
<a name="l00428"></a>00428 
<a name="l00429"></a>00429 <span class="comment">//      cout&lt;&lt;&quot;power_matchline.searchOp.leakage&quot;&lt;&lt;uca-&gt;bank.mat.&lt;&lt;endl;</span>
<a name="l00430"></a>00430 <span class="comment">//</span>
<a name="l00431"></a>00431 <span class="comment">//    if (!(is_fa || pure_cam))</span>
<a name="l00432"></a>00432 <span class="comment">//    {</span>
<a name="l00433"></a>00433 <span class="comment">//     cout &lt;&lt;  &quot;  num of cols: &quot; &lt;&lt; dyn_p.num_c_subarray &lt;&lt; endl;</span>
<a name="l00434"></a>00434 <span class="comment">//    }</span>
<a name="l00435"></a>00435 <span class="comment">//    else if (is_fa)</span>
<a name="l00436"></a>00436 <span class="comment">//    {</span>
<a name="l00437"></a>00437 <span class="comment">//        cout &lt;&lt;  &quot;  num of cols: &quot; &lt;&lt; dyn_p.tag_num_c_subarray+ dyn_p.data_num_c_subarray&lt;&lt; endl;</span>
<a name="l00438"></a>00438 <span class="comment">//    } else</span>
<a name="l00439"></a>00439 <span class="comment">//        cout &lt;&lt;  &quot;  num of cols: &quot; &lt;&lt; dyn_p.tag_num_c_subarray&lt;&lt; endl;</span>
<a name="l00440"></a>00440 <span class="comment">//      cout &lt;&lt;  uca-&gt;bank.mat.subarray.get_total_cell_area()&lt;&lt;endl;</span>
<a name="l00441"></a>00441   }
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 
<a name="l00444"></a>00444   <span class="keyword">delete</span> uca;
<a name="l00445"></a>00445   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00446"></a>00446 }
<a name="l00447"></a>00447 
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 
<a name="l00450"></a><a class="code" href="Ucache_8cc.html#a99818cf360c8e3ad4a55659c2cd22c54">00450</a> <span class="keywordtype">bool</span> <a class="code" href="Ucache_8cc.html#a99818cf360c8e3ad4a55659c2cd22c54">check_uca_org</a>(<a class="code" href="classuca__org__t.html">uca_org_t</a> &amp; u, <a class="code" href="classmin__values__t.html">min_values_t</a> *minval)
<a name="l00451"></a>00451 {
<a name="l00452"></a>00452   <span class="keywordflow">if</span> (((u.<a class="code" href="classuca__org__t.html#a1828396d50a278088a7bac0878bd25dd">access_time</a> - minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>)*100/minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>) &gt; <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#aaf476ca367d149654e6e807c452a0591">delay_dev</a>) {
<a name="l00453"></a>00453     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00454"></a>00454   }
<a name="l00455"></a>00455   <span class="keywordflow">if</span> (((u.<a class="code" href="classuca__org__t.html#a5758451e3b486d6ba00844e69cc89e7d">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> - minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>)*100 &gt;
<a name="l00456"></a>00456       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#ad2a579a279f2b5438e129563a86b5695">dynamic_power_dev</a>) {
<a name="l00457"></a>00457     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00458"></a>00458   }
<a name="l00459"></a>00459   <span class="keywordflow">if</span> (((u.<a class="code" href="classuca__org__t.html#a5758451e3b486d6ba00844e69cc89e7d">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> - minval-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>)*100 &gt;
<a name="l00460"></a>00460       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a36f82728fa21bf7d8b9a172a0333ad6b">leakage_power_dev</a>) {
<a name="l00461"></a>00461     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00462"></a>00462   }
<a name="l00463"></a>00463   <span class="keywordflow">if</span> (((u.<a class="code" href="classuca__org__t.html#ae9e1345b0931c4cebecf2c5dea6194a5">cycle_time</a> - minval-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>)*100 &gt;
<a name="l00464"></a>00464       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af12121d5970aa0d67b05b97a8e6545e8">cycle_time_dev</a>) {
<a name="l00465"></a>00465     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00466"></a>00466   }
<a name="l00467"></a>00467   <span class="keywordflow">if</span> (((u.<a class="code" href="classuca__org__t.html#ad292acf2459110e2121f65fbbdfb9bcc">area</a> - minval-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>)*100 &gt;
<a name="l00468"></a>00468       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#aba155ab4e2a222c4b328ce48a86a3339">area_dev</a>) {
<a name="l00469"></a>00469     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00470"></a>00470   }
<a name="l00471"></a>00471   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00472"></a>00472 }
<a name="l00473"></a>00473 
<a name="l00474"></a><a class="code" href="Ucache_8cc.html#a335079c73f3a176ebfaaae01bb245491">00474</a> <span class="keywordtype">bool</span> <a class="code" href="Ucache_8cc.html#a335079c73f3a176ebfaaae01bb245491">check_mem_org</a>(<a class="code" href="classmem__array.html">mem_array</a> &amp; u, <span class="keyword">const</span> <a class="code" href="classmin__values__t.html">min_values_t</a> *minval)
<a name="l00475"></a>00475 {
<a name="l00476"></a>00476   <span class="keywordflow">if</span> (((u.<a class="code" href="classmem__array.html#a23e4d95f7cb429e244f556648815f95e">access_time</a> - minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>)*100/minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>) &gt; <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#aaf476ca367d149654e6e807c452a0591">delay_dev</a>) {
<a name="l00477"></a>00477     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00478"></a>00478   }
<a name="l00479"></a>00479   <span class="keywordflow">if</span> (((u.<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> - minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>)*100 &gt;
<a name="l00480"></a>00480       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#ad2a579a279f2b5438e129563a86b5695">dynamic_power_dev</a>) {
<a name="l00481"></a>00481     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00482"></a>00482   }
<a name="l00483"></a>00483   <span class="keywordflow">if</span> (((u.<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> - minval-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>)*100 &gt;
<a name="l00484"></a>00484       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a36f82728fa21bf7d8b9a172a0333ad6b">leakage_power_dev</a>) {
<a name="l00485"></a>00485     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00486"></a>00486   }
<a name="l00487"></a>00487   <span class="keywordflow">if</span> (((u.<a class="code" href="classmem__array.html#af3f5e22031b79065cf1456ed4eae3a5a">cycle_time</a> - minval-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>)*100 &gt;
<a name="l00488"></a>00488       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af12121d5970aa0d67b05b97a8e6545e8">cycle_time_dev</a>) {
<a name="l00489"></a>00489     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00490"></a>00490   }
<a name="l00491"></a>00491   <span class="keywordflow">if</span> (((u.<a class="code" href="classmem__array.html#a128b3e6adae7cd69c4d6ff0aaa84404f">area</a> - minval-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>)/minval-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>)*100 &gt;
<a name="l00492"></a>00492       <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#aba155ab4e2a222c4b328ce48a86a3339">area_dev</a>) {
<a name="l00493"></a>00493     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00494"></a>00494   }
<a name="l00495"></a>00495   <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00496"></a>00496 }
<a name="l00497"></a>00497 
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 
<a name="l00501"></a><a class="code" href="Ucache_8cc.html#ad2394caec4bb5032fde7231a2065b4f6">00501</a> <span class="keywordtype">void</span> <a class="code" href="Ucache_8cc.html#ad2394caec4bb5032fde7231a2065b4f6">find_optimal_uca</a>(<a class="code" href="classuca__org__t.html">uca_org_t</a> *res, <a class="code" href="classmin__values__t.html">min_values_t</a> * minval, list&lt;uca_org_t&gt; &amp; ulist)
<a name="l00502"></a>00502 {
<a name="l00503"></a>00503   <span class="keywordtype">double</span> cost = 0;
<a name="l00504"></a>00504   <span class="keywordtype">double</span> min_cost = BIGNUM;
<a name="l00505"></a>00505   <span class="keywordtype">float</span> d, a, dp, lp, c;
<a name="l00506"></a>00506 
<a name="l00507"></a>00507   dp = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#acab209a851929bf0a6abe203e7fac657">dynamic_power_wt</a>;
<a name="l00508"></a>00508   lp = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a2fc15c0449308978d0c513700ecd1620">leakage_power_wt</a>;
<a name="l00509"></a>00509   a  = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a488bac6b754c3f62685abde78d169abd">area_wt</a>;
<a name="l00510"></a>00510   d  = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a66ab03b2e92725fa6c9348f5295e0b08">delay_wt</a>;
<a name="l00511"></a>00511   c  = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a2ac7e8e70a990b819a44d43e7f19f77d">cycle_time_wt</a>;
<a name="l00512"></a>00512 
<a name="l00513"></a>00513   <span class="keywordflow">if</span> (ulist.empty() == <span class="keyword">true</span>)
<a name="l00514"></a>00514   {
<a name="l00515"></a>00515     cout &lt;&lt; <span class="stringliteral">&quot;find_optial_uca1&quot;</span> &lt;&lt; endl;
<a name="l00516"></a>00516     cout &lt;&lt; <span class="stringliteral">&quot;ERROR: no valid cache organizations found&quot;</span> &lt;&lt; endl;
<a name="l00517"></a>00517     exit(0);
<a name="l00518"></a>00518   }
<a name="l00519"></a>00519 
<a name="l00520"></a>00520   <span class="keywordflow">for</span> (list&lt;uca_org_t&gt;::iterator niter = ulist.begin(); niter != ulist.end(); niter++)
<a name="l00521"></a>00521   {
<a name="l00522"></a>00522     <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a6d9c98da8597cfd3fcb0692058fd45d5">ed</a> == 1)
<a name="l00523"></a>00523     {
<a name="l00524"></a>00524       cost = ((niter)-&gt;access_time/minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>) * ((niter)-&gt;power.readOp.dynamic/minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>);
<a name="l00525"></a>00525       <span class="keywordflow">if</span> (min_cost &gt; cost)
<a name="l00526"></a>00526       {
<a name="l00527"></a>00527         min_cost = cost;
<a name="l00528"></a>00528         *res = (*(niter));
<a name="l00529"></a>00529       }
<a name="l00530"></a>00530     }
<a name="l00531"></a>00531     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a6d9c98da8597cfd3fcb0692058fd45d5">ed</a> == 2)
<a name="l00532"></a>00532     {
<a name="l00533"></a>00533       cost = ((niter)-&gt;access_time/minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>)*
<a name="l00534"></a>00534              ((niter)-&gt;access_time/minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>)*
<a name="l00535"></a>00535              ((niter)-&gt;power.readOp.dynamic/minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>);
<a name="l00536"></a>00536       <span class="keywordflow">if</span> (min_cost &gt; cost)
<a name="l00537"></a>00537       {
<a name="l00538"></a>00538         min_cost = cost;
<a name="l00539"></a>00539         *res = (*(niter));
<a name="l00540"></a>00540       }
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542     <span class="keywordflow">else</span>
<a name="l00543"></a>00543     {
<a name="l00544"></a>00544       <span class="comment">/*</span>
<a name="l00545"></a>00545 <span class="comment">       * check whether the current organization</span>
<a name="l00546"></a>00546 <span class="comment">       * meets the input deviation constraints</span>
<a name="l00547"></a>00547 <span class="comment">       */</span>
<a name="l00548"></a>00548       <span class="keywordtype">bool</span> v = <a class="code" href="Ucache_8cc.html#a99818cf360c8e3ad4a55659c2cd22c54">check_uca_org</a>(*niter, minval);
<a name="l00549"></a>00549       <span class="comment">//if (minval-&gt;min_leakage == 0) minval-&gt;min_leakage = 0.1; //FIXME remove this after leakage modeling</span>
<a name="l00550"></a>00550 
<a name="l00551"></a>00551       <span class="keywordflow">if</span> (v)
<a name="l00552"></a>00552       {
<a name="l00553"></a>00553         cost = (d  * ((niter)-&gt;access_time/minval-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>) +
<a name="l00554"></a>00554                 c  * ((niter)-&gt;cycle_time/minval-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>) +
<a name="l00555"></a>00555                 dp * ((niter)-&gt;power.readOp.dynamic/minval-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>) +
<a name="l00556"></a>00556                 lp * ((niter)-&gt;power.readOp.leakage/minval-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>) +
<a name="l00557"></a>00557                 a  * ((niter)-&gt;area/minval-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>));
<a name="l00558"></a>00558         <span class="comment">//fprintf(stderr, &quot;cost = %g\n&quot;, cost);</span>
<a name="l00559"></a>00559 
<a name="l00560"></a>00560         <span class="keywordflow">if</span> (min_cost &gt; cost) {
<a name="l00561"></a>00561           min_cost = cost;
<a name="l00562"></a>00562           *res = (*(niter));
<a name="l00563"></a>00563           niter = ulist.erase(niter);
<a name="l00564"></a>00564           <span class="keywordflow">if</span> (niter!=ulist.begin())
<a name="l00565"></a>00565               niter--;
<a name="l00566"></a>00566         }
<a name="l00567"></a>00567       }
<a name="l00568"></a>00568       <span class="keywordflow">else</span> {
<a name="l00569"></a>00569         niter = ulist.erase(niter);
<a name="l00570"></a>00570         <span class="keywordflow">if</span> (niter!=ulist.begin())
<a name="l00571"></a>00571             niter--;
<a name="l00572"></a>00572       }
<a name="l00573"></a>00573     }
<a name="l00574"></a>00574   }
<a name="l00575"></a>00575 
<a name="l00576"></a>00576   <span class="keywordflow">if</span> (min_cost == BIGNUM)
<a name="l00577"></a>00577   {
<a name="l00578"></a>00578     cout &lt;&lt; <span class="stringliteral">&quot;find_optimal_uca2&quot;</span> &lt;&lt; endl;
<a name="l00579"></a>00579     cout &lt;&lt; <span class="stringliteral">&quot;ERROR: no cache organizations met optimization criteria&quot;</span> &lt;&lt; endl;
<a name="l00580"></a>00580     exit(0);
<a name="l00581"></a>00581   }
<a name="l00582"></a>00582 }
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 
<a name="l00586"></a><a class="code" href="Ucache_8cc.html#a82a4a3a4f796efb565de682b1b437c7c">00586</a> <span class="keywordtype">void</span> <a class="code" href="Ucache_8cc.html#a82a4a3a4f796efb565de682b1b437c7c">filter_tag_arr</a>(<span class="keyword">const</span> <a class="code" href="classmin__values__t.html">min_values_t</a> * min, list&lt;mem_array *&gt; &amp; list)
<a name="l00587"></a>00587 {
<a name="l00588"></a>00588   <span class="keywordtype">double</span> cost = BIGNUM;
<a name="l00589"></a>00589   <span class="keywordtype">double</span> cur_cost;
<a name="l00590"></a>00590   <span class="keywordtype">double</span> wt_delay = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a66ab03b2e92725fa6c9348f5295e0b08">delay_wt</a>, wt_dyn = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#acab209a851929bf0a6abe203e7fac657">dynamic_power_wt</a>, wt_leakage = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a2fc15c0449308978d0c513700ecd1620">leakage_power_wt</a>, wt_cyc = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a2ac7e8e70a990b819a44d43e7f19f77d">cycle_time_wt</a>, wt_area = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a488bac6b754c3f62685abde78d169abd">area_wt</a>;
<a name="l00591"></a>00591   <a class="code" href="classmem__array.html">mem_array</a> * res = NULL;
<a name="l00592"></a>00592 
<a name="l00593"></a>00593   <span class="keywordflow">if</span> (list.empty() == <span class="keyword">true</span>)
<a name="l00594"></a>00594   {
<a name="l00595"></a>00595     cout &lt;&lt; <span class="stringliteral">&quot;filter_tag_arr1&quot;</span> &lt;&lt; endl;
<a name="l00596"></a>00596     cout &lt;&lt; <span class="stringliteral">&quot;ERROR: no valid tag organizations found&quot;</span> &lt;&lt; endl;
<a name="l00597"></a>00597     exit(1);
<a name="l00598"></a>00598   }
<a name="l00599"></a>00599 
<a name="l00600"></a>00600 
<a name="l00601"></a>00601   <span class="keywordflow">while</span> (list.empty() != <span class="keyword">true</span>)
<a name="l00602"></a>00602   {
<a name="l00603"></a>00603     <span class="keywordtype">bool</span> v = <a class="code" href="Ucache_8cc.html#a335079c73f3a176ebfaaae01bb245491">check_mem_org</a>(*list.back(), min);
<a name="l00604"></a>00604     <span class="keywordflow">if</span> (v)
<a name="l00605"></a>00605     {
<a name="l00606"></a>00606       cur_cost = wt_delay   * (list.back()-&gt;access_time/min-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>) +
<a name="l00607"></a>00607         wt_dyn     * (list.back()-&gt;power.readOp.dynamic/min-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>) +
<a name="l00608"></a>00608         wt_leakage * (list.back()-&gt;power.readOp.leakage/min-&gt;<a class="code" href="classmin__values__t.html#abeef132ff17ce810df3687ceba1c5695">min_leakage</a>) +
<a name="l00609"></a>00609         wt_area    * (list.back()-&gt;area/min-&gt;<a class="code" href="classmin__values__t.html#ad86f16930983b246e53f1284299f7206">min_area</a>) +
<a name="l00610"></a>00610         wt_cyc     * (list.back()-&gt;cycle_time/min-&gt;<a class="code" href="classmin__values__t.html#af98a6a821fccf5cb0fb30307d75f2742">min_cyc</a>);
<a name="l00611"></a>00611     }
<a name="l00612"></a>00612     <span class="keywordflow">else</span>
<a name="l00613"></a>00613     {
<a name="l00614"></a>00614       cur_cost = BIGNUM;
<a name="l00615"></a>00615     }
<a name="l00616"></a>00616     <span class="keywordflow">if</span> (cur_cost &lt; cost)
<a name="l00617"></a>00617     {
<a name="l00618"></a>00618       <span class="keywordflow">if</span> (res != NULL)
<a name="l00619"></a>00619       {
<a name="l00620"></a>00620         <span class="keyword">delete</span> res;
<a name="l00621"></a>00621       }
<a name="l00622"></a>00622       cost = cur_cost;
<a name="l00623"></a>00623       res  = list.back();
<a name="l00624"></a>00624     }
<a name="l00625"></a>00625     <span class="keywordflow">else</span>
<a name="l00626"></a>00626     {
<a name="l00627"></a>00627       <span class="keyword">delete</span> list.back();
<a name="l00628"></a>00628     }
<a name="l00629"></a>00629     list.pop_back();
<a name="l00630"></a>00630   }
<a name="l00631"></a>00631   <span class="keywordflow">if</span>(!res)
<a name="l00632"></a>00632   {
<a name="l00633"></a>00633     cout &lt;&lt; <span class="stringliteral">&quot;filter_tag_arr2&quot;</span> &lt;&lt; endl;
<a name="l00634"></a>00634     cout &lt;&lt; <span class="stringliteral">&quot;ERROR: no valid tag organizations found&quot;</span> &lt;&lt; endl;
<a name="l00635"></a>00635     exit(0);
<a name="l00636"></a>00636   }
<a name="l00637"></a>00637 
<a name="l00638"></a>00638   list.push_back(res);
<a name="l00639"></a>00639 }
<a name="l00640"></a>00640 
<a name="l00641"></a>00641 
<a name="l00642"></a>00642 
<a name="l00643"></a><a class="code" href="Ucache_8cc.html#a268dfc691762a326f6155b66ab2d8aba">00643</a> <span class="keywordtype">void</span> <a class="code" href="Ucache_8cc.html#a268dfc691762a326f6155b66ab2d8aba">filter_data_arr</a>(list&lt;mem_array *&gt; &amp; curr_list)
<a name="l00644"></a>00644 {
<a name="l00645"></a>00645   <span class="keywordflow">if</span> (curr_list.empty() == <span class="keyword">true</span>)
<a name="l00646"></a>00646   {
<a name="l00647"></a>00647     cout &lt;&lt; <span class="stringliteral">&quot;filter_data_arr1&quot;</span> &lt;&lt; endl;
<a name="l00648"></a>00648     cout &lt;&lt; <span class="stringliteral">&quot;ERROR: no valid data array organizations found&quot;</span> &lt;&lt; endl;
<a name="l00649"></a>00649     exit(1);
<a name="l00650"></a>00650   }
<a name="l00651"></a>00651 
<a name="l00652"></a>00652   list&lt;mem_array *&gt;::iterator iter;
<a name="l00653"></a>00653 
<a name="l00654"></a>00654   <span class="keywordflow">for</span> (iter = curr_list.begin(); iter != curr_list.end(); ++iter)
<a name="l00655"></a>00655   {
<a name="l00656"></a>00656     <a class="code" href="classmem__array.html">mem_array</a> * m = *iter;
<a name="l00657"></a>00657 
<a name="l00658"></a>00658     <span class="keywordflow">if</span> (m == NULL) exit(1);
<a name="l00659"></a>00659 
<a name="l00660"></a>00660     <span class="keywordflow">if</span>(((m-&gt;<a class="code" href="classmem__array.html#a23e4d95f7cb429e244f556648815f95e">access_time</a> - m-&gt;<a class="code" href="classmem__array.html#a46e7bd40dd083d075b10e4ba505a7ef9">arr_min</a>-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a>)/m-&gt;<a class="code" href="classmem__array.html#a46e7bd40dd083d075b10e4ba505a7ef9">arr_min</a>-&gt;<a class="code" href="classmin__values__t.html#ab16da7a3fc27664c3725a2d06cbfe2d4">min_delay</a> &gt; 0.5) &amp;&amp;
<a name="l00661"></a>00661        ((m-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> - m-&gt;<a class="code" href="classmem__array.html#a46e7bd40dd083d075b10e4ba505a7ef9">arr_min</a>-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a>)/m-&gt;<a class="code" href="classmem__array.html#a46e7bd40dd083d075b10e4ba505a7ef9">arr_min</a>-&gt;<a class="code" href="classmin__values__t.html#a867a584f3d18d915426b0152684e5f57">min_dyn</a> &gt; 0.5))
<a name="l00662"></a>00662     {
<a name="l00663"></a>00663       <span class="keyword">delete</span> m;
<a name="l00664"></a>00664       iter = curr_list.erase(iter);
<a name="l00665"></a>00665       iter --;
<a name="l00666"></a>00666     }
<a name="l00667"></a>00667   }
<a name="l00668"></a>00668 }
<a name="l00669"></a>00669 
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 
<a name="l00672"></a>00672 <span class="comment">/*</span>
<a name="l00673"></a>00673 <span class="comment"> * Performs exhaustive search across different sub-array sizes,</span>
<a name="l00674"></a>00674 <span class="comment"> * wire types and aspect ratios to find an optimal UCA organization</span>
<a name="l00675"></a>00675 <span class="comment"> * 1. First different valid tag array organizations are calculated</span>
<a name="l00676"></a>00676 <span class="comment"> *    and stored in tag_arr array</span>
<a name="l00677"></a>00677 <span class="comment"> * 2. The exhaustive search is repeated to find valid data array</span>
<a name="l00678"></a>00678 <span class="comment"> *    organizations and stored in data_arr array</span>
<a name="l00679"></a>00679 <span class="comment"> * 3. Cache area, delay, power, and cycle time for different</span>
<a name="l00680"></a>00680 <span class="comment"> *    cache organizations are calculated based on the</span>
<a name="l00681"></a>00681 <span class="comment"> *    above results</span>
<a name="l00682"></a>00682 <span class="comment"> * 4. Cache model with least cost is picked from sol_list</span>
<a name="l00683"></a>00683 <span class="comment"> */</span>
<a name="l00684"></a><a class="code" href="Ucache_8h.html#a9c5a822280caa234c5c1fbf3b978500a">00684</a> <span class="keywordtype">void</span> <a class="code" href="Ucache_8cc.html#a9c5a822280caa234c5c1fbf3b978500a">solve</a>(<a class="code" href="classuca__org__t.html">uca_org_t</a> *fin_res)
<a name="l00685"></a>00685 {
<a name="l00686"></a>00686   <span class="keywordtype">int</span>    pure_ram = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a915f2420c5eae9e94fb9fc3171d123cf">pure_ram</a>;
<a name="l00687"></a>00687   <span class="keywordtype">bool</span>   pure_cam = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a616e7c90657350f177f1bd433feffcb8">pure_cam</a>;
<a name="l00688"></a>00688 
<a name="l00689"></a>00689   <a class="code" href="technology_8cc.html#a3d7c28117b8a556b9c6791e4a93aeec1">init_tech_params</a>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>, <span class="keyword">false</span>);
<a name="l00690"></a>00690 
<a name="l00691"></a>00691 
<a name="l00692"></a>00692   list&lt;mem_array *&gt; tag_arr (0);
<a name="l00693"></a>00693   list&lt;mem_array *&gt; data_arr(0);
<a name="l00694"></a>00694   list&lt;mem_array *&gt;::iterator miter;
<a name="l00695"></a>00695   list&lt;uca_org_t&gt; sol_list(1, <a class="code" href="classuca__org__t.html">uca_org_t</a>());
<a name="l00696"></a>00696 
<a name="l00697"></a>00697   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#a7004f2e1b116dcd853e65a50f6935e4f">access_time</a> = 0;
<a name="l00698"></a>00698   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#ad17a8a333658aab73a7ebdccdc01ef0e">Ndwl</a> = 0;
<a name="l00699"></a>00699   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#a091819c7a182f9b425d67a50a8a1ac94">Ndbl</a> = 0;
<a name="l00700"></a>00700   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#a20d5ab57fed7cf8d4ff7602b3a414c23">Nspd</a> = 0;
<a name="l00701"></a>00701   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#a17148772fb1786546696a1d8eebf69cf">deg_bl_muxing</a> = 0;
<a name="l00702"></a>00702   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#a02571910b8c4a5081b79ea5ed46af312">Ndsam_lev_1</a> = 0;
<a name="l00703"></a>00703   fin_res-&gt;<a class="code" href="classuca__org__t.html#a16dd860c841857360856b021815741c9">tag_array</a>.<a class="code" href="structresults__mem__array.html#a8039d7d341401b081c7cd8d05bc628d2">Ndsam_lev_2</a> = 0;
<a name="l00704"></a>00704 
<a name="l00705"></a>00705 
<a name="l00706"></a>00706   <span class="comment">// distribute calculate_time() execution to multiple threads</span>
<a name="l00707"></a>00707   <a class="code" href="structcalc__time__mt__wrapper__struct.html">calc_time_mt_wrapper_struct</a> * calc_array = <span class="keyword">new</span> <a class="code" href="structcalc__time__mt__wrapper__struct.html">calc_time_mt_wrapper_struct</a>[<a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">nthreads</a>];
<a name="l00708"></a>00708   pthread_t threads[<a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">nthreads</a>];
<a name="l00709"></a>00709 
<a name="l00710"></a>00710   <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; <a class="code" href="Ucache_8cc.html#a1079fc9ec79ee9ebb9f7d5b65181c0b7">nthreads</a>; t++)
<a name="l00711"></a>00711   {
<a name="l00712"></a>00712     calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa6d09524a8b7d0a675ddaf6eb1d62e8b">tid</a>         = t;
<a name="l00713"></a>00713     calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a7242bc9948526993b4407cc93b223b29">pure_ram</a>    = pure_ram;
<a name="l00714"></a>00714     calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a14c732f405eece22f6f5a73672f4fbd3">pure_cam</a>    = pure_cam;
<a name="l00715"></a>00715     calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa6c7d502d0c95a676c520c3dc9a43645">data_res</a>    = <span class="keyword">new</span> <a class="code" href="classmin__values__t.html">min_values_t</a>();
<a name="l00716"></a>00716     calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a4a4540dc4a3ab48e93a1bc2fcdf7ca47">tag_res</a>     = <span class="keyword">new</span> <a class="code" href="classmin__values__t.html">min_values_t</a>();
<a name="l00717"></a>00717   }
<a name="l00718"></a>00718 
<a name="l00719"></a>00719   <span class="keywordtype">bool</span>     is_tag;
<a name="l00720"></a>00720 
<a name="l00721"></a>00721   <span class="comment">// If it&apos;s a cache, first calculate the area, delay and power for all tag array partitions.</span>
<a name="l00722"></a>00722   <span class="keywordflow">if</span> (!(pure_ram||pure_cam||<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#adfc9422172f4c7161097a651a82aa57f">fully_assoc</a>))
<a name="l00723"></a>00723   { <span class="comment">//cache</span>
<a name="l00724"></a>00724     is_tag              = <span class="keyword">true</span>;
<a name="l00725"></a>00725     <a class="code" href="technology_8cc.html#a3d7c28117b8a556b9c6791e4a93aeec1">init_tech_params</a>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>, is_tag);
<a name="l00726"></a>00726 
<a name="l00727"></a>00727     <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00728"></a>00728     {
<a name="l00729"></a>00729       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#af342054ec5facbee85c5adce2def5125">is_tag</a>      = is_tag;
<a name="l00730"></a>00730       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a8b503d981a48a3dc88d40d356f73886e">is_main_mem</a> = <span class="keyword">false</span>;
<a name="l00731"></a>00731       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a19986e9b07b7078ae0ea9ab075a82c57">Nspd_min</a>    = 0.125;
<a name="l00732"></a>00732       pthread_create(&amp;threads[t], NULL, <a class="code" href="Ucache_8cc.html#a87b65293400df598217655f92d170a69">calc_time_mt_wrapper</a>, (<span class="keywordtype">void</span> *)(&amp;(calc_array[t])));
<a name="l00733"></a>00733     }
<a name="l00734"></a>00734 
<a name="l00735"></a>00735     <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00736"></a>00736     {
<a name="l00737"></a>00737       pthread_join(threads[t], NULL);
<a name="l00738"></a>00738     }
<a name="l00739"></a>00739 
<a name="l00740"></a>00740     <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00741"></a>00741     {
<a name="l00742"></a>00742       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa16f93a599edc2ab33b63876cc567f60">data_arr</a>.sort(<a class="code" href="classmem__array.html#af3693236b680b572e57090b55960528e">mem_array::lt</a>);
<a name="l00743"></a>00743       data_arr.merge(calc_array[t].data_arr, <a class="code" href="classmem__array.html#af3693236b680b572e57090b55960528e">mem_array::lt</a>);
<a name="l00744"></a>00744       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a56e0059b5861361c4afd9d9594976028">tag_arr</a>.sort(<a class="code" href="classmem__array.html#af3693236b680b572e57090b55960528e">mem_array::lt</a>);
<a name="l00745"></a>00745       tag_arr.merge(calc_array[t].tag_arr, <a class="code" href="classmem__array.html#af3693236b680b572e57090b55960528e">mem_array::lt</a>);
<a name="l00746"></a>00746     }
<a name="l00747"></a>00747   }
<a name="l00748"></a>00748 
<a name="l00749"></a>00749 
<a name="l00750"></a>00750   <span class="comment">// calculate the area, delay and power for all data array partitions (for cache or plain RAM).</span>
<a name="l00751"></a>00751 <span class="comment">//  if (!g_ip-&gt;fully_assoc)</span>
<a name="l00752"></a>00752 <span class="comment">// {//in the new cacti, cam, fully_associative cache are processed as single array in the data portion</span>
<a name="l00753"></a>00753     is_tag              = <span class="keyword">false</span>;
<a name="l00754"></a>00754     <a class="code" href="technology_8cc.html#a3d7c28117b8a556b9c6791e4a93aeec1">init_tech_params</a>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>, is_tag);
<a name="l00755"></a>00755 
<a name="l00756"></a>00756     <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00757"></a>00757     {
<a name="l00758"></a>00758       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#af342054ec5facbee85c5adce2def5125">is_tag</a>      = is_tag;
<a name="l00759"></a>00759       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a8b503d981a48a3dc88d40d356f73886e">is_main_mem</a> = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a4aefb0a02ad8ed8e23d700f96c3a20c6">is_main_mem</a>;
<a name="l00760"></a>00760       <span class="keywordflow">if</span> (!(pure_cam||<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#adfc9422172f4c7161097a651a82aa57f">fully_assoc</a>))
<a name="l00761"></a>00761       {
<a name="l00762"></a>00762           calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a19986e9b07b7078ae0ea9ab075a82c57">Nspd_min</a>    = (double)(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a2f3b1e0a5a2d2cc4b590cf6948a4e288">out_w</a>)/(double)(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#ac6f9b0ee091744a5a4c27f7c66c10d97">block_sz</a>*8);
<a name="l00763"></a>00763       }
<a name="l00764"></a>00764       <span class="keywordflow">else</span>
<a name="l00765"></a>00765       {
<a name="l00766"></a>00766           calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a19986e9b07b7078ae0ea9ab075a82c57">Nspd_min</a>    = 1;
<a name="l00767"></a>00767       }
<a name="l00768"></a>00768 
<a name="l00769"></a>00769       pthread_create(&amp;threads[t], NULL, <a class="code" href="Ucache_8cc.html#a87b65293400df598217655f92d170a69">calc_time_mt_wrapper</a>, (<span class="keywordtype">void</span> *)(&amp;(calc_array[t])));
<a name="l00770"></a>00770     }
<a name="l00771"></a>00771 
<a name="l00772"></a>00772     <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00773"></a>00773     {
<a name="l00774"></a>00774       pthread_join(threads[t], NULL);
<a name="l00775"></a>00775     }
<a name="l00776"></a>00776 
<a name="l00777"></a>00777     data_arr.clear();
<a name="l00778"></a>00778     <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00779"></a>00779     {
<a name="l00780"></a>00780       calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa16f93a599edc2ab33b63876cc567f60">data_arr</a>.sort(<a class="code" href="classmem__array.html#af3693236b680b572e57090b55960528e">mem_array::lt</a>);
<a name="l00781"></a>00781       data_arr.merge(calc_array[t].data_arr, <a class="code" href="classmem__array.html#af3693236b680b572e57090b55960528e">mem_array::lt</a>);
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783 <span class="comment">//  }</span>
<a name="l00784"></a>00784 
<a name="l00785"></a>00785 
<a name="l00786"></a>00786   <a class="code" href="classmin__values__t.html">min_values_t</a> * d_min = <span class="keyword">new</span> <a class="code" href="classmin__values__t.html">min_values_t</a>();
<a name="l00787"></a>00787   <a class="code" href="classmin__values__t.html">min_values_t</a> * t_min = <span class="keyword">new</span> <a class="code" href="classmin__values__t.html">min_values_t</a>();
<a name="l00788"></a>00788   <a class="code" href="classmin__values__t.html">min_values_t</a> * cache_min = <span class="keyword">new</span> <a class="code" href="classmin__values__t.html">min_values_t</a>();
<a name="l00789"></a>00789 
<a name="l00790"></a>00790   <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00791"></a>00791   {
<a name="l00792"></a>00792     d_min-&gt;<a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">update_min_values</a>(calc_array[t].data_res);
<a name="l00793"></a>00793     t_min-&gt;<a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">update_min_values</a>(calc_array[t].tag_res);
<a name="l00794"></a>00794   }
<a name="l00795"></a>00795 
<a name="l00796"></a>00796   <span class="keywordflow">for</span> (miter = data_arr.begin(); miter != data_arr.end(); miter++)
<a name="l00797"></a>00797   {
<a name="l00798"></a>00798     (*miter)-&gt;arr_min = d_min;
<a name="l00799"></a>00799   }
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 
<a name="l00802"></a>00802   <span class="comment">//cout &lt;&lt; data_arr.size() &lt;&lt; &quot;\t&quot; &lt;&lt; tag_arr.size() &lt;&lt;&quot; before\n&quot;;</span>
<a name="l00803"></a>00803   <a class="code" href="Ucache_8cc.html#a268dfc691762a326f6155b66ab2d8aba">filter_data_arr</a>(data_arr);
<a name="l00804"></a>00804   <span class="keywordflow">if</span>(!(pure_ram||pure_cam||<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#adfc9422172f4c7161097a651a82aa57f">fully_assoc</a>))
<a name="l00805"></a>00805   {
<a name="l00806"></a>00806     <a class="code" href="Ucache_8cc.html#a82a4a3a4f796efb565de682b1b437c7c">filter_tag_arr</a>(t_min, tag_arr);
<a name="l00807"></a>00807   }
<a name="l00808"></a>00808   <span class="comment">//cout &lt;&lt; data_arr.size() &lt;&lt; &quot;\t&quot; &lt;&lt; tag_arr.size() &lt;&lt;&quot; after\n&quot;;</span>
<a name="l00809"></a>00809 
<a name="l00810"></a>00810 
<a name="l00811"></a>00811   <span class="keywordflow">if</span> (pure_ram||pure_cam||<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#adfc9422172f4c7161097a651a82aa57f">fully_assoc</a>)
<a name="l00812"></a>00812   {
<a name="l00813"></a>00813     <span class="keywordflow">for</span> (miter = data_arr.begin(); miter != data_arr.end(); miter++)
<a name="l00814"></a>00814     {
<a name="l00815"></a>00815       <a class="code" href="classuca__org__t.html">uca_org_t</a> &amp; curr_org  = sol_list.back();
<a name="l00816"></a>00816       curr_org.<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>  = NULL;
<a name="l00817"></a>00817       curr_org.<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a> = (*miter);
<a name="l00818"></a>00818 
<a name="l00819"></a>00819       curr_org.<a class="code" href="classuca__org__t.html#ab13f75205d1f2d92dfac2a14c2c6c364">find_delay</a>();
<a name="l00820"></a>00820       curr_org.<a class="code" href="classuca__org__t.html#ac6c463e913d81a909439cdd27ff68b58">find_energy</a>();
<a name="l00821"></a>00821       curr_org.<a class="code" href="classuca__org__t.html#abd2f79e45241116ebf1fa80924bff87b">find_area</a>();
<a name="l00822"></a>00822       curr_org.<a class="code" href="classuca__org__t.html#a9f8bc733676829ea5f6823f08adfa19a">find_cyc</a>();
<a name="l00823"></a>00823 
<a name="l00824"></a>00824       <span class="comment">//update min values for the entire cache</span>
<a name="l00825"></a>00825       cache_min-&gt;<a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">update_min_values</a>(curr_org);
<a name="l00826"></a>00826 
<a name="l00827"></a>00827       sol_list.push_back(<a class="code" href="classuca__org__t.html">uca_org_t</a>());
<a name="l00828"></a>00828     }
<a name="l00829"></a>00829   }
<a name="l00830"></a>00830   <span class="keywordflow">else</span>
<a name="l00831"></a>00831   {
<a name="l00832"></a>00832     <span class="keywordflow">while</span> (tag_arr.empty() != <span class="keyword">true</span>)
<a name="l00833"></a>00833     {
<a name="l00834"></a>00834       <a class="code" href="classmem__array.html">mem_array</a> * arr_temp = (tag_arr.back());
<a name="l00835"></a>00835       <span class="comment">//delete tag_arr.back();</span>
<a name="l00836"></a>00836       tag_arr.pop_back();
<a name="l00837"></a>00837 
<a name="l00838"></a>00838       <span class="keywordflow">for</span> (miter = data_arr.begin(); miter != data_arr.end(); miter++)
<a name="l00839"></a>00839       {
<a name="l00840"></a>00840         <a class="code" href="classuca__org__t.html">uca_org_t</a> &amp; curr_org  = sol_list.back();
<a name="l00841"></a>00841         curr_org.<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>  = arr_temp;
<a name="l00842"></a>00842         curr_org.<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a> = (*miter);
<a name="l00843"></a>00843 
<a name="l00844"></a>00844         curr_org.<a class="code" href="classuca__org__t.html#ab13f75205d1f2d92dfac2a14c2c6c364">find_delay</a>();
<a name="l00845"></a>00845         curr_org.<a class="code" href="classuca__org__t.html#ac6c463e913d81a909439cdd27ff68b58">find_energy</a>();
<a name="l00846"></a>00846         curr_org.<a class="code" href="classuca__org__t.html#abd2f79e45241116ebf1fa80924bff87b">find_area</a>();
<a name="l00847"></a>00847         curr_org.<a class="code" href="classuca__org__t.html#a9f8bc733676829ea5f6823f08adfa19a">find_cyc</a>();
<a name="l00848"></a>00848 
<a name="l00849"></a>00849         <span class="comment">//update min values for the entire cache</span>
<a name="l00850"></a>00850         cache_min-&gt;<a class="code" href="classmin__values__t.html#afb1d99c3bb357e21e9589060f395091a">update_min_values</a>(curr_org);
<a name="l00851"></a>00851 
<a name="l00852"></a>00852         sol_list.push_back(<a class="code" href="classuca__org__t.html">uca_org_t</a>());
<a name="l00853"></a>00853       }
<a name="l00854"></a>00854     }
<a name="l00855"></a>00855   }
<a name="l00856"></a>00856 
<a name="l00857"></a>00857   sol_list.pop_back();
<a name="l00858"></a>00858 
<a name="l00859"></a>00859   <a class="code" href="Ucache_8cc.html#ad2394caec4bb5032fde7231a2065b4f6">find_optimal_uca</a>(fin_res, cache_min, sol_list);
<a name="l00860"></a>00860 
<a name="l00861"></a>00861   sol_list.clear();
<a name="l00862"></a>00862 
<a name="l00863"></a>00863   <span class="keywordflow">for</span> (miter = data_arr.begin(); miter != data_arr.end(); ++miter)
<a name="l00864"></a>00864   {
<a name="l00865"></a>00865     <span class="keywordflow">if</span> (*miter != fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>)
<a name="l00866"></a>00866     {
<a name="l00867"></a>00867       <span class="keyword">delete</span> *miter;
<a name="l00868"></a>00868     }
<a name="l00869"></a>00869   }
<a name="l00870"></a>00870   data_arr.clear();
<a name="l00871"></a>00871 
<a name="l00872"></a>00872   <span class="keywordflow">for</span> (uint32_t t = 0; t &lt; nthreads; t++)
<a name="l00873"></a>00873   {
<a name="l00874"></a>00874     <span class="keyword">delete</span> calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#aa6c7d502d0c95a676c520c3dc9a43645">data_res</a>;
<a name="l00875"></a>00875     <span class="keyword">delete</span> calc_array[t].<a class="code" href="structcalc__time__mt__wrapper__struct.html#a4a4540dc4a3ab48e93a1bc2fcdf7ca47">tag_res</a>;
<a name="l00876"></a>00876   }
<a name="l00877"></a>00877 
<a name="l00878"></a>00878   <span class="keyword">delete</span> [] calc_array;
<a name="l00879"></a>00879   <span class="keyword">delete</span> cache_min;
<a name="l00880"></a>00880   <span class="keyword">delete</span> d_min;
<a name="l00881"></a>00881   <span class="keyword">delete</span> t_min;
<a name="l00882"></a>00882 }
<a name="l00883"></a>00883 
<a name="l00884"></a><a class="code" href="Ucache_8h.html#ae1156449ccde85f9adebfd0e7813af7f">00884</a> <span class="keywordtype">void</span> <a class="code" href="Ucache_8cc.html#ae1156449ccde85f9adebfd0e7813af7f">update</a>(<a class="code" href="classuca__org__t.html">uca_org_t</a> *fin_res)
<a name="l00885"></a>00885 {
<a name="l00886"></a>00886   <span class="keywordflow">if</span>(fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>)
<a name="l00887"></a>00887   {
<a name="l00888"></a>00888     <a class="code" href="technology_8cc.html#a3d7c28117b8a556b9c6791e4a93aeec1">init_tech_params</a>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>,<span class="keyword">true</span>);
<a name="l00889"></a>00889     <a class="code" href="classDynamicParameter.html">DynamicParameter</a> tag_arr_dyn_p(<span class="keyword">true</span>, <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a915f2420c5eae9e94fb9fc3171d123cf">pure_ram</a>, <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a616e7c90657350f177f1bd433feffcb8">pure_cam</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#aae4896154a8bcabf9c7d8eea47e18397">Nspd</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#a66b9b06bee4c0fa6b73baf51ad869249">Ndwl</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#a21496ebd56e9044c8d1232210de2f7b7">Ndbl</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#a3203f7a03f469ed93ad2f7bdbb8e5b14">Ndcm</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#a0eeac08fb10a52d77642d8187b593c65">Ndsam_lev_1</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#a0378a78aa2106707d4a8df60eb952c35">Ndsam_lev_2</a>, <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a4aefb0a02ad8ed8e23d700f96c3a20c6">is_main_mem</a>);
<a name="l00890"></a>00890     <span class="keywordflow">if</span>(tag_arr_dyn_p.<a class="code" href="classDynamicParameter.html#a10978b0d77bec14962bdbe3e43011ccc">is_valid</a>)
<a name="l00891"></a>00891     {
<a name="l00892"></a>00892       <a class="code" href="classUCA.html">UCA</a> * tag_arr = <span class="keyword">new</span> <a class="code" href="classUCA.html">UCA</a>(tag_arr_dyn_p);
<a name="l00893"></a>00893       fin_res-&gt;<a class="code" href="classuca__org__t.html#a3a5e6aab9d0554e5642903d975086540">tag_array2</a>-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a> = tag_arr-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00894"></a>00894     }
<a name="l00895"></a>00895     <span class="keywordflow">else</span>
<a name="l00896"></a>00896     {
<a name="l00897"></a>00897       cout &lt;&lt; <span class="stringliteral">&quot;ERROR: Cannot retrieve array structure for leakage feedback&quot;</span> &lt;&lt; endl;
<a name="l00898"></a>00898       exit(1);
<a name="l00899"></a>00899     }
<a name="l00900"></a>00900   }
<a name="l00901"></a>00901   <a class="code" href="technology_8cc.html#a3d7c28117b8a556b9c6791e4a93aeec1">init_tech_params</a>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>,<span class="keyword">false</span>);
<a name="l00902"></a>00902   <a class="code" href="classDynamicParameter.html">DynamicParameter</a> data_arr_dyn_p(<span class="keyword">false</span>, <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a915f2420c5eae9e94fb9fc3171d123cf">pure_ram</a>, <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a616e7c90657350f177f1bd433feffcb8">pure_cam</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#aae4896154a8bcabf9c7d8eea47e18397">Nspd</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#a66b9b06bee4c0fa6b73baf51ad869249">Ndwl</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#a21496ebd56e9044c8d1232210de2f7b7">Ndbl</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#a3203f7a03f469ed93ad2f7bdbb8e5b14">Ndcm</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#a0eeac08fb10a52d77642d8187b593c65">Ndsam_lev_1</a>, fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#a0378a78aa2106707d4a8df60eb952c35">Ndsam_lev_2</a>, <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a4aefb0a02ad8ed8e23d700f96c3a20c6">is_main_mem</a>);
<a name="l00903"></a>00903   <span class="keywordflow">if</span>(data_arr_dyn_p.<a class="code" href="classDynamicParameter.html#a10978b0d77bec14962bdbe3e43011ccc">is_valid</a>)
<a name="l00904"></a>00904   {
<a name="l00905"></a>00905     <a class="code" href="classUCA.html">UCA</a> * data_arr = <span class="keyword">new</span> <a class="code" href="classUCA.html">UCA</a>(data_arr_dyn_p);
<a name="l00906"></a>00906     fin_res-&gt;<a class="code" href="classuca__org__t.html#a3f1e06fc538edaf77f5ba58d3e3059a6">data_array2</a>-&gt;<a class="code" href="classmem__array.html#ac3b82c8d0afe6bdaf89742e75d09320c">power</a> = data_arr-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>;
<a name="l00907"></a>00907   }
<a name="l00908"></a>00908   <span class="keywordflow">else</span>
<a name="l00909"></a>00909   {
<a name="l00910"></a>00910     cout &lt;&lt; <span class="stringliteral">&quot;ERROR: Cannot retrieve array structure for leakage feedback&quot;</span> &lt;&lt; endl;
<a name="l00911"></a>00911     exit(1);
<a name="l00912"></a>00912   }
<a name="l00913"></a>00913 
<a name="l00914"></a>00914   fin_res-&gt;<a class="code" href="classuca__org__t.html#ac6c463e913d81a909439cdd27ff68b58">find_energy</a>();
<a name="l00915"></a>00915 }
<a name="l00916"></a>00916 
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 13 May 2014 for GPGPU-Sim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
