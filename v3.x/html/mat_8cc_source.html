<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPGPU-Sim: v3.x/src/gpuwattch/cacti/mat.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_c934b74ccb33d6b9bfd1e576787940d8.html">v3.x</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_da58ad9beee6988f697f1a76e412a52a.html">src</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_e4ac30e7c77047a48208b8444737dc6a.html">gpuwattch</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_9c4b365597bf32c8652137a0e3833a05.html">cacti</a>
  </div>
</div>
<div class="contents">
<h1>mat.cc</h1><a href="mat_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment"> *                                McPAT/CACTI</span>
<a name="l00003"></a>00003 <span class="comment"> *                      SOFTWARE LICENSE AGREEMENT</span>
<a name="l00004"></a>00004 <span class="comment"> *            Copyright 2012 Hewlett-Packard Development Company, L.P.</span>
<a name="l00005"></a>00005 <span class="comment"> *                          All Rights Reserved</span>
<a name="l00006"></a>00006 <span class="comment"> *</span>
<a name="l00007"></a>00007 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00008"></a>00008 <span class="comment"> * modification, are permitted provided that the following conditions are</span>
<a name="l00009"></a>00009 <span class="comment"> * met: redistributions of source code must retain the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> * notice, this list of conditions and the following disclaimer;</span>
<a name="l00011"></a>00011 <span class="comment"> * redistributions in binary form must reproduce the above copyright</span>
<a name="l00012"></a>00012 <span class="comment"> * notice, this list of conditions and the following disclaimer in the</span>
<a name="l00013"></a>00013 <span class="comment"> * documentation and/or other materials provided with the distribution;</span>
<a name="l00014"></a>00014 <span class="comment"> * neither the name of the copyright holders nor the names of its</span>
<a name="l00015"></a>00015 <span class="comment"> * contributors may be used to endorse or promote products derived from</span>
<a name="l00016"></a>00016 <span class="comment"> * this software without specific prior written permission.</span>
<a name="l00017"></a>00017 <span class="comment"></span>
<a name="l00018"></a>00018 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00019"></a>00019 <span class="comment"> * &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00020"></a>00020 <span class="comment"> * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00021"></a>00021 <span class="comment"> * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00022"></a>00022 <span class="comment"> * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00023"></a>00023 <span class="comment"> * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00024"></a>00024 <span class="comment"> * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00025"></a>00025 <span class="comment"> * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00026"></a>00026 <span class="comment"> * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00027"></a>00027 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00028"></a>00028 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.‚Äù</span>
<a name="l00029"></a>00029 <span class="comment"> *</span>
<a name="l00030"></a>00030 <span class="comment"> ***************************************************************************/</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="mat_8h.html">mat.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="classMat.html#a8bc9bf139f201e645e4387ee67fcb267">00038</a> <a class="code" href="classMat.html#a8bc9bf139f201e645e4387ee67fcb267">Mat::Mat</a>(<span class="keyword">const</span> <a class="code" href="classDynamicParameter.html">DynamicParameter</a> &amp; dyn_p)
<a name="l00039"></a>00039  :dp(dyn_p),
<a name="l00040"></a>00040   power_subarray_out_drv(),
<a name="l00041"></a>00041   delay_fa_tag(0), delay_cam(0),
<a name="l00042"></a>00042   delay_before_decoder(0), delay_bitline(0),
<a name="l00043"></a>00043   delay_wl_reset(0), delay_bl_restore(0),
<a name="l00044"></a>00044   delay_searchline(0), delay_matchchline(0),
<a name="l00045"></a>00045   delay_cam_sl_restore(0), delay_cam_ml_reset(0),
<a name="l00046"></a>00046   delay_fa_ram_wl(0),delay_hit_miss_reset(0),
<a name="l00047"></a>00047   delay_hit_miss(0),
<a name="l00048"></a>00048   subarray(dp, dp.fully_assoc),
<a name="l00049"></a>00049   power_bitline(), per_bitline_read_energy(0),
<a name="l00050"></a>00050   deg_bl_muxing(dp.deg_bl_muxing),
<a name="l00051"></a>00051   num_act_mats_hor_dir(dyn_p.num_act_mats_hor_dir),
<a name="l00052"></a>00052   delay_writeback(0),
<a name="l00053"></a>00053   cell(subarray.cell), cam_cell(subarray.cam_cell),
<a name="l00054"></a>00054   is_dram(dyn_p.is_dram),
<a name="l00055"></a>00055   pure_cam(dyn_p.pure_cam),
<a name="l00056"></a>00056   num_mats(dp.num_mats),
<a name="l00057"></a>00057   power_sa(), delay_sa(0),
<a name="l00058"></a>00058   leak_power_sense_amps_closed_page_state(0),
<a name="l00059"></a>00059   leak_power_sense_amps_open_page_state(0),
<a name="l00060"></a>00060   delay_subarray_out_drv(0),
<a name="l00061"></a>00061   delay_comparator(0), power_comparator(),
<a name="l00062"></a>00062   num_do_b_mat(dyn_p.num_do_b_mat), num_so_b_mat(dyn_p.num_so_b_mat),
<a name="l00063"></a>00063   num_subarrays_per_mat(dp.num_subarrays/dp.num_mats),
<a name="l00064"></a>00064   num_subarrays_per_row(dp.Ndwl/dp.num_mats_h_dir)
<a name="l00065"></a>00065 {
<a name="l00066"></a>00066   assert(<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> &lt;= 4);
<a name="l00067"></a>00067   assert(<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> &lt;= 2);
<a name="l00068"></a>00068   <a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> = (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#abb8c278c2b9427e543ce5052748feea8">fully_assoc</a>) ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l00069"></a>00069   <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a> = (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>);<span class="comment">//although cam_cell.w = cell.w for fa, we still differentiate them.</span>
<a name="l00070"></a>00070 
<a name="l00071"></a>00071   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00072"></a>00072       <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> = <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>&gt;2?<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>/2:<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l00073"></a>00073 
<a name="l00074"></a>00074   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a06fce01337150f54c84937fb35c56b64">use_inp_params</a> == 1) {
<a name="l00075"></a>00075       <a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a>  = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#af1317c7f7f0d8276bd3a4fa0baed6d64">num_rw_ports</a>;
<a name="l00076"></a>00076       <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>  = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a178e3f0fd8fadbec78ffafbccc9c0134">num_rd_ports</a>;
<a name="l00077"></a>00077       <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>  = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#aa603ee767352df8fa09aee7d24300f22">num_wr_ports</a>;
<a name="l00078"></a>00078       <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a> = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a5fda12325a6b12a08ea8d2e9c883b046">num_search_ports</a>;
<a name="l00079"></a>00079   }
<a name="l00080"></a>00080   <span class="keywordflow">else</span> {
<a name="l00081"></a>00081     <a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#acb82f7f1f6d7928a0f2415ba88f56a9a">num_rw_ports</a>;
<a name="l00082"></a>00082     <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#aa803e9a4799dd61db9e2a76109f1118c">num_rd_ports</a>;
<a name="l00083"></a>00083     <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a> = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a0a47c78b448a2bac7e0332e89e6603e8">num_wr_ports</a>;
<a name="l00084"></a>00084     <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a> = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a3f715fa8094a5d354fe0db94d28388a4">num_search_ports</a>;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086   }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088   <span class="keywordtype">double</span> number_sa_subarray;
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="keywordflow">if</span> (!<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> &amp;&amp; !<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00091"></a>00091   {
<a name="l00092"></a>00092       number_sa_subarray = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l00093"></a>00093   }
<a name="l00094"></a>00094   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> &amp;&amp; !<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00095"></a>00095   {
<a name="l00096"></a>00096       number_sa_subarray =  (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> + <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a>) / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l00097"></a>00097   }
<a name="l00098"></a>00098 
<a name="l00099"></a>00099   <span class="keywordflow">else</span>
<a name="l00100"></a>00100   {
<a name="l00101"></a>00101       number_sa_subarray =  (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>) / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l00102"></a>00102   }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104   <span class="keywordtype">int</span>    num_dec_signals           = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00105"></a>00105   <span class="keywordtype">double</span> C_ld_bit_mux_dec_out      = 0;
<a name="l00106"></a>00106   <span class="keywordtype">double</span> C_ld_sa_mux_lev_1_dec_out = 0;
<a name="l00107"></a>00107   <span class="keywordtype">double</span> C_ld_sa_mux_lev_2_dec_out = 0;
<a name="l00108"></a>00108   <span class="keywordtype">double</span> R_wire_wl_drv_out;
<a name="l00109"></a>00109 
<a name="l00110"></a>00110   <span class="keywordflow">if</span> (!<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> &amp;&amp; !<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00111"></a>00111     {
<a name="l00112"></a>00112         R_wire_wl_drv_out = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00113"></a>00113     }
<a name="l00114"></a>00114     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> &amp;&amp; !<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00115"></a>00115     {
<a name="l00116"></a>00116         R_wire_wl_drv_out = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> + <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a> * <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um ;
<a name="l00117"></a>00117     }
<a name="l00118"></a>00118     <span class="keywordflow">else</span>
<a name="l00119"></a>00119     {
<a name="l00120"></a>00120         R_wire_wl_drv_out = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> ) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00121"></a>00121     }
<a name="l00122"></a>00122 
<a name="l00123"></a>00123   <span class="keywordtype">double</span> R_wire_bit_mux_dec_out = <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.R_per_um * <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>;<span class="comment">//TODO:revisit for FA</span>
<a name="l00124"></a>00124   <span class="keywordtype">double</span> R_wire_sa_mux_dec_out  = <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.R_per_um * <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>;
<a name="l00125"></a>00125 
<a name="l00126"></a>00126   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> &gt; 1)
<a name="l00127"></a>00127   {
<a name="l00128"></a>00128     C_ld_bit_mux_dec_out =
<a name="l00129"></a>00129       (2 * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>)*<a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#af215dc210b41036c2d803baeff72adb6">w_nmos_b_mux</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +  <span class="comment">// 2 transistor per cell</span>
<a name="l00130"></a>00130       <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a>*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.C_per_um*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>();
<a name="l00131"></a>00131   }
<a name="l00132"></a>00132 
<a name="l00133"></a>00133   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> &gt; 1)
<a name="l00134"></a>00134   {
<a name="l00135"></a>00135     C_ld_sa_mux_lev_1_dec_out =
<a name="l00136"></a>00136       (<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * number_sa_subarray / <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a>)*<a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l00137"></a>00137       <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a>*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.C_per_um*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>();
<a name="l00138"></a>00138   }
<a name="l00139"></a>00139   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> &gt; 1)
<a name="l00140"></a>00140   {
<a name="l00141"></a>00141     C_ld_sa_mux_lev_2_dec_out =
<a name="l00142"></a>00142       (<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * number_sa_subarray / (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a>*<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>))*<a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l00143"></a>00143       <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a>*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.C_per_um*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>();
<a name="l00144"></a>00144   }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> &gt;= 2)
<a name="l00147"></a>00147   {
<a name="l00148"></a>00148     <span class="comment">// wire heads for both right and left side of a mat, so half the resistance</span>
<a name="l00149"></a>00149     R_wire_bit_mux_dec_out /= 2.0;
<a name="l00150"></a>00150     R_wire_sa_mux_dec_out  /= 2.0;
<a name="l00151"></a>00151   }
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 
<a name="l00154"></a>00154   <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a> = <span class="keyword">new</span> <a class="code" href="classDecoder.html">Decoder</a>(
<a name="l00155"></a>00155       num_dec_signals,
<a name="l00156"></a>00156       <span class="keyword">false</span>,
<a name="l00157"></a>00157       <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#ab03cd8194cb06aec7d434b672e97de25">C_wl</a>,
<a name="l00158"></a>00158       R_wire_wl_drv_out,
<a name="l00159"></a>00159       <span class="keyword">false</span><span class="comment">/*is_fa*/</span>,
<a name="l00160"></a>00160       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>,
<a name="l00161"></a>00161       <span class="keyword">true</span>,
<a name="l00162"></a>00162       <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>);
<a name="l00163"></a>00163 <span class="comment">//  if (is_fa &amp;&amp; (!dp.is_tag))</span>
<a name="l00164"></a>00164 <span class="comment">//  {</span>
<a name="l00165"></a>00165 <span class="comment">//    row_dec-&gt;exist = true;</span>
<a name="l00166"></a>00166 <span class="comment">//  }</span>
<a name="l00167"></a>00167   <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a> = <span class="keyword">new</span> <a class="code" href="classDecoder.html">Decoder</a>(
<a name="l00168"></a>00168       <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>,<span class="comment">// This number is 1 for FA or CAM</span>
<a name="l00169"></a>00169       <span class="keyword">false</span>,
<a name="l00170"></a>00170       C_ld_bit_mux_dec_out,
<a name="l00171"></a>00171       R_wire_bit_mux_dec_out,
<a name="l00172"></a>00172       <span class="keyword">false</span><span class="comment">/*is_fa*/</span>,
<a name="l00173"></a>00173       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>,
<a name="l00174"></a>00174       <span class="keyword">false</span>,
<a name="l00175"></a>00175       <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>:cell);
<a name="l00176"></a>00176   <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a> = <span class="keyword">new</span> <a class="code" href="classDecoder.html">Decoder</a>(
<a name="l00177"></a>00177       <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#acfc5974ee3af1fc3f62b99e3354e43fc">deg_senseamp_muxing_non_associativity</a>, <span class="comment">// This number is 1 for FA or CAM</span>
<a name="l00178"></a>00178       <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#adc6c65c413f2714c5dedbcc3807e0b8b">number_way_select_signals_mat</a> ? <span class="keyword">true</span> : <span class="keyword">false</span>,<span class="comment">//only sa_mux_lev_1_dec needs way select signal</span>
<a name="l00179"></a>00179       C_ld_sa_mux_lev_1_dec_out,
<a name="l00180"></a>00180       R_wire_sa_mux_dec_out,
<a name="l00181"></a>00181       <span class="keyword">false</span><span class="comment">/*is_fa*/</span>,
<a name="l00182"></a>00182       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>,
<a name="l00183"></a>00183       <span class="keyword">false</span>,
<a name="l00184"></a>00184       <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>:cell);
<a name="l00185"></a>00185   <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a> = <span class="keyword">new</span> <a class="code" href="classDecoder.html">Decoder</a>(
<a name="l00186"></a>00186       <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>, <span class="comment">// This number is 1 for FA or CAM</span>
<a name="l00187"></a>00187       <span class="keyword">false</span>,
<a name="l00188"></a>00188       C_ld_sa_mux_lev_2_dec_out,
<a name="l00189"></a>00189       R_wire_sa_mux_dec_out,
<a name="l00190"></a>00190       <span class="keyword">false</span><span class="comment">/*is_fa*/</span>,
<a name="l00191"></a>00191       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>,
<a name="l00192"></a>00192       <span class="keyword">false</span>,
<a name="l00193"></a>00193       <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>:cell);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195   <span class="keywordtype">double</span> C_wire_predec_blk_out;
<a name="l00196"></a>00196   <span class="keywordtype">double</span> R_wire_predec_blk_out;
<a name="l00197"></a>00197 
<a name="l00198"></a>00198   <span class="keywordflow">if</span> (!<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> &amp;&amp; !<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00199"></a>00199       {
<a name="l00200"></a>00200 
<a name="l00201"></a>00201       C_wire_predec_blk_out  = <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.C_per_um * cell.h;
<a name="l00202"></a>00202       R_wire_predec_blk_out  = <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.R_per_um * cell.h;
<a name="l00203"></a>00203 
<a name="l00204"></a>00204       }
<a name="l00205"></a>00205       <span class="keywordflow">else</span> <span class="comment">//for pre-decode block&apos;s load is same for both FA and CAM</span>
<a name="l00206"></a>00206       {
<a name="l00207"></a>00207           C_wire_predec_blk_out  = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.C_per_um * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00208"></a>00208           R_wire_predec_blk_out  = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.R_per_um * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00209"></a>00209       }
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 
<a name="l00212"></a>00212   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>||<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00213"></a>00213       num_dec_signals += <a class="code" href="basic__circuit_8cc.html#a4b98c8a88ac852101d03cafb10e3a5e7">_log2</a>(<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   <a class="code" href="classPredecBlk.html">PredecBlk</a> * r_predec_blk1 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(
<a name="l00216"></a>00216       num_dec_signals,
<a name="l00217"></a>00217       <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>,
<a name="l00218"></a>00218       C_wire_predec_blk_out,
<a name="l00219"></a>00219       R_wire_predec_blk_out,
<a name="l00220"></a>00220       <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>,
<a name="l00221"></a>00221       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>,
<a name="l00222"></a>00222       <span class="keyword">true</span>);
<a name="l00223"></a>00223   <a class="code" href="classPredecBlk.html">PredecBlk</a> * r_predec_blk2 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(
<a name="l00224"></a>00224       num_dec_signals,
<a name="l00225"></a>00225       <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>,
<a name="l00226"></a>00226       C_wire_predec_blk_out,
<a name="l00227"></a>00227       R_wire_predec_blk_out,
<a name="l00228"></a>00228       <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>,
<a name="l00229"></a>00229       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>,
<a name="l00230"></a>00230       <span class="keyword">false</span>);
<a name="l00231"></a>00231   <a class="code" href="classPredecBlk.html">PredecBlk</a> * b_mux_predec_blk1 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>, <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>, 0, 0, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">true</span>);
<a name="l00232"></a>00232   <a class="code" href="classPredecBlk.html">PredecBlk</a> * b_mux_predec_blk2 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>, <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>, 0, 0, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>);
<a name="l00233"></a>00233   <a class="code" href="classPredecBlk.html">PredecBlk</a> * sa_mux_lev_1_predec_blk1 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(dyn_p.<a class="code" href="classDynamicParameter.html#acfc5974ee3af1fc3f62b99e3354e43fc">deg_senseamp_muxing_non_associativity</a>, <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>, 0, 0, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">true</span>);
<a name="l00234"></a>00234   <a class="code" href="classPredecBlk.html">PredecBlk</a> * sa_mux_lev_1_predec_blk2 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(dyn_p.<a class="code" href="classDynamicParameter.html#acfc5974ee3af1fc3f62b99e3354e43fc">deg_senseamp_muxing_non_associativity</a>, <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>, 0, 0, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>);
<a name="l00235"></a>00235   <a class="code" href="classPredecBlk.html">PredecBlk</a> * sa_mux_lev_2_predec_blk1 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>, <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>, 0, 0, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">true</span>);
<a name="l00236"></a>00236   <a class="code" href="classPredecBlk.html">PredecBlk</a> * sa_mux_lev_2_predec_blk2 = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>, <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>, 0, 0, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>);
<a name="l00237"></a>00237   <a class="code" href="classMat.html#a60c5e540ebc80d5e963762c21cd063fd">dummy_way_sel_predec_blk1</a> = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(1, <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>, 0, 0, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">true</span>);
<a name="l00238"></a>00238   <a class="code" href="classMat.html#a1dff86e2e579c242a1c69afe37021389">dummy_way_sel_predec_blk2</a> = <span class="keyword">new</span> <a class="code" href="classPredecBlk.html">PredecBlk</a>(1, <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>, 0, 0, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>);
<a name="l00239"></a>00239 
<a name="l00240"></a>00240   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * r_predec_blk_drv1 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, r_predec_blk1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00241"></a>00241   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * r_predec_blk_drv2 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, r_predec_blk2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00242"></a>00242   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * b_mux_predec_blk_drv1 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, b_mux_predec_blk1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00243"></a>00243   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * b_mux_predec_blk_drv2 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, b_mux_predec_blk2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00244"></a>00244   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * sa_mux_lev_1_predec_blk_drv1 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, sa_mux_lev_1_predec_blk1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00245"></a>00245   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * sa_mux_lev_1_predec_blk_drv2 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, sa_mux_lev_1_predec_blk2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00246"></a>00246   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * sa_mux_lev_2_predec_blk_drv1 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, sa_mux_lev_2_predec_blk1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00247"></a>00247   <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a> * sa_mux_lev_2_predec_blk_drv2 = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(0, sa_mux_lev_2_predec_blk2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00248"></a>00248   <a class="code" href="classMat.html#abd32867266aefde3ea40a1ff3a6ee377">way_sel_drv1</a> = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(dyn_p.<a class="code" href="classDynamicParameter.html#adc6c65c413f2714c5dedbcc3807e0b8b">number_way_select_signals_mat</a>, <a class="code" href="classMat.html#a60c5e540ebc80d5e963762c21cd063fd">dummy_way_sel_predec_blk1</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00249"></a>00249   <a class="code" href="classMat.html#a1a83ef9f33db3472befcef75250cacfb">dummy_way_sel_predec_blk_drv2</a> = <span class="keyword">new</span> <a class="code" href="classPredecBlkDrv.html">PredecBlkDrv</a>(1, <a class="code" href="classMat.html#a1dff86e2e579c242a1c69afe37021389">dummy_way_sel_predec_blk2</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00250"></a>00250 
<a name="l00251"></a>00251   <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>            = <span class="keyword">new</span> <a class="code" href="classPredec.html">Predec</a>(r_predec_blk_drv1, r_predec_blk_drv2);
<a name="l00252"></a>00252   <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>        = <span class="keyword">new</span> <a class="code" href="classPredec.html">Predec</a>(b_mux_predec_blk_drv1, b_mux_predec_blk_drv2);
<a name="l00253"></a>00253   <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a> = <span class="keyword">new</span> <a class="code" href="classPredec.html">Predec</a>(sa_mux_lev_1_predec_blk_drv1, sa_mux_lev_1_predec_blk_drv2);
<a name="l00254"></a>00254   <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a> = <span class="keyword">new</span> <a class="code" href="classPredec.html">Predec</a>(sa_mux_lev_2_predec_blk_drv1, sa_mux_lev_2_predec_blk_drv2);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256   <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>   = <span class="keyword">new</span> <a class="code" href="classWire.html">Wire</a>(<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a5024da486a66b224dadb4b2ed9e251f3">wt</a>, <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>);<span class="comment">//Bug should be subarray.area.w Owen and Sheng</span>
<a name="l00257"></a>00257 
<a name="l00258"></a>00258   <span class="keywordtype">double</span> driver_c_gate_load;
<a name="l00259"></a>00259   <span class="keywordtype">double</span> driver_c_wire_load;
<a name="l00260"></a>00260   <span class="keywordtype">double</span> driver_r_wire_load;
<a name="l00261"></a>00261 
<a name="l00262"></a>00262   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00263"></a>00263 
<a name="l00264"></a>00264   {   <span class="comment">//Although CAM and RAM use different bl pre-charge driver, assuming the precharge p size is the same</span>
<a name="l00265"></a>00265       driver_c_gate_load =  (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> )* <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(2 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a> + <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ad6ba598361465ef3b16dcd459adf2612">w_pmos_bl_eq</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00266"></a>00266       driver_c_wire_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.C_per_um;
<a name="l00267"></a>00267       driver_r_wire_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.R_per_um;
<a name="l00268"></a>00268       <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00269"></a>00269               driver_c_gate_load,
<a name="l00270"></a>00270               driver_c_wire_load,
<a name="l00271"></a>00271               driver_r_wire_load,
<a name="l00272"></a>00272               <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00273"></a>00273 
<a name="l00274"></a>00274       <span class="keywordflow">if</span> (!<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00275"></a>00275       {
<a name="l00276"></a>00276           <span class="comment">//This is only used for fully asso not pure CAM</span>
<a name="l00277"></a>00277           driver_c_gate_load =  (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a> )* <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(2 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a> + <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ad6ba598361465ef3b16dcd459adf2612">w_pmos_bl_eq</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00278"></a>00278           driver_c_wire_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a> * cell.w * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.C_per_um;
<a name="l00279"></a>00279           driver_r_wire_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a> * cell.w * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.R_per_um;
<a name="l00280"></a>00280           <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00281"></a>00281                   driver_c_gate_load,
<a name="l00282"></a>00282                   driver_c_wire_load,
<a name="l00283"></a>00283                   driver_r_wire_load,
<a name="l00284"></a>00284                   <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00285"></a>00285       }
<a name="l00286"></a>00286   }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288   <span class="keywordflow">else</span>
<a name="l00289"></a>00289   {
<a name="l00290"></a>00290       driver_c_gate_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(2 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a> + <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ad6ba598361465ef3b16dcd459adf2612">w_pmos_bl_eq</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00291"></a>00291       driver_c_wire_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * cell.w * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.C_per_um;
<a name="l00292"></a>00292       driver_r_wire_load =  <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * cell.w * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.R_per_um;
<a name="l00293"></a>00293       <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00294"></a>00294               driver_c_gate_load,
<a name="l00295"></a>00295               driver_c_wire_load,
<a name="l00296"></a>00296               driver_r_wire_load,
<a name="l00297"></a>00297               <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00298"></a>00298   }
<a name="l00299"></a>00299   <span class="keywordtype">double</span> area_row_decoder = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>);
<a name="l00300"></a>00300   <span class="keywordtype">double</span> w_row_decoder    = area_row_decoder / <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#abd30d00ceefb405b789e6639358a86b4">get_h</a>();
<a name="l00301"></a>00301 
<a name="l00302"></a>00302   <span class="keywordtype">double</span> h_bit_mux_sense_amp_precharge_sa_mux_write_driver_write_mux =
<a name="l00303"></a>00303     <a class="code" href="classMat.html#a85828fe180db53d0b3e6bf209fa7c742">compute_bit_mux_sa_precharge_sa_mux_wr_drv_wr_mux_h</a>();
<a name="l00304"></a>00304 
<a name="l00305"></a>00305   <span class="keywordtype">double</span> h_subarray_out_drv = <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() *
<a name="l00306"></a>00306     (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> / (<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>)) / <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>();
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309   h_subarray_out_drv *= (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l00310"></a>00310 
<a name="l00311"></a>00311   <span class="keywordtype">double</span> h_comparators                = 0.0;
<a name="l00312"></a>00312   <span class="keywordtype">double</span> w_row_predecode_output_wires = 0.0;
<a name="l00313"></a>00313   <span class="keywordtype">double</span> h_bit_mux_dec_out_wires      = 0.0;
<a name="l00314"></a>00314   <span class="keywordtype">double</span> h_senseamp_mux_dec_out_wires = 0.0;
<a name="l00315"></a>00315 
<a name="l00316"></a>00316   <span class="keywordflow">if</span> ((!<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>)&amp;&amp;(<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a1d8c96a7d76207c3d3c2c700dd61558e">is_tag</a>))
<a name="l00317"></a>00317   {
<a name="l00318"></a>00318     <span class="comment">//tagbits = (4 * num_cols_subarray / (deg_bl_muxing * dp.Ndsam_lev_1 * dp.Ndsam_lev_2)) / num_do_b_mat;</span>
<a name="l00319"></a>00319     h_comparators  = <a class="code" href="classMat.html#aef00cb4144565014b37cc5e179f4d650">compute_comparators_height</a>(<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#abe569faeaa26cd93808cf15ace27e3a0">tagbits</a>, dyn_p.<a class="code" href="classDynamicParameter.html#a55f17bab433f296bdd16cf657e9571e2">num_do_b_mat</a>, <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>());
<a name="l00320"></a>00320     h_comparators *= (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l00321"></a>00321   }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 
<a name="l00324"></a>00324     <span class="keywordtype">int</span> branch_effort_predec_blk1_out = (1 &lt;&lt; r_predec_blk2-&gt;<a class="code" href="classPredecBlk.html#ab2c62ea223c41279fe64428ceee7e1d0">number_input_addr_bits</a>);
<a name="l00325"></a>00325     <span class="keywordtype">int</span> branch_effort_predec_blk2_out = (1 &lt;&lt; r_predec_blk1-&gt;<a class="code" href="classPredecBlk.html#ab2c62ea223c41279fe64428ceee7e1d0">number_input_addr_bits</a>);
<a name="l00326"></a>00326     w_row_predecode_output_wires   = (branch_effort_predec_blk1_out + branch_effort_predec_blk2_out) *
<a name="l00327"></a>00327       <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>);
<a name="l00328"></a>00328 
<a name="l00329"></a>00329 
<a name="l00330"></a>00330   <span class="keywordtype">double</span> h_non_cell_area = (<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> / <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a>) *
<a name="l00331"></a>00331                            (h_bit_mux_sense_amp_precharge_sa_mux_write_driver_write_mux +
<a name="l00332"></a>00332                             h_subarray_out_drv + h_comparators);
<a name="l00333"></a>00333 
<a name="l00334"></a>00334   <span class="keywordtype">double</span> w_non_cell_area = MAX(w_row_predecode_output_wires, <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * w_row_decoder);
<a name="l00335"></a>00335 
<a name="l00336"></a>00336   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> &gt; 1)
<a name="l00337"></a>00337   {
<a name="l00338"></a>00338     h_bit_mux_dec_out_wires = <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l00339"></a>00339   }
<a name="l00340"></a>00340   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> &gt; 1)
<a name="l00341"></a>00341   {
<a name="l00342"></a>00342     h_senseamp_mux_dec_out_wires =  <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l00343"></a>00343   }
<a name="l00344"></a>00344   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> &gt; 1)
<a name="l00345"></a>00345   {
<a name="l00346"></a>00346     h_senseamp_mux_dec_out_wires += <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l00347"></a>00347   }
<a name="l00348"></a>00348 
<a name="l00349"></a>00349   <span class="keywordtype">double</span> h_addr_datain_wires;
<a name="l00350"></a>00350   <span class="keywordflow">if</span> (!<a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#a2734da5091487a382d635c13fb7ac812">ver_htree_wires_over_array</a>)
<a name="l00351"></a>00351   {
<a name="l00352"></a>00352     h_addr_datain_wires = (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a8a77c1254140cd0b6cd49520dec995db">number_addr_bits_mat</a> + <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#adc6c65c413f2714c5dedbcc3807e0b8b">number_way_select_signals_mat</a> +
<a name="l00353"></a>00353                                   (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#acca0cf805a35dc9261a20daf19c480d7">num_di_b_mat</a> + <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a55f17bab433f296bdd16cf657e9571e2">num_do_b_mat</a>)/<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a>) *
<a name="l00354"></a>00354                                  <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>);
<a name="l00355"></a>00355 
<a name="l00356"></a>00356     <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00357"></a>00357     {
<a name="l00358"></a>00358         h_addr_datain_wires = (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a8a77c1254140cd0b6cd49520dec995db">number_addr_bits_mat</a> + <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#adc6c65c413f2714c5dedbcc3807e0b8b">number_way_select_signals_mat</a> +     <span class="comment">//TODO: revisit</span>
<a name="l00359"></a>00359                               (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#acca0cf805a35dc9261a20daf19c480d7">num_di_b_mat</a>+ <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a55f17bab433f296bdd16cf657e9571e2">num_do_b_mat</a> )/<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a>) *
<a name="l00360"></a>00360                                <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>) +
<a name="l00361"></a>00361                                (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a08f65849bb126f0193ace2014c84e216">num_si_b_mat</a> + <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ac413790816bdcbedbbf79c93fd9ce82d">num_so_b_mat</a> )/<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a01aebad30aec47d9d6f24e0b69f7de71">wire_inside_mat</a>.pitch * <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>;
<a name="l00362"></a>00362     }
<a name="l00363"></a>00363     <span class="comment">//h_non_cell_area = 2 * h_bit_mux_sense_amp_precharge_sa_mux +</span>
<a name="l00364"></a>00364     <span class="comment">//MAX(h_addr_datain_wires, 2 * h_subarray_out_drv);</span>
<a name="l00365"></a>00365     h_non_cell_area = (h_bit_mux_sense_amp_precharge_sa_mux_write_driver_write_mux + h_comparators +
<a name="l00366"></a>00366                        h_subarray_out_drv) * (<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> / <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a>) +
<a name="l00367"></a>00367                       h_addr_datain_wires +
<a name="l00368"></a>00368                       h_bit_mux_dec_out_wires +
<a name="l00369"></a>00369                       h_senseamp_mux_dec_out_wires;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371   }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373   <span class="comment">// double area_rectangle_center_mat = h_non_cell_area * w_non_cell_area;</span>
<a name="l00374"></a>00374   <span class="keywordtype">double</span> area_mat_center_circuitry = (r_predec_blk_drv1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00375"></a>00375                                       b_mux_predec_blk_drv1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00376"></a>00376                                       sa_mux_lev_1_predec_blk_drv1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00377"></a>00377                                       sa_mux_lev_2_predec_blk_drv1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00378"></a>00378                                       <a class="code" href="classMat.html#abd32867266aefde3ea40a1ff3a6ee377">way_sel_drv1</a>-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00379"></a>00379                                       r_predec_blk_drv2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00380"></a>00380                                       b_mux_predec_blk_drv2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00381"></a>00381                                       sa_mux_lev_1_predec_blk_drv2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00382"></a>00382                                       sa_mux_lev_2_predec_blk_drv2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00383"></a>00383                                       r_predec_blk1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00384"></a>00384                                       b_mux_predec_blk1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00385"></a>00385                                       sa_mux_lev_1_predec_blk1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00386"></a>00386                                       sa_mux_lev_2_predec_blk1-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00387"></a>00387                                       r_predec_blk2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00388"></a>00388                                       b_mux_predec_blk2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00389"></a>00389                                       sa_mux_lev_1_predec_blk2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00390"></a>00390                                       sa_mux_lev_2_predec_blk2-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00391"></a>00391                                       <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00392"></a>00392                                       <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>() +
<a name="l00393"></a>00393                                       <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a200a4e54b5ef3e965b3837a78e95e4de">get_area</a>()) * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395 
<a name="l00396"></a>00396 <span class="comment">//  if (!is_fa)</span>
<a name="l00397"></a>00397 <span class="comment">//  {</span>
<a name="l00398"></a>00398     assert(<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>/<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a>&gt;0);
<a name="l00399"></a>00399     <a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a> = (<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>/<a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a>)* <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a> + h_non_cell_area;
<a name="l00400"></a>00400     <a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> = <a class="code" href="classMat.html#a11b213cf4645c47d6d3791bd8f057f83">num_subarrays_per_row</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>() + w_non_cell_area;
<a name="l00401"></a>00401     <a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> = (<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>*<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> + area_mat_center_circuitry) / <a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>;
<a name="l00402"></a>00402 
<a name="l00403"></a>00403 <span class="comment">//    cout&lt;&lt;&quot;h_bit_mux_sense_amp_precharge_sa_mux_write_driver_write_mux&quot;&lt;&lt;h_bit_mux_sense_amp_precharge_sa_mux_write_driver_write_mux&lt;&lt;endl;</span>
<a name="l00404"></a>00404 <span class="comment">//    cout&lt;&lt;&quot;h_comparators&quot;&lt;&lt;h_comparators&lt;&lt;endl;</span>
<a name="l00405"></a>00405 <span class="comment">//    cout&lt;&lt;&quot;h_subarray_out_drv&quot;&lt;&lt;h_subarray_out_drv&lt;&lt;endl;</span>
<a name="l00406"></a>00406 <span class="comment">//    cout&lt;&lt;&quot;h_addr_datain_wires&quot;&lt;&lt;h_addr_datain_wires&lt;&lt;endl;</span>
<a name="l00407"></a>00407 <span class="comment">//    cout&lt;&lt;&quot;h_bit_mux_dec_out_wires&quot;&lt;&lt;h_bit_mux_dec_out_wires&lt;&lt;endl;</span>
<a name="l00408"></a>00408 <span class="comment">//    cout&lt;&lt;&quot;h_senseamp_mux_dec_out_wires&quot;&lt;&lt;h_senseamp_mux_dec_out_wires&lt;&lt;endl;</span>
<a name="l00409"></a>00409 <span class="comment">//    cout&lt;&lt;&quot;h_non_cell_area&quot;&lt;&lt;h_non_cell_area&lt;&lt;endl;</span>
<a name="l00410"></a>00410 <span class="comment">//    cout&lt;&lt;&quot;area.h =&quot; &lt;&lt; (num_subarrays_per_mat/num_subarrays_per_row)* subarray.area.h&lt;&lt;endl;</span>
<a name="l00411"></a>00411 <span class="comment">//    cout&lt;&lt;&quot;w_non_cell_area&quot;&lt;&lt;w_non_cell_area&lt;&lt;endl;</span>
<a name="l00412"></a>00412 <span class="comment">//    cout&lt;&lt;&quot;area_mat_center_circuitry&quot;&lt;&lt;area_mat_center_circuitry&lt;&lt;endl;</span>
<a name="l00413"></a>00413 
<a name="l00414"></a>00414     assert(<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>&gt;0);
<a name="l00415"></a>00415     assert(<a class="code" href="classComponent.html#ab49a784742db060f4127df4459205e3f">area</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>&gt;0);
<a name="l00416"></a>00416 <span class="comment">//  }</span>
<a name="l00417"></a>00417 <span class="comment">//  else</span>
<a name="l00418"></a>00418 <span class="comment">//  {</span>
<a name="l00419"></a>00419 <span class="comment">//    area.h = (num_subarrays_per_mat / num_subarrays_per_row) * subarray.area.get_h() + h_non_cell_area;</span>
<a name="l00420"></a>00420 <span class="comment">//    area.w = num_subarrays_per_row * subarray.area.get_w() + w_non_cell_area;</span>
<a name="l00421"></a>00421 <span class="comment">//    area.w = (area.h*area.w + area_mat_center_circuitry) / area.h;</span>
<a name="l00422"></a>00422 <span class="comment">//    area_efficiency_mat = subarray.area.get_area() * num_subarrays_per_row * 100.0 / area.get_area();</span>
<a name="l00423"></a>00423 <span class="comment">//  }</span>
<a name="l00424"></a>00424   }
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 
<a name="l00427"></a>00427 
<a name="l00428"></a><a class="code" href="classMat.html#a87836525bb8e60bda57d246b7370b97e">00428</a> <a class="code" href="classMat.html#a87836525bb8e60bda57d246b7370b97e">Mat::~Mat</a>()
<a name="l00429"></a>00429 {
<a name="l00430"></a>00430   <span class="keyword">delete</span> <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>;
<a name="l00431"></a>00431   <span class="keyword">delete</span> <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>;
<a name="l00432"></a>00432   <span class="keyword">delete</span> <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>;
<a name="l00433"></a>00433   <span class="keyword">delete</span> <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>;
<a name="l00434"></a>00434 
<a name="l00435"></a>00435   <span class="keyword">delete</span> <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a9b2e6c13ee7aa9af2e6277c79647e09f">blk1</a>;
<a name="l00436"></a>00436   <span class="keyword">delete</span> <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a0dbd7380bd934060567fafe941f5224a">blk2</a>;
<a name="l00437"></a>00437   <span class="keyword">delete</span> <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#a9b2e6c13ee7aa9af2e6277c79647e09f">blk1</a>;
<a name="l00438"></a>00438   <span class="keyword">delete</span> <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#a0dbd7380bd934060567fafe941f5224a">blk2</a>;
<a name="l00439"></a>00439   <span class="keyword">delete</span> <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#a9b2e6c13ee7aa9af2e6277c79647e09f">blk1</a>;
<a name="l00440"></a>00440   <span class="keyword">delete</span> <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#a0dbd7380bd934060567fafe941f5224a">blk2</a>;
<a name="l00441"></a>00441   <span class="keyword">delete</span> <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#a9b2e6c13ee7aa9af2e6277c79647e09f">blk1</a>;
<a name="l00442"></a>00442   <span class="keyword">delete</span> <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#a0dbd7380bd934060567fafe941f5224a">blk2</a>;
<a name="l00443"></a>00443   <span class="keyword">delete</span> <a class="code" href="classMat.html#a60c5e540ebc80d5e963762c21cd063fd">dummy_way_sel_predec_blk1</a>;
<a name="l00444"></a>00444   <span class="keyword">delete</span> <a class="code" href="classMat.html#a1dff86e2e579c242a1c69afe37021389">dummy_way_sel_predec_blk2</a>;
<a name="l00445"></a>00445 
<a name="l00446"></a>00446   <span class="keyword">delete</span> <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a8af50ae8bfd8580e894120cf3f22be6c">drv1</a>;
<a name="l00447"></a>00447   <span class="keyword">delete</span> <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a528fd0e202b2ee4a5916af700fb969a4">drv2</a>;
<a name="l00448"></a>00448   <span class="keyword">delete</span> <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#a8af50ae8bfd8580e894120cf3f22be6c">drv1</a>;
<a name="l00449"></a>00449   <span class="keyword">delete</span> <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#a528fd0e202b2ee4a5916af700fb969a4">drv2</a>;
<a name="l00450"></a>00450   <span class="keyword">delete</span> <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#a8af50ae8bfd8580e894120cf3f22be6c">drv1</a>;
<a name="l00451"></a>00451   <span class="keyword">delete</span> <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#a528fd0e202b2ee4a5916af700fb969a4">drv2</a>;
<a name="l00452"></a>00452   <span class="keyword">delete</span> <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#a8af50ae8bfd8580e894120cf3f22be6c">drv1</a>;
<a name="l00453"></a>00453   <span class="keyword">delete</span> <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#a528fd0e202b2ee4a5916af700fb969a4">drv2</a>;
<a name="l00454"></a>00454   <span class="keyword">delete</span> <a class="code" href="classMat.html#abd32867266aefde3ea40a1ff3a6ee377">way_sel_drv1</a>;
<a name="l00455"></a>00455   <span class="keyword">delete</span> <a class="code" href="classMat.html#a1a83ef9f33db3472befcef75250cacfb">dummy_way_sel_predec_blk_drv2</a>;
<a name="l00456"></a>00456 
<a name="l00457"></a>00457   <span class="keyword">delete</span> <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>;
<a name="l00458"></a>00458   <span class="keyword">delete</span> <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>;
<a name="l00459"></a>00459   <span class="keyword">delete</span> <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>;
<a name="l00460"></a>00460   <span class="keyword">delete</span> <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>;
<a name="l00461"></a>00461 
<a name="l00462"></a>00462   <span class="keyword">delete</span> <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>;
<a name="l00463"></a>00463   <span class="keywordflow">if</span> (!<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00464"></a>00464     <span class="keyword">delete</span> <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>;
<a name="l00465"></a>00465 
<a name="l00466"></a>00466   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00467"></a>00467   {
<a name="l00468"></a>00468     <span class="keyword">delete</span> <a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a> ;
<a name="l00469"></a>00469     <span class="keyword">delete</span> <a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a> ;
<a name="l00470"></a>00470     <span class="keyword">delete</span> <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>;
<a name="l00471"></a>00471     <span class="keyword">delete</span> <a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>;
<a name="l00472"></a>00472     <span class="keyword">delete</span> <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>;
<a name="l00473"></a>00473   }
<a name="l00474"></a>00474 }
<a name="l00475"></a>00475 
<a name="l00476"></a>00476 
<a name="l00477"></a>00477 
<a name="l00478"></a><a class="code" href="classMat.html#a8eef0f7990a92b82dee8672f69dcae5b">00478</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a8eef0f7990a92b82dee8672f69dcae5b">Mat::compute_delays</a>(<span class="keywordtype">double</span> inrisetime)
<a name="l00479"></a>00479 {
<a name="l00480"></a>00480     <span class="keywordtype">int</span> k;
<a name="l00481"></a>00481     <span class="keywordtype">double</span> rd, C_intrinsic, C_ld, tf, R_bl_precharge,r_b_metal, R_bl, <a class="code" href="classMat.html#a2ec2668493e38ca61eaf5717971cf8f8">C_bl</a>;
<a name="l00482"></a>00482     <span class="keywordtype">double</span> outrisetime_search, outrisetime, row_dec_outrisetime;
<a name="l00483"></a>00483     <span class="comment">// delay calculation for tags of fully associative cache</span>
<a name="l00484"></a>00484     <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00485"></a>00485     {
<a name="l00486"></a>00486         <span class="comment">//Compute search access time</span>
<a name="l00487"></a>00487         outrisetime_search = <a class="code" href="classMat.html#a4de148fb46352eb720d714c0720d6bec">compute_cam_delay</a>(inrisetime);
<a name="l00488"></a>00488         <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>)
<a name="l00489"></a>00489         {
<a name="l00490"></a>00490             <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a8265b6a829e994270176c41aed86bbc2">compute_delay</a>(0);
<a name="l00491"></a>00491             k = <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#a57f9c8ce7412c42e6d87ccc8bf82564c">number_gates</a> - 1;
<a name="l00492"></a>00492             rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#ae9dbcf763c4f6a31c168e7885b64c7b5">width_n</a>[k], NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l00493"></a>00493             C_intrinsic = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#ae9dbcf763c4f6a31c168e7885b64c7b5">width_n</a>[k], PCH, 1, 1, 4*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">true</span>) +
<a name="l00494"></a>00494             <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#ae9dbcf763c4f6a31c168e7885b64c7b5">width_n</a>[k], NCH, 1, 1, 4*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l00495"></a>00495             C_ld = <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#adf16ae8fc4b487e4ba881e31e04f830b">c_gate_load</a>+ <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#a25acd4ff227ae3c7db567a506d5d7dd9">c_wire_load</a>;
<a name="l00496"></a>00496             tf = rd * (C_intrinsic + C_ld) + <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#aebd1924773d29e06cbc782b32f39202d">r_wire_load</a> * C_ld / 2;
<a name="l00497"></a>00497             <a class="code" href="classMat.html#a797d5cd7cd2065c8a2ce0824a1e69cad">delay_wl_reset</a> = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(0, tf, 0.5, 0.5, RISE);
<a name="l00498"></a>00498 
<a name="l00499"></a>00499             R_bl_precharge = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a>, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00500"></a>00500             r_b_metal = <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;<span class="comment">//dummy rows in sram are filled in</span>
<a name="l00501"></a>00501             R_bl = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * r_b_metal;
<a name="l00502"></a>00502             C_bl = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a3b4f4cd63295cc1d8ada78ce2d041eb4">C_bl</a>;
<a name="l00503"></a>00503             <a class="code" href="classMat.html#a930a39b9836369c4779bcd0b412f5f53">delay_bl_restore</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a> +
<a name="l00504"></a>00504                      log((<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.Vbitpre - 0.1 * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a>) / (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.Vbitpre - <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a>))*
<a name="l00505"></a>00505                      (R_bl_precharge * C_bl + R_bl * C_bl / 2);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507 
<a name="l00508"></a>00508             outrisetime_search = <a class="code" href="classMat.html#a662ca564b6cb13422b20369860cd400c">compute_bitline_delay</a>(outrisetime_search);
<a name="l00509"></a>00509             outrisetime_search = <a class="code" href="classMat.html#a1cc917256a3094a8d02caa43b930d140">compute_sa_delay</a>(outrisetime_search);
<a name="l00510"></a>00510         }
<a name="l00511"></a>00511             outrisetime_search = <a class="code" href="classMat.html#a7e16ab183c7dd0d16b2af67a7c0d829c">compute_subarray_out_drv</a>(outrisetime_search);
<a name="l00512"></a>00512             <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a6ece9f65d6daff5ddfbe3dffb821cfce">set_in_rise_time</a>(outrisetime_search);
<a name="l00513"></a>00513             outrisetime_search = <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a79da2a8cdc918c66521341727fc2b53f">signal_rise_time</a>();
<a name="l00514"></a>00514             <a class="code" href="classMat.html#acae6718054300f04c8379b795956281a">delay_subarray_out_drv_htree</a> = <a class="code" href="classMat.html#a99dd964a59923ed15a78731d3409f009">delay_subarray_out_drv</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>;
<a name="l00515"></a>00515 
<a name="l00516"></a>00516 
<a name="l00517"></a>00517             <span class="comment">//TODO: this is just for compute plain read/write energy for fa and cam, plain read/write access timing need to be revisited.</span>
<a name="l00518"></a>00518             outrisetime = <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00519"></a>00519             row_dec_outrisetime = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00520"></a>00520 
<a name="l00521"></a>00521             outrisetime = <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00522"></a>00522             <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00523"></a>00523 
<a name="l00524"></a>00524             outrisetime = <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00525"></a>00525             <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00526"></a>00526 
<a name="l00527"></a>00527             outrisetime = <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00528"></a>00528             <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00529"></a>00529 
<a name="l00530"></a>00530             <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>)
<a name="l00531"></a>00531             {
<a name="l00532"></a>00532               outrisetime = <a class="code" href="classMat.html#a662ca564b6cb13422b20369860cd400c">compute_bitline_delay</a>(row_dec_outrisetime);
<a name="l00533"></a>00533               outrisetime = <a class="code" href="classMat.html#a1cc917256a3094a8d02caa43b930d140">compute_sa_delay</a>(outrisetime);
<a name="l00534"></a>00534             }
<a name="l00535"></a>00535             <span class="keywordflow">return</span> outrisetime_search;
<a name="l00536"></a>00536     }
<a name="l00537"></a>00537     <span class="keywordflow">else</span>
<a name="l00538"></a>00538     {
<a name="l00539"></a>00539         <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a8265b6a829e994270176c41aed86bbc2">compute_delay</a>(0);
<a name="l00540"></a>00540         <span class="keywordflow">if</span> (<a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a84ac4d38ca0deb4e97af8fc6966ef61b">exist</a> == <span class="keyword">true</span>)
<a name="l00541"></a>00541         {
<a name="l00542"></a>00542             <span class="keywordtype">int</span> k = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a6efd1146ecc82e65a7e51ff51117a174">num_gates</a> - 1;
<a name="l00543"></a>00543             <span class="keywordtype">double</span> rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a26f79e2582b4ffa128776be00aabed68">w_dec_n</a>[k], NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l00544"></a>00544             <span class="comment">// TODO: this 4*cell.h number must be revisited</span>
<a name="l00545"></a>00545             <span class="keywordtype">double</span> C_intrinsic = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a470dab478e4aefafec841658f00333a5">w_dec_p</a>[k], PCH, 1, 1, 4*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">true</span>) +
<a name="l00546"></a>00546             <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a26f79e2582b4ffa128776be00aabed68">w_dec_n</a>[k], NCH, 1, 1, 4*<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l00547"></a>00547             <span class="keywordtype">double</span> C_ld = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#aedff785f6ee03a3b4678afe11c74d75c">C_ld_dec_out</a>;
<a name="l00548"></a>00548             <span class="keywordtype">double</span> tf = rd * (C_intrinsic + C_ld) + <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#ab272823f0d8ab72c0b50f1344a7de285">R_wire_dec_out</a> * C_ld / 2;
<a name="l00549"></a>00549             <a class="code" href="classMat.html#a797d5cd7cd2065c8a2ce0824a1e69cad">delay_wl_reset</a> = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(0, tf, 0.5, 0.5, RISE);
<a name="l00550"></a>00550         }
<a name="l00551"></a>00551         <span class="keywordtype">double</span> R_bl_precharge = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a>, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00552"></a>00552         <span class="keywordtype">double</span> r_b_metal = <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00553"></a>00553         <span class="keywordtype">double</span> R_bl = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * r_b_metal;
<a name="l00554"></a>00554         <span class="keywordtype">double</span> C_bl = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a3b4f4cd63295cc1d8ada78ce2d041eb4">C_bl</a>;
<a name="l00555"></a>00555 
<a name="l00556"></a>00556         <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)
<a name="l00557"></a>00557         {
<a name="l00558"></a>00558             <a class="code" href="classMat.html#a930a39b9836369c4779bcd0b412f5f53">delay_bl_restore</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a> + 2.3 * (R_bl_precharge * C_bl + R_bl * C_bl / 2);
<a name="l00559"></a>00559         }
<a name="l00560"></a>00560         <span class="keywordflow">else</span>
<a name="l00561"></a>00561         {
<a name="l00562"></a>00562             <a class="code" href="classMat.html#a930a39b9836369c4779bcd0b412f5f53">delay_bl_restore</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a> +
<a name="l00563"></a>00563             log((<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.Vbitpre - 0.1 * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a>) / (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.Vbitpre - <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a>))*
<a name="l00564"></a>00564             (R_bl_precharge * C_bl + R_bl * C_bl / 2);
<a name="l00565"></a>00565         }
<a name="l00566"></a>00566   }
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 
<a name="l00570"></a>00570   outrisetime = <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00571"></a>00571   row_dec_outrisetime = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00572"></a>00572 
<a name="l00573"></a>00573   outrisetime = <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00574"></a>00574   <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00575"></a>00575 
<a name="l00576"></a>00576   outrisetime = <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00577"></a>00577   <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00578"></a>00578 
<a name="l00579"></a>00579   outrisetime = <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classPredec.html#ae822c19809b29f520cdd7a1af1290a8e">compute_delays</a>(inrisetime);
<a name="l00580"></a>00580   <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classDecoder.html#a30f953f8648b65c03b70afd0c33d893f">compute_delays</a>(outrisetime);
<a name="l00581"></a>00581 
<a name="l00582"></a>00582   outrisetime = <a class="code" href="classMat.html#a662ca564b6cb13422b20369860cd400c">compute_bitline_delay</a>(row_dec_outrisetime);
<a name="l00583"></a>00583   outrisetime = <a class="code" href="classMat.html#a1cc917256a3094a8d02caa43b930d140">compute_sa_delay</a>(outrisetime);
<a name="l00584"></a>00584   outrisetime = <a class="code" href="classMat.html#a7e16ab183c7dd0d16b2af67a7c0d829c">compute_subarray_out_drv</a>(outrisetime);
<a name="l00585"></a>00585   <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a6ece9f65d6daff5ddfbe3dffb821cfce">set_in_rise_time</a>(outrisetime);
<a name="l00586"></a>00586   outrisetime = <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a79da2a8cdc918c66521341727fc2b53f">signal_rise_time</a>();
<a name="l00587"></a>00587 
<a name="l00588"></a>00588   <a class="code" href="classMat.html#acae6718054300f04c8379b795956281a">delay_subarray_out_drv_htree</a> = <a class="code" href="classMat.html#a99dd964a59923ed15a78731d3409f009">delay_subarray_out_drv</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>;
<a name="l00589"></a>00589 
<a name="l00590"></a>00590   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a1d8c96a7d76207c3d3c2c700dd61558e">is_tag</a> == <span class="keyword">true</span> &amp;&amp; <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#abb8c278c2b9427e543ce5052748feea8">fully_assoc</a> == <span class="keyword">false</span>)
<a name="l00591"></a>00591   {
<a name="l00592"></a>00592     <a class="code" href="classMat.html#a37f33f866647d6132be57e4bc5d7454c">compute_comparator_delay</a>(0);
<a name="l00593"></a>00593   }
<a name="l00594"></a>00594 
<a name="l00595"></a>00595   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classDecoder.html#a84ac4d38ca0deb4e97af8fc6966ef61b">exist</a> == <span class="keyword">false</span>)
<a name="l00596"></a>00596     {
<a name="l00597"></a>00597       <a class="code" href="classMat.html#a797d5cd7cd2065c8a2ce0824a1e69cad">delay_wl_reset</a> = MAX(<a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a9b2e6c13ee7aa9af2e6277c79647e09f">blk1</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>, <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classPredec.html#a0dbd7380bd934060567fafe941f5224a">blk2</a>-&gt;<a class="code" href="classComponent.html#ada6524bc83a57cbaf53b78a459cef86b">delay</a>);
<a name="l00598"></a>00598     }
<a name="l00599"></a>00599   <span class="keywordflow">return</span> outrisetime;
<a name="l00600"></a>00600 }
<a name="l00601"></a>00601 
<a name="l00602"></a>00602 
<a name="l00603"></a>00603 
<a name="l00604"></a><a class="code" href="classMat.html#a85828fe180db53d0b3e6bf209fa7c742">00604</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a85828fe180db53d0b3e6bf209fa7c742">Mat::compute_bit_mux_sa_precharge_sa_mux_wr_drv_wr_mux_h</a>()
<a name="l00605"></a>00605 {
<a name="l00606"></a>00606 
<a name="l00607"></a>00607   <span class="keywordtype">double</span> height = <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a>, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> / (2 *(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>))) +
<a name="l00608"></a>00608     <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ad6ba598361465ef3b16dcd459adf2612">w_pmos_bl_eq</a>, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>));  <span class="comment">// precharge circuitry</span>
<a name="l00609"></a>00609 
<a name="l00610"></a>00610   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> &gt; 1)
<a name="l00611"></a>00611   {
<a name="l00612"></a>00612     height += <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#af215dc210b41036c2d803baeff72adb6">w_nmos_b_mux</a>, <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> / (2 *(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>)));  <span class="comment">// col mux tr height</span>
<a name="l00613"></a>00613     <span class="comment">// height += deg_bl_muxing * g_tp.wire_inside_mat.pitch * (RWP + ERP);  // bit mux dec out wires height</span>
<a name="l00614"></a>00614   }
<a name="l00615"></a>00615 
<a name="l00616"></a>00616   height += <a class="code" href="classComponent.html#a3743a0890a93e34942dd9b6b7deecaab">height_sense_amplifier</a>(<span class="comment">/*camFlag? sram_cell.w:*/</span><a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>));  <span class="comment">// sense_amp_height</span>
<a name="l00617"></a>00617 
<a name="l00618"></a>00618   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> &gt; 1)
<a name="l00619"></a>00619   {
<a name="l00620"></a>00620     height += <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(
<a name="l00621"></a>00621         <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>));  <span class="comment">// sense_amp_mux_height</span>
<a name="l00622"></a>00622     <span class="comment">//height_senseamp_mux_decode_output_wires =  Ndsam * wire_inside_mat_pitch * (RWP + ERP);</span>
<a name="l00623"></a>00623   }
<a name="l00624"></a>00624 
<a name="l00625"></a>00625   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> &gt; 1)
<a name="l00626"></a>00626   {
<a name="l00627"></a>00627     height += <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(
<a name="l00628"></a>00628         <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>));  <span class="comment">// sense_amp_mux_height</span>
<a name="l00629"></a>00629     <span class="comment">//height_senseamp_mux_decode_output_wires =  Ndsam * wire_inside_mat_pitch * (RWP + ERP);</span>
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     <span class="comment">// add height of inverter-buffers between the two levels (pass-transistors) of sense-amp mux</span>
<a name="l00632"></a>00632     height += 2 * <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(
<a name="l00633"></a>00633         <a class="code" href="basic__circuit_8cc.html#a01068a141f18712986d216f729f62f88">pmos_to_nmos_sz_ratio</a>(<a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>));
<a name="l00634"></a>00634     height += 2 * <a class="code" href="classComponent.html#a2e5763a24805a1eb8058a142f769a06f">compute_tr_width_after_folding</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, <a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>));
<a name="l00635"></a>00635   }
<a name="l00636"></a>00636 
<a name="l00637"></a>00637   <span class="comment">// TODO: this should be uncommented...</span>
<a name="l00638"></a>00638   <span class="comment">/*if (deg_bl_muxing * dp.Ndsam_lev_1 * dp.Ndsam_lev_2 &gt; 1)</span>
<a name="l00639"></a>00639 <span class="comment">    {</span>
<a name="l00640"></a>00640 <span class="comment">  //height_write_mux_decode_output_wires = deg_bl_muxing * Ndsam * g_tp.wire_inside_mat.pitch * (RWP + EWP);</span>
<a name="l00641"></a>00641 <span class="comment">  double width_write_driver_write_mux  = width_write_driver_or_write_mux();</span>
<a name="l00642"></a>00642 <span class="comment">  double height_write_driver_write_mux = compute_tr_width_after_folding(2 * width_write_driver_write_mux,</span>
<a name="l00643"></a>00643 <span class="comment">  cell.w *</span>
<a name="l00644"></a>00644 <span class="comment">  // deg_bl_muxing *</span>
<a name="l00645"></a>00645 <span class="comment">  dp.Ndsam_lev_1 * dp.Ndsam_lev_2 / (RWP + EWP));</span>
<a name="l00646"></a>00646 <span class="comment">  height += height_write_driver_write_mux;</span>
<a name="l00647"></a>00647 <span class="comment">  }*/</span>
<a name="l00648"></a>00648 
<a name="l00649"></a>00649   <span class="keywordflow">return</span> height;
<a name="l00650"></a>00650 }
<a name="l00651"></a>00651 
<a name="l00652"></a>00652 
<a name="l00653"></a>00653 
<a name="l00654"></a><a class="code" href="classMat.html#a4de148fb46352eb720d714c0720d6bec">00654</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a4de148fb46352eb720d714c0720d6bec">Mat::compute_cam_delay</a>(<span class="keywordtype">double</span> inrisetime)
<a name="l00655"></a>00655 {
<a name="l00656"></a>00656 
<a name="l00657"></a>00657   <span class="keywordtype">double</span> out_time_ramp, this_delay;
<a name="l00658"></a>00658   <span class="keywordtype">double</span> Rwire, tf, c_intrinsic, rd, Cwire, c_gate_load;
<a name="l00659"></a>00659 
<a name="l00660"></a>00660  <span class="keywordtype">double</span>  Wfaprechp, Wdummyn, Wdummyinvn, Wdummyinvp, Waddrnandn, Waddrnandp,
<a name="l00661"></a>00661      Wfanorn, Wfanorp,W_hit_miss_n, W_hit_miss_p;
<a name="l00662"></a>00662 
<a name="l00663"></a>00663   <span class="keywordtype">double</span> c_matchline_metal, r_matchline_metal, c_searchline_metal, r_searchline_metal,  dynSearchEng;
<a name="l00664"></a>00664   <span class="keywordtype">int</span> Htagbits;
<a name="l00665"></a>00665 
<a name="l00666"></a>00666   <span class="keywordtype">double</span> driver_c_gate_load;
<a name="l00667"></a>00667   <span class="keywordtype">double</span> driver_c_wire_load;
<a name="l00668"></a>00668   <span class="keywordtype">double</span> driver_r_wire_load;
<a name="l00669"></a>00669   <span class="comment">//double searchline_precharge_time;</span>
<a name="l00670"></a>00670 
<a name="l00671"></a>00671   <span class="keywordtype">double</span> leak_power_cc_inverters_sram_cell         = 0;
<a name="l00672"></a>00672   <span class="keywordtype">double</span> leak_power_acc_tr_RW_or_WR_port_sram_cell = 0;
<a name="l00673"></a>00673   <span class="keywordtype">double</span> leak_power_RD_port_sram_cell              = 0;
<a name="l00674"></a>00674   <span class="keywordtype">double</span> leak_power_SCHP_port_sram_cell            = 0;
<a name="l00675"></a>00675   <span class="keywordtype">double</span> leak_comparator_cam_cell                  =0;
<a name="l00676"></a>00676 
<a name="l00677"></a>00677   <span class="keywordtype">double</span> gate_leak_comparator_cam_cell          = 0;
<a name="l00678"></a>00678   <span class="keywordtype">double</span> gate_leak_power_cc_inverters_sram_cell = 0;
<a name="l00679"></a>00679   <span class="keywordtype">double</span> gate_leak_power_RD_port_sram_cell      = 0;
<a name="l00680"></a>00680   <span class="keywordtype">double</span> gate_leak_power_SCHP_port_sram_cell    = 0;
<a name="l00681"></a>00681 
<a name="l00682"></a>00682   c_matchline_metal   = <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>() * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.C_per_um;
<a name="l00683"></a>00683   c_searchline_metal  = <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#abd30d00ceefb405b789e6639358a86b4">get_h</a>() * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.C_per_um;
<a name="l00684"></a>00684   r_matchline_metal   = <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#ae1f3e3c8f55fe4637fc22f033379c7e1">get_w</a>() * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00685"></a>00685   r_searchline_metal  = <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#abd30d00ceefb405b789e6639358a86b4">get_h</a>() * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00686"></a>00686 
<a name="l00687"></a>00687   dynSearchEng = 0.0;
<a name="l00688"></a>00688   <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> = 0.0;
<a name="l00689"></a>00689   <span class="keywordtype">double</span> p_to_n_sizing_r = <a class="code" href="basic__circuit_8cc.html#a01068a141f18712986d216f729f62f88">pmos_to_nmos_sz_ratio</a>(<a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00690"></a>00690   <span class="keywordtype">bool</span> linear_scaling = <span class="keyword">false</span>;
<a name="l00691"></a>00691 
<a name="l00692"></a>00692   <span class="keywordflow">if</span> (linear_scaling)
<a name="l00693"></a>00693   {
<a name="l00694"></a>00694 
<a name="l00695"></a>00695       Wfaprechp     = 12.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  10 micron for the 0.8 micron process</span>
<a name="l00696"></a>00696       Wdummyn       = 12.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  10 micron for the 0.8 micron process</span>
<a name="l00697"></a>00697       Wdummyinvn    =   75 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  60 micron for the 0.8 micron process</span>
<a name="l00698"></a>00698       Wdummyinvp    =  100 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  80 micron for the 0.8 micron process</span>
<a name="l00699"></a>00699       Waddrnandn    = 62.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  50 micron for the 0.8 micron process</span>
<a name="l00700"></a>00700       Waddrnandp    = 62.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  50 micron for the 0.8 micron process</span>
<a name="l00701"></a>00701       Wfanorn       = 6.25 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was   5 micron for the 0.8 micron process</span>
<a name="l00702"></a>00702       Wfanorp       = 12.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  10 micron for the 0.8 micron process</span>
<a name="l00703"></a>00703       W_hit_miss_n    = Wdummyn;
<a name="l00704"></a>00704       W_hit_miss_p    = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>*p_to_n_sizing_r;
<a name="l00705"></a>00705       <span class="comment">//TODO: this number should updated using new layout; from the NAND to output NOR should be computed using logical effort</span>
<a name="l00706"></a>00706   }
<a name="l00707"></a>00707   <span class="keywordflow">else</span>
<a name="l00708"></a>00708   {
<a name="l00709"></a>00709       Wfaprechp     = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a>;<span class="comment">//this was  10 micron for the 0.8 micron process</span>
<a name="l00710"></a>00710       Wdummyn       = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_nmos_w;
<a name="l00711"></a>00711       Wdummyinvn    =   75 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  60 micron for the 0.8 micron process</span>
<a name="l00712"></a>00712       Wdummyinvp    =  100 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  80 micron for the 0.8 micron process</span>
<a name="l00713"></a>00713       Waddrnandn    = 62.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  50 micron for the 0.8 micron process</span>
<a name="l00714"></a>00714       Waddrnandp    = 62.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  50 micron for the 0.8 micron process</span>
<a name="l00715"></a>00715       Wfanorn       = 6.25 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was   5 micron for the 0.8 micron process</span>
<a name="l00716"></a>00716       Wfanorp       = 12.5 * <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af87b2dbf0f18e228e0a54655f40dbe24">F_sz_um</a>;<span class="comment">//this was  10 micron for the 0.8 micron process</span>
<a name="l00717"></a>00717       W_hit_miss_n    = Wdummyn;
<a name="l00718"></a>00718       W_hit_miss_p    = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>*p_to_n_sizing_r;
<a name="l00719"></a>00719   }
<a name="l00720"></a>00720 
<a name="l00721"></a>00721   Htagbits = (<a class="code" href="classint.html">int</a>)(ceil ((<span class="keywordtype">double</span>) (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>) / 2.0));
<a name="l00722"></a>00722 
<a name="l00723"></a>00723   <span class="comment">/* First stage, searchline is precharged. searchline data driver drives the searchline to open (if miss) the comparators.</span>
<a name="l00724"></a>00724 <span class="comment">     search_line_delay, search_line_power, search_line_restore_delay for cycle time computation.</span>
<a name="l00725"></a>00725 <span class="comment">     From the driver(am and an) to the comparators in all the rows including the dummy row,</span>
<a name="l00726"></a>00726 <span class="comment">     Assuming that comparators in both the normal matching line and the dummy matching line have the same sizing */</span>
<a name="l00727"></a>00727 
<a name="l00728"></a>00728   <span class="comment">//Searchline precharge circuitry is same as that of bitline. However, no sharing between search ports and r/w ports</span>
<a name="l00729"></a>00729   <span class="comment">//Searchline precharge routes horizontally</span>
<a name="l00730"></a>00730   driver_c_gate_load = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(2 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a> + <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ad6ba598361465ef3b16dcd459adf2612">w_pmos_bl_eq</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00731"></a>00731   driver_c_wire_load = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.C_per_um;
<a name="l00732"></a>00732   driver_r_wire_load = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> * <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a67b3264e75b1550ca41ef6695df2f900">wire_outside_mat</a>.R_per_um;
<a name="l00733"></a>00733 
<a name="l00734"></a>00734   <a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00735"></a>00735       driver_c_gate_load,
<a name="l00736"></a>00736       driver_c_wire_load,
<a name="l00737"></a>00737       driver_r_wire_load,
<a name="l00738"></a>00738       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00739"></a>00739 
<a name="l00740"></a>00740   <span class="comment">//searchline data driver ; subarray.num_rows + 1 is because of the dummy row</span>
<a name="l00741"></a>00741   <span class="comment">//data drv should only have gate_C not 2*gate_C since the two searchlines are differential--same as bitlines</span>
<a name="l00742"></a>00742   driver_c_gate_load = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(Wdummyn, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00743"></a>00743   driver_c_wire_load = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * c_searchline_metal;
<a name="l00744"></a>00744   driver_r_wire_load = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * r_searchline_metal;
<a name="l00745"></a>00745   <a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00746"></a>00746       driver_c_gate_load,
<a name="l00747"></a>00747       driver_c_wire_load,
<a name="l00748"></a>00748       driver_r_wire_load,
<a name="l00749"></a>00749       <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00750"></a>00750 
<a name="l00751"></a>00751   <a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a8265b6a829e994270176c41aed86bbc2">compute_delay</a>(0);
<a name="l00752"></a>00752   <span class="keywordtype">double</span> R_bl_precharge = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#acb6f965c9dd91d67b4e98e937931ec2e">w_pmos_bl_precharge</a>, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);<span class="comment">//Assuming CAM and SRAM have same Pre_eq_dr</span>
<a name="l00753"></a>00753   <span class="keywordtype">double</span> r_b_metal = <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00754"></a>00754   <span class="keywordtype">double</span> R_bl = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * r_b_metal;
<a name="l00755"></a>00755   <span class="keywordtype">double</span> <a class="code" href="classMat.html#a2ec2668493e38ca61eaf5717971cf8f8">C_bl</a> = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#afd00168c5bb1d9b707455020a4bf0902">C_bl_cam</a>;
<a name="l00756"></a>00756   <a class="code" href="classMat.html#a27334de009ebc80898d710d07d9f67aa">delay_cam_sl_restore</a> = <a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a>
<a name="l00757"></a>00757                          + log(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.Vbitpre)* (R_bl_precharge * C_bl + R_bl * C_bl / 2);
<a name="l00758"></a>00758 
<a name="l00759"></a>00759   out_time_ramp = <a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#a8265b6a829e994270176c41aed86bbc2">compute_delay</a>(inrisetime);<span class="comment">//After entering one mat, start to consider the inrisetime from 0(0 is passed from outside)</span>
<a name="l00760"></a>00760 
<a name="l00761"></a>00761   <span class="comment">//matchline ops delay</span>
<a name="l00762"></a>00762   <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> += <a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a>;
<a name="l00763"></a>00763 
<a name="l00764"></a>00764   <span class="comment">/* second stage, from the trasistors in the comparators(both normal row and dummy row) to the NAND gates that combins both half*/</span>
<a name="l00765"></a>00765   <span class="comment">//matchline delay, matchline power, matchline_reset for cycle time computation,</span>
<a name="l00766"></a>00766 
<a name="l00768"></a>00768   <span class="comment">//There are two matchline precharge driver chains per subarray.</span>
<a name="l00769"></a>00769   driver_c_gate_load = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(Wfaprechp, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00770"></a>00770   driver_c_wire_load = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * c_searchline_metal;
<a name="l00771"></a>00771   driver_r_wire_load = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> + 1) * r_searchline_metal;
<a name="l00772"></a>00772 
<a name="l00773"></a>00773   <a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00774"></a>00774                           driver_c_gate_load,
<a name="l00775"></a>00775                           driver_c_wire_load,
<a name="l00776"></a>00776                           driver_r_wire_load,
<a name="l00777"></a>00777                           <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00778"></a>00778 
<a name="l00779"></a>00779   <a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#a8265b6a829e994270176c41aed86bbc2">compute_delay</a>(0);
<a name="l00780"></a>00780 
<a name="l00781"></a>00781 
<a name="l00782"></a>00782   rd =  <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(Wdummyn, NCH, 2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00783"></a>00783   c_intrinsic = Htagbits*(2*<a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Wdummyn, NCH, 2, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)<span class="comment">//TODO: the cell_h_def should be revisit</span>
<a name="l00784"></a>00784                   + <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Wfaprechp, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)/Htagbits);<span class="comment">//since each halve only has one precharge tx per matchline</span>
<a name="l00785"></a>00785 
<a name="l00786"></a>00786   Cwire = c_matchline_metal * Htagbits;
<a name="l00787"></a>00787   Rwire = r_matchline_metal * Htagbits;
<a name="l00788"></a>00788   c_gate_load = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(Waddrnandn + Waddrnandp, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00789"></a>00789 
<a name="l00790"></a>00790   <span class="keywordtype">double</span> R_ml_precharge = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(Wfaprechp, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00791"></a>00791   <span class="comment">//double r_ml_metal = cam_cell.w * g_tp.wire_local.R_per_um;</span>
<a name="l00792"></a>00792   <span class="keywordtype">double</span> R_ml = Rwire;
<a name="l00793"></a>00793   <span class="keywordtype">double</span> C_ml = Cwire + c_intrinsic;
<a name="l00794"></a>00794   <a class="code" href="classMat.html#a0511aa6d278ca532ffa01cbe309fe6dc">delay_cam_ml_reset</a> = <a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a>
<a name="l00795"></a>00795                            + log(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.Vbitpre)* (R_ml_precharge * C_ml + R_ml * C_ml / 2);<span class="comment">//TODO: latest CAM has sense amps on matchlines too</span>
<a name="l00796"></a>00796 
<a name="l00797"></a>00797   <span class="comment">//matchline ops delay</span>
<a name="l00798"></a>00798   tf = rd * (c_intrinsic + Cwire / 2 + c_gate_load) + Rwire * (Cwire / 2 + c_gate_load);
<a name="l00799"></a>00799   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(out_time_ramp, tf, VTHFA2, VTHFA3, FALL);
<a name="l00800"></a>00800   <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> += this_delay;
<a name="l00801"></a>00801   out_time_ramp = this_delay / VTHFA3;
<a name="l00802"></a>00802 
<a name="l00803"></a>00803   dynSearchEng += ((c_intrinsic + Cwire + c_gate_load)*(<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> +1)) <span class="comment">//+ 2*drain_C_(Wdummyn, NCH, 2, 1, g_tp.cell_h_def, is_dram))//TODO: need to be precise</span>
<a name="l00804"></a>00804                       * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd *2;<span class="comment">//* Ntbl;//each subarry has two halves</span>
<a name="l00805"></a>00805 
<a name="l00806"></a>00806   <span class="comment">/* third stage, from the NAND2 gates to the drivers in the dummy row */</span>
<a name="l00807"></a>00807   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(Waddrnandn, NCH, 2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00808"></a>00808   c_intrinsic = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Waddrnandn, NCH, 2, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l00809"></a>00809                 <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Waddrnandp, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)*2;
<a name="l00810"></a>00810   c_gate_load = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(Wdummyinvn + Wdummyinvp, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00811"></a>00811   tf = rd * (c_intrinsic + c_gate_load);
<a name="l00812"></a>00812   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(out_time_ramp, tf, VTHFA3, VTHFA4, RISE);
<a name="l00813"></a>00813   out_time_ramp = this_delay / (1 - VTHFA4);
<a name="l00814"></a>00814   <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> += this_delay;
<a name="l00815"></a>00815 
<a name="l00816"></a>00816   <span class="comment">//only the dummy row has the extra inverter between NAND and NOR gates</span>
<a name="l00817"></a>00817   dynSearchEng += (c_intrinsic* (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1)+ c_gate_load*2) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;<span class="comment">//  * Ntbl;</span>
<a name="l00818"></a>00818 
<a name="l00819"></a>00819   <span class="comment">/* fourth stage, from the driver in dummy matchline to the NOR2 gate which drives the wordline of the data portion */</span>
<a name="l00820"></a>00820   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(Wdummyinvn, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00821"></a>00821   c_intrinsic = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Wdummyinvn, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) + <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Wdummyinvp, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00822"></a>00822   Cwire = c_matchline_metal * Htagbits +  c_searchline_metal * (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1)/2;
<a name="l00823"></a>00823   Rwire = r_matchline_metal * Htagbits +  r_searchline_metal * (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1)/2;
<a name="l00824"></a>00824   c_gate_load = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(Wfanorn + Wfanorp, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00825"></a>00825   tf = rd * (c_intrinsic + Cwire + c_gate_load) + Rwire * (Cwire / 2 + c_gate_load);
<a name="l00826"></a>00826   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a> (out_time_ramp, tf, VTHFA4, VTHFA5, FALL);
<a name="l00827"></a>00827   out_time_ramp = this_delay / VTHFA5;
<a name="l00828"></a>00828   <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> += this_delay;
<a name="l00829"></a>00829 
<a name="l00830"></a>00830   dynSearchEng += (c_intrinsic + Cwire + <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>*c_gate_load) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;<span class="comment">//* Ntbl;</span>
<a name="l00831"></a>00831 
<a name="l00832"></a>00832   <span class="comment">/*final statge from the NOR gate to drive the wordline of the data portion */</span>
<a name="l00833"></a>00833 
<a name="l00834"></a>00834   <span class="comment">//searchline data driver There are two matchline precharge driver chains per subarray.</span>
<a name="l00835"></a>00835   driver_c_gate_load = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(W_hit_miss_n, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);<span class="comment">//nmos of the pull down logic</span>
<a name="l00836"></a>00836   driver_c_wire_load = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a13c09499e034d1aaf09c7a9e81566420">C_wl_ram</a>;
<a name="l00837"></a>00837   driver_r_wire_load = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a0ee2e67bef0f7a9fa350655d813d5771">R_wl_ram</a>;
<a name="l00838"></a>00838 
<a name="l00839"></a>00839   <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a> = <span class="keyword">new</span> <a class="code" href="classDriver.html">Driver</a>(
<a name="l00840"></a>00840                           driver_c_gate_load,
<a name="l00841"></a>00841                           driver_c_wire_load,
<a name="l00842"></a>00842                           driver_r_wire_load,
<a name="l00843"></a>00843                           <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00844"></a>00844 
<a name="l00845"></a>00845 
<a name="l00846"></a>00846 
<a name="l00847"></a>00847   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(Wfanorn, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00848"></a>00848   c_intrinsic = 2* <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Wfanorn, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) + <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(Wfanorp, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00849"></a>00849   c_gate_load = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#ae9dbcf763c4f6a31c168e7885b64c7b5">width_n</a>[0] + <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#ae818878590acdf9140c08c6a576c0cb2">width_p</a>[0], 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00850"></a>00850   tf = rd * (c_intrinsic + c_gate_load);
<a name="l00851"></a>00851   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a> (out_time_ramp, tf, 0.5, 0.5, RISE);
<a name="l00852"></a>00852   out_time_ramp = this_delay / (1-0.5);
<a name="l00853"></a>00853   <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> += this_delay;
<a name="l00854"></a>00854 
<a name="l00855"></a>00855   out_time_ramp   = <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#a8265b6a829e994270176c41aed86bbc2">compute_delay</a>(out_time_ramp);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857   <span class="comment">//c_gate_load energy is computed in ml_to_ram_wl_drv</span>
<a name="l00858"></a>00858   dynSearchEng  += (c_intrinsic) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;<span class="comment">//* Ntbl;</span>
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 
<a name="l00861"></a>00861   <span class="comment">/* peripheral-- hitting logic &quot;CMOS VLSI Design Fig11.51*/</span>
<a name="l00862"></a>00862   <span class="comment">/*Precharge the hitting logic */</span>
<a name="l00863"></a>00863   c_intrinsic = 2*<a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(W_hit_miss_p, NCH, 2, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00864"></a>00864   Cwire = c_searchline_metal * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00865"></a>00865   Rwire = r_searchline_metal * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00866"></a>00866   c_gate_load = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(W_hit_miss_n, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00867"></a>00867 
<a name="l00868"></a>00868   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(W_hit_miss_p, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00869"></a>00869   <span class="comment">//double r_ml_metal = cam_cell.w * g_tp.wire_local.R_per_um;</span>
<a name="l00870"></a>00870   <span class="keywordtype">double</span> R_hit_miss = Rwire;
<a name="l00871"></a>00871   <span class="keywordtype">double</span> C_hit_miss = Cwire + c_intrinsic;
<a name="l00872"></a>00872   <a class="code" href="classMat.html#a1c80f90f503a3701f679c98d0f9fa907">delay_hit_miss_reset</a> = log(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.Vbitpre)* (rd * C_hit_miss + R_hit_miss * C_hit_miss / 2);
<a name="l00873"></a>00873   dynSearchEng  += (c_intrinsic + Cwire + c_gate_load) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l00874"></a>00874 
<a name="l00875"></a>00875   <span class="comment">/*hitting logic evaluation */</span>
<a name="l00876"></a>00876   c_intrinsic = 2*<a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(W_hit_miss_n, NCH, 2, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00877"></a>00877   Cwire = c_searchline_metal * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00878"></a>00878   Rwire = r_searchline_metal * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00879"></a>00879   c_gate_load = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(W_hit_miss_n, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>;
<a name="l00880"></a>00880 
<a name="l00881"></a>00881   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(W_hit_miss_n, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">false</span>, <span class="keyword">false</span>);
<a name="l00882"></a>00882   tf = rd * (c_intrinsic + Cwire / 2 + c_gate_load) + Rwire * (Cwire / 2 + c_gate_load);
<a name="l00883"></a>00883 
<a name="l00884"></a>00884   <a class="code" href="classMat.html#ae6e5f0bee42cfdeaf96c0e8c8369977a">delay_hit_miss</a> = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(0, tf, 0.5, 0.5, FALL);
<a name="l00885"></a>00885 
<a name="l00886"></a>00886   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>)
<a name="l00887"></a>00887       <a class="code" href="classMat.html#af4da942f9b1872c12e0a77a0e956bd58">delay_matchchline</a> += MAX(<a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#a2a3685e4173bdd8aa4640a17d05cc731">delay</a>, <a class="code" href="classMat.html#ae6e5f0bee42cfdeaf96c0e8c8369977a">delay_hit_miss</a>);
<a name="l00888"></a>00888 
<a name="l00889"></a>00889   dynSearchEng  += (c_intrinsic + Cwire + c_gate_load) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l00890"></a>00890 
<a name="l00891"></a>00891   <span class="comment">/* TODO: peripheral-- Priority Encoder, usually this is not necessary in processor components*/</span>
<a name="l00892"></a>00892 
<a name="l00893"></a>00893   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = dynSearchEng;
<a name="l00894"></a>00894 
<a name="l00895"></a>00895   <span class="comment">//leakage in one subarray</span>
<a name="l00896"></a>00896   <span class="keywordtype">double</span> Iport     = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_a_w, 0,  1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);<span class="comment">//TODO: how much is the idle time? just by *2?</span>
<a name="l00897"></a>00897   <span class="keywordtype">double</span> Iport_erp = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_a_w, 0,  2, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l00898"></a>00898   <span class="keywordtype">double</span> Icell     = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_nmos_w, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_pmos_w, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <span class="keyword">false</span>, <span class="keyword">true</span>)*2;
<a name="l00899"></a>00899   <span class="keywordtype">double</span> Icell_comparator = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(Wdummyn, Wdummyn, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <span class="keyword">false</span>, <span class="keyword">true</span>)*2;<span class="comment">//approx XOR with Inv</span>
<a name="l00900"></a>00900 
<a name="l00901"></a>00901   leak_power_cc_inverters_sram_cell         = Icell * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00902"></a>00902   leak_comparator_cam_cell                  = Icell_comparator * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00903"></a>00903   leak_power_acc_tr_RW_or_WR_port_sram_cell = Iport * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00904"></a>00904   leak_power_RD_port_sram_cell              = Iport_erp * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00905"></a>00905   leak_power_SCHP_port_sram_cell            = 0;<span class="comment">//search port and r/w port are sperate, therefore no access txs in search ports</span>
<a name="l00906"></a>00906 
<a name="l00907"></a>00907   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += leak_power_cc_inverters_sram_cell +
<a name="l00908"></a>00908     leak_comparator_cam_cell +
<a name="l00909"></a>00909     leak_power_acc_tr_RW_or_WR_port_sram_cell +
<a name="l00910"></a>00910     leak_power_acc_tr_RW_or_WR_port_sram_cell * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a> - 1) +
<a name="l00911"></a>00911     leak_power_RD_port_sram_cell * <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> +
<a name="l00912"></a>00912     leak_power_SCHP_port_sram_cell*<a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>;
<a name="l00913"></a>00913 <span class="comment">//  power_matchline.searchOp.leakage += leak_comparator_cam_cell;</span>
<a name="l00914"></a>00914   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> *= (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;<span class="comment">//TODO:dumy line precise</span>
<a name="l00915"></a>00915   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(0, Wfaprechp, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ab6937ad06aef53296dd1054beed9ae68">pmos</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00916"></a>00916   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(Waddrnandn, Waddrnandp, 2, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ae2a5ed2c8ed3729a9406fe0f459c6e02">nand</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00917"></a>00917   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(Wfanorn, Wfanorp,2, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ada9431b230a13eb0e8d4f663e3eeee1d">nor</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00918"></a>00918   <span class="comment">//In idle states, the hit/miss txs are closed (on) therefore no Isub</span>
<a name="l00919"></a>00919   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += 0;<span class="comment">// subarray.num_rows * cmos_Isub_leakage(W_hit_miss_n, 0,1, nmos) * g_tp.cam_cell.Vdd+</span>
<a name="l00920"></a>00920     <span class="comment">// + cmos_Isub_leakage(0, W_hit_miss_p,1, pmos) * g_tp.cam_cell.Vdd;</span>
<a name="l00921"></a>00921 
<a name="l00922"></a>00922   <span class="comment">//in idle state, Ig_on only possibly exist in access transistors of read only ports</span>
<a name="l00923"></a>00923   <span class="keywordtype">double</span> Ig_port_erp = <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_a_w, 0, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l00924"></a>00924   <span class="keywordtype">double</span> Ig_cell     = <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_nmos_w, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a5eaced805c1740e0d552b5dcbb76d8fe">cam</a>.cell_pmos_w, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <span class="keyword">false</span>, <span class="keyword">true</span>)*2;
<a name="l00925"></a>00925   <span class="keywordtype">double</span> Ig_cell_comparator = <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(Wdummyn, Wdummyn, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <span class="keyword">false</span>, <span class="keyword">true</span>)*2;<span class="comment">// cmos_Ig_leakage(Wdummyn, 0, 2, nmos)*2;</span>
<a name="l00926"></a>00926 
<a name="l00927"></a>00927   gate_leak_comparator_cam_cell          = Ig_cell_comparator* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00928"></a>00928   gate_leak_power_cc_inverters_sram_cell = Ig_cell*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00929"></a>00929   gate_leak_power_RD_port_sram_cell      = Ig_port_erp*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l00930"></a>00930   gate_leak_power_SCHP_port_sram_cell    = 0;
<a name="l00931"></a>00931 
<a name="l00932"></a>00932   <span class="comment">//cout&lt;&lt;&quot;power_matchline.searchOp.leakage&quot;&lt;&lt;power_matchline.searchOp.leakage&lt;&lt;endl;</span>
<a name="l00933"></a>00933 
<a name="l00934"></a>00934   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += gate_leak_power_cc_inverters_sram_cell;
<a name="l00935"></a>00935   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += gate_leak_comparator_cam_cell;
<a name="l00936"></a>00936   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += gate_leak_power_SCHP_port_sram_cell*<a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a> + gate_leak_power_RD_port_sram_cell * <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>;
<a name="l00937"></a>00937   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> *= (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;<span class="comment">//TODO:dumy line precise</span>
<a name="l00938"></a>00938   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(0, Wfaprechp,1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ab6937ad06aef53296dd1054beed9ae68">pmos</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00939"></a>00939   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(Waddrnandn, Waddrnandp, 2, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ae2a5ed2c8ed3729a9406fe0f459c6e02">nand</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00940"></a>00940   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a>+1) * <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(Wfanorn, Wfanorp, 2, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ada9431b230a13eb0e8d4f663e3eeee1d">nor</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00941"></a>00941   <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(W_hit_miss_n, 0,1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd+
<a name="l00942"></a>00942                                        + <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(0, W_hit_miss_p,1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19ab6937ad06aef53296dd1054beed9ae68">pmos</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ae0d7c901f7792f5e4882ec3d712a095b">cam_cell</a>.Vdd;
<a name="l00943"></a>00943 
<a name="l00944"></a>00944 
<a name="l00945"></a>00945    <span class="keywordflow">return</span> out_time_ramp;
<a name="l00946"></a>00946 }
<a name="l00947"></a>00947 
<a name="l00948"></a>00948 
<a name="l00949"></a><a class="code" href="classMat.html#a58eced01e65651e7bbf4fd767be94f0a">00949</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a58eced01e65651e7bbf4fd767be94f0a">Mat::width_write_driver_or_write_mux</a>()
<a name="l00950"></a>00950 {
<a name="l00951"></a>00951   <span class="comment">// calculate resistance of SRAM cell pull-up PMOS transistor</span>
<a name="l00952"></a>00952   <span class="comment">// cam and sram have same cell trasistor properties</span>
<a name="l00953"></a>00953   <span class="keywordtype">double</span> R_sram_cell_pull_up_tr  = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_pmos_w, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">true</span>);
<a name="l00954"></a>00954   <span class="keywordtype">double</span> R_access_tr             = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_a_w,    NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>, <span class="keyword">true</span>);
<a name="l00955"></a>00955   <span class="keywordtype">double</span> target_R_write_driver_and_mux = (2 * R_sram_cell_pull_up_tr - R_access_tr) / 2;
<a name="l00956"></a>00956   <span class="keywordtype">double</span> width_write_driver_nmos = <a class="code" href="basic__circuit_8cc.html#a0b2f49dd551252e812876e317a48e0cb">R_to_w</a>(target_R_write_driver_and_mux, NCH, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l00957"></a>00957 
<a name="l00958"></a>00958   <span class="keywordflow">return</span> width_write_driver_nmos;
<a name="l00959"></a>00959 }
<a name="l00960"></a>00960 
<a name="l00961"></a>00961 
<a name="l00962"></a>00962 
<a name="l00963"></a><a class="code" href="classMat.html#aef00cb4144565014b37cc5e179f4d650">00963</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#aef00cb4144565014b37cc5e179f4d650">Mat::compute_comparators_height</a>(
<a name="l00964"></a>00964     <span class="keywordtype">int</span> tagbits,
<a name="l00965"></a>00965     <span class="keywordtype">int</span> number_ways_in_mat,
<a name="l00966"></a>00966     <span class="keywordtype">double</span> subarray_mem_cell_area_width)
<a name="l00967"></a>00967 {
<a name="l00968"></a>00968   <span class="keywordtype">double</span> nand2_area = <a class="code" href="classComponent.html#a0b88a39df73898ce5d5a90a89dc3a9d3">compute_gate_area</a>(NAND, 2, 0, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>);
<a name="l00969"></a>00969   <span class="keywordtype">double</span> cumulative_area = nand2_area * number_ways_in_mat * tagbits / 4;
<a name="l00970"></a>00970   <span class="keywordflow">return</span> cumulative_area / subarray_mem_cell_area_width;
<a name="l00971"></a>00971 }
<a name="l00972"></a>00972 
<a name="l00973"></a>00973 
<a name="l00974"></a>00974 
<a name="l00975"></a><a class="code" href="classMat.html#a662ca564b6cb13422b20369860cd400c">00975</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a662ca564b6cb13422b20369860cd400c">Mat::compute_bitline_delay</a>(<span class="keywordtype">double</span> inrisetime)
<a name="l00976"></a>00976 {
<a name="l00977"></a>00977   <span class="keywordtype">double</span> V_b_pre, v_th_mem_cell, V_wl;
<a name="l00978"></a>00978   <span class="keywordtype">double</span> tstep;
<a name="l00979"></a>00979   <span class="keywordtype">double</span> dynRdEnergy = 0.0, dynWriteEnergy = 0.0;
<a name="l00980"></a>00980   <span class="keywordtype">double</span> R_cell_pull_down=0.0, R_cell_acc =0.0, r_dev=0.0;
<a name="l00981"></a>00981   <span class="keywordtype">int</span> deg_senseamp_muxing = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>;
<a name="l00982"></a>00982 
<a name="l00983"></a>00983   <span class="keywordtype">double</span> R_b_metal = <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#acaf29e1b1248af18823cd02aa4396d6e">h</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a010f3b760c4208a344887f5b4ff09c0a">wire_local</a>.R_per_um;
<a name="l00984"></a>00984   <span class="keywordtype">double</span> R_bl      = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * R_b_metal;
<a name="l00985"></a>00985   <span class="keywordtype">double</span> <a class="code" href="classMat.html#a2ec2668493e38ca61eaf5717971cf8f8">C_bl</a>      = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a3b4f4cd63295cc1d8ada78ce2d041eb4">C_bl</a>;
<a name="l00986"></a>00986 
<a name="l00987"></a>00987   <span class="comment">// TODO: no leakage for DRAMs?</span>
<a name="l00988"></a>00988   <span class="keywordtype">double</span> leak_power_cc_inverters_sram_cell = 0;
<a name="l00989"></a>00989   <span class="keywordtype">double</span> gate_leak_power_cc_inverters_sram_cell = 0;
<a name="l00990"></a>00990   <span class="keywordtype">double</span> leak_power_acc_tr_RW_or_WR_port_sram_cell = 0;
<a name="l00991"></a>00991   <span class="keywordtype">double</span> leak_power_RD_port_sram_cell = 0;
<a name="l00992"></a>00992   <span class="keywordtype">double</span> gate_leak_power_RD_port_sram_cell = 0;
<a name="l00993"></a>00993 
<a name="l00994"></a>00994   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a> == <span class="keyword">true</span>)
<a name="l00995"></a>00995   {
<a name="l00996"></a>00996     V_b_pre = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a71f46f6a31b13831ff01d23ad1bc8c4c">dram</a>.Vbitpre;
<a name="l00997"></a>00997     v_th_mem_cell = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a622a6944168183547dd4fd5ee2b6bc58">dram_acc</a>.Vth;
<a name="l00998"></a>00998     V_wl = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a79dd516d4bdeca25719b3950bafcbea8">vpp</a>;
<a name="l00999"></a>00999     <span class="comment">//The access transistor is not folded. So we just need to specify a threshold value for the</span>
<a name="l01000"></a>01000     <span class="comment">//folding width that is equal to or greater than Wmemcella.</span>
<a name="l01001"></a>01001     R_cell_acc = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a71f46f6a31b13831ff01d23ad1bc8c4c">dram</a>.cell_a_w, NCH, 1, <span class="keyword">true</span>, <span class="keyword">true</span>);
<a name="l01002"></a>01002     r_dev = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a> / <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8b782c8f13b108f2adef97eb19abe576">dram_cell_I_on</a> + R_bl / 2;
<a name="l01003"></a>01003   }
<a name="l01004"></a>01004   <span class="keywordflow">else</span>
<a name="l01005"></a>01005   { <span class="comment">//SRAM</span>
<a name="l01006"></a>01006     V_b_pre = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.Vbitpre;
<a name="l01007"></a>01007     v_th_mem_cell = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vth;
<a name="l01008"></a>01008     V_wl = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l01009"></a>01009     R_cell_pull_down = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_nmos_w, NCH, 1, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l01010"></a>01010     R_cell_acc = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_a_w, NCH, 1, <span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l01011"></a>01011 
<a name="l01012"></a>01012     <span class="comment">//Leakage current of an SRAM cell</span>
<a name="l01013"></a>01013     <span class="keywordtype">double</span> Iport     = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_a_w, 0,  1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>,<span class="keyword">false</span>, <span class="keyword">true</span>);<span class="comment">//TODO: how much is the idle time? just by *2?</span>
<a name="l01014"></a>01014     <span class="keywordtype">double</span> Iport_erp = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_a_w, 0,  2, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>,<span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l01015"></a>01015     <span class="keywordtype">double</span> Icell     = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_nmos_w, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_pmos_w, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>,<span class="keyword">false</span>, <span class="keyword">true</span>)*2;<span class="comment">//two invs per cell</span>
<a name="l01016"></a>01016 
<a name="l01017"></a>01017     leak_power_cc_inverters_sram_cell         = Icell * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l01018"></a>01018     leak_power_acc_tr_RW_or_WR_port_sram_cell = Iport * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l01019"></a>01019     leak_power_RD_port_sram_cell              = Iport_erp * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l01020"></a>01020 
<a name="l01021"></a>01021 
<a name="l01022"></a>01022     <span class="comment">//in idle state, Ig_on only possibly exist in access transistors of read only ports</span>
<a name="l01023"></a>01023     <span class="keywordtype">double</span> Ig_port_erp   = <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_a_w, 0, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>,<span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l01024"></a>01024     <span class="keywordtype">double</span> Ig_cell   = <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_nmos_w, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#ab0bb513542880dd975e1650fa0b2ed79">sram</a>.cell_pmos_w, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>,<span class="keyword">false</span>, <span class="keyword">true</span>);
<a name="l01025"></a>01025 
<a name="l01026"></a>01026     gate_leak_power_cc_inverters_sram_cell = Ig_cell*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l01027"></a>01027     gate_leak_power_RD_port_sram_cell      = Ig_port_erp*<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd;
<a name="l01028"></a>01028   }
<a name="l01029"></a>01029 
<a name="l01030"></a>01030 
<a name="l01031"></a>01031   <span class="keywordtype">double</span> C_drain_bit_mux = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#af215dc210b41036c2d803baeff72adb6">w_nmos_b_mux</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> / (2 *(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>)), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01032"></a>01032   <span class="keywordtype">double</span> R_bit_mux = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#af215dc210b41036c2d803baeff72adb6">w_nmos_b_mux</a>, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01033"></a>01033   <span class="keywordtype">double</span> C_drain_sense_amp_iso = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aad61360b8b2c38d23db4730e1f75a936">w_iso</a>, PCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01034"></a>01034   <span class="keywordtype">double</span> R_sense_amp_iso = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aad61360b8b2c38d23db4730e1f75a936">w_iso</a>, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01035"></a>01035   <span class="keywordtype">double</span> C_sense_amp_latch = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a54075dc6e9d41b660ce0bc6d531f438e">w_sense_p</a> + <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a1f04868b7442b6f0f08b64f0d9a0efd6">w_sense_n</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01036"></a>01036     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a1f04868b7442b6f0f08b64f0d9a0efd6">w_sense_n</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01037"></a>01037     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a54075dc6e9d41b660ce0bc6d531f438e">w_sense_p</a>, PCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01038"></a>01038   <span class="keywordtype">double</span> C_drain_sense_amp_mux = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01039"></a>01039 
<a name="l01040"></a>01040   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)
<a name="l01041"></a>01041   {
<a name="l01042"></a>01042     <span class="keywordtype">double</span> fraction = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a> / ((<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a>/2) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9c845521d8c9aa398f17a7de1da8387a">dram_cell_C</a> /(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9c845521d8c9aa398f17a7de1da8387a">dram_cell_C</a> + C_bl));
<a name="l01043"></a>01043     tstep = 2.3 * fraction * r_dev *
<a name="l01044"></a>01044       (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9c845521d8c9aa398f17a7de1da8387a">dram_cell_C</a> * (C_bl + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux)) /
<a name="l01045"></a>01045       (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9c845521d8c9aa398f17a7de1da8387a">dram_cell_C</a> + (C_bl + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux));
<a name="l01046"></a>01046     <a class="code" href="classMat.html#a0182fa10a0659ffebdaab878ef01b2d0">delay_writeback</a> = tstep;
<a name="l01047"></a>01047     dynRdEnergy += (C_bl + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) *
<a name="l01048"></a>01048       (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a> / 2) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a> <span class="comment">/* subarray.num_cols * num_subarrays_per_mat*/</span>;
<a name="l01049"></a>01049     dynWriteEnergy += (C_bl + 2*C_drain_sense_amp_iso + C_sense_amp_latch) *
<a name="l01050"></a>01050       (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a> / 2) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a> <span class="comment">/* subarray.num_cols * num_subarrays_per_mat*/</span> * <a class="code" href="classMat.html#a59139c26c894cd5947261bf6ecb2cc37">num_act_mats_hor_dir</a>*100;
<a name="l01051"></a>01051     <a class="code" href="classMat.html#aa425b9ac897535441fbdd831076d876b">per_bitline_read_energy</a> = (C_bl + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) *
<a name="l01052"></a>01052       (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a> / 2) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a8a7cfbe19e8ae082617a853ca73feb14">dram_cell_Vdd</a>;
<a name="l01053"></a>01053   }
<a name="l01054"></a>01054   <span class="keywordflow">else</span>
<a name="l01055"></a>01055   {
<a name="l01056"></a>01056     <span class="keywordtype">double</span> tau;
<a name="l01057"></a>01057 
<a name="l01058"></a>01058     <span class="keywordflow">if</span> (<a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> &gt; 1)
<a name="l01059"></a>01059     {
<a name="l01060"></a>01060       tau = (R_cell_pull_down + R_cell_acc) *
<a name="l01061"></a>01061         (C_bl + 2*C_drain_bit_mux + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) +
<a name="l01062"></a>01062         R_bl * (C_bl/2 + 2*C_drain_bit_mux + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) +
<a name="l01063"></a>01063         R_bit_mux * (C_drain_bit_mux + 2*C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) +
<a name="l01064"></a>01064         R_sense_amp_iso * (C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux);
<a name="l01065"></a>01065       dynRdEnergy += (C_bl + 2 * C_drain_bit_mux) * 2 * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd <span class="comment">/*</span>
<a name="l01066"></a>01066 <span class="comment">        subarray.num_cols * num_subarrays_per_mat*/</span>;
<a name="l01067"></a>01067       dynRdEnergy += (2 * C_drain_sense_amp_iso + C_sense_amp_latch +  C_drain_sense_amp_mux) *
<a name="l01068"></a>01068         2 * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd * (1.0<span class="comment">/*subarray.num_cols * num_subarrays_per_mat*/</span> / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>);
<a name="l01069"></a>01069       dynWriteEnergy += ((1.0<span class="comment">/*subarray.num_cols *num_subarrays_per_mat*/</span> / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>) / deg_senseamp_muxing) *
<a name="l01070"></a>01070           <a class="code" href="classMat.html#a59139c26c894cd5947261bf6ecb2cc37">num_act_mats_hor_dir</a> * (C_bl + 2*C_drain_bit_mux) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd*2;
<a name="l01071"></a>01071       <span class="comment">//Write Ops are differential for SRAM</span>
<a name="l01072"></a>01072     }
<a name="l01073"></a>01073     <span class="keywordflow">else</span>
<a name="l01074"></a>01074     {
<a name="l01075"></a>01075       tau = (R_cell_pull_down + R_cell_acc) *
<a name="l01076"></a>01076         (C_bl + C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) + R_bl * C_bl / 2 +
<a name="l01077"></a>01077         R_sense_amp_iso * (C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux);
<a name="l01078"></a>01078       dynRdEnergy += (C_bl + 2 * C_drain_sense_amp_iso + C_sense_amp_latch + C_drain_sense_amp_mux) *
<a name="l01079"></a>01079         2 * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a> * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd <span class="comment">/* subarray.num_cols * num_subarrays_per_mat*/</span>;
<a name="l01080"></a>01080       dynWriteEnergy += (((1.0<span class="comment">/*subarray.num_cols * num_subarrays_per_mat*/</span> / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>) / deg_senseamp_muxing) *
<a name="l01081"></a>01081           <a class="code" href="classMat.html#a59139c26c894cd5947261bf6ecb2cc37">num_act_mats_hor_dir</a> * C_bl) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aa3555757f70760b9238624a248f06dc8">sram_cell</a>.Vdd*2;
<a name="l01082"></a>01082 
<a name="l01083"></a>01083     }
<a name="l01084"></a>01084     tstep = tau * log(V_b_pre / (V_b_pre - <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a>));
<a name="l01085"></a>01085     <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> =
<a name="l01086"></a>01086       leak_power_cc_inverters_sram_cell +
<a name="l01087"></a>01087       leak_power_acc_tr_RW_or_WR_port_sram_cell +
<a name="l01088"></a>01088       leak_power_acc_tr_RW_or_WR_port_sram_cell * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a> - 1) +
<a name="l01089"></a>01089       leak_power_RD_port_sram_cell * <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>;
<a name="l01090"></a>01090     <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = gate_leak_power_cc_inverters_sram_cell +
<a name="l01091"></a>01091       gate_leak_power_RD_port_sram_cell * <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>;
<a name="l01092"></a>01092 
<a name="l01093"></a>01093   }
<a name="l01094"></a>01094 
<a name="l01095"></a>01095 <span class="comment">//  cout&lt;&lt;&quot;leak_power_cc_inverters_sram_cell&quot;&lt;&lt;leak_power_cc_inverters_sram_cell&lt;&lt;endl;</span>
<a name="l01096"></a>01096 <span class="comment">//  cout&lt;&lt;&quot;leak_power_acc_tr_RW_or_WR_port_sram_cell&quot;&lt;&lt;leak_power_acc_tr_RW_or_WR_port_sram_cell&lt;&lt;endl;</span>
<a name="l01097"></a>01097 <span class="comment">//  cout&lt;&lt;&quot;leak_power_acc_tr_RW_or_WR_port_sram_cell&quot;&lt;&lt;leak_power_acc_tr_RW_or_WR_port_sram_cell&lt;&lt;endl;</span>
<a name="l01098"></a>01098 <span class="comment">//  cout&lt;&lt;&quot;leak_power_RD_port_sram_cell&quot;&lt;&lt;leak_power_RD_port_sram_cell&lt;&lt;endl;</span>
<a name="l01099"></a>01099 
<a name="l01100"></a>01100 
<a name="l01101"></a>01101   <span class="comment">/* take input rise time into account */</span>
<a name="l01102"></a>01102   <span class="keywordtype">double</span> m = V_wl / inrisetime;
<a name="l01103"></a>01103   <span class="keywordflow">if</span> (tstep &lt;= (0.5 * (V_wl - v_th_mem_cell) / m))
<a name="l01104"></a>01104   {
<a name="l01105"></a>01105     <a class="code" href="classMat.html#ae7972cfa462796f4d6fd8ff40e91c12a">delay_bitline</a> = sqrt(2 * tstep * (V_wl - v_th_mem_cell)/ m);
<a name="l01106"></a>01106   }
<a name="l01107"></a>01107   <span class="keywordflow">else</span>
<a name="l01108"></a>01108   {
<a name="l01109"></a>01109     <a class="code" href="classMat.html#ae7972cfa462796f4d6fd8ff40e91c12a">delay_bitline</a> = tstep + (V_wl - v_th_mem_cell) / (2 * m);
<a name="l01110"></a>01110   }
<a name="l01111"></a>01111 
<a name="l01112"></a>01112   <span class="keywordtype">bool</span> <a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> = (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#abb8c278c2b9427e543ce5052748feea8">fully_assoc</a>) ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l01113"></a>01113 
<a name="l01114"></a>01114   <span class="keywordflow">if</span> (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a1d8c96a7d76207c3d3c2c700dd61558e">is_tag</a> == <span class="keyword">false</span> || is_fa == <span class="keyword">false</span>)
<a name="l01115"></a>01115   {
<a name="l01116"></a>01116     <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>  = dynRdEnergy;
<a name="l01117"></a>01117     <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = dynWriteEnergy;
<a name="l01118"></a>01118   }
<a name="l01119"></a>01119 
<a name="l01120"></a>01120   <span class="keywordtype">double</span> outrisetime = 0;
<a name="l01121"></a>01121   <span class="keywordflow">return</span> outrisetime;
<a name="l01122"></a>01122 }
<a name="l01123"></a>01123 
<a name="l01124"></a>01124 
<a name="l01125"></a>01125 
<a name="l01126"></a><a class="code" href="classMat.html#a1cc917256a3094a8d02caa43b930d140">01126</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a1cc917256a3094a8d02caa43b930d140">Mat::compute_sa_delay</a>(<span class="keywordtype">double</span> inrisetime)
<a name="l01127"></a>01127 {
<a name="l01128"></a>01128   <span class="comment">//int num_sa_subarray = subarray.num_cols / deg_bl_muxing; //in a subarray</span>
<a name="l01129"></a>01129 
<a name="l01130"></a>01130   <span class="comment">//Bitline circuitry leakage.</span>
<a name="l01131"></a>01131   <span class="keywordtype">double</span> Iiso     = <a class="code" href="basic__circuit_8cc.html#aa764ac55f9d80a810db3dafddc77f39e">simplified_pmos_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aad61360b8b2c38d23db4730e1f75a936">w_iso</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01132"></a>01132   <span class="keywordtype">double</span> IsenseEn = <a class="code" href="basic__circuit_8cc.html#a8939d54e33309cded437258be84b7e0f">simplified_nmos_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aab0de6749aae2e3fedc80a0f99672b30">w_sense_en</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01133"></a>01133   <span class="keywordtype">double</span> IsenseN  = <a class="code" href="basic__circuit_8cc.html#a8939d54e33309cded437258be84b7e0f">simplified_nmos_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a1f04868b7442b6f0f08b64f0d9a0efd6">w_sense_n</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01134"></a>01134   <span class="keywordtype">double</span> IsenseP  = <a class="code" href="basic__circuit_8cc.html#aa764ac55f9d80a810db3dafddc77f39e">simplified_pmos_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a54075dc6e9d41b660ce0bc6d531f438e">w_sense_p</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01135"></a>01135 
<a name="l01136"></a>01136   <span class="keywordtype">double</span> lkgIdlePh  = IsenseEn;<span class="comment">//+ 2*IoBufP;</span>
<a name="l01137"></a>01137   <span class="comment">//double lkgWritePh = Iiso + IsenseEn;// + 2*IoBufP + 2*Ipch;</span>
<a name="l01138"></a>01138   <span class="keywordtype">double</span> lkgReadPh  = Iiso + IsenseN + IsenseP;<span class="comment">//+ IoBufN + IoBufP + 2*IsPch ;</span>
<a name="l01139"></a>01139   <span class="comment">//double lkgRead = lkgReadPh * num_sa_subarray * 4 * num_act_mats_hor_dir +</span>
<a name="l01140"></a>01140   <span class="comment">//    lkgIdlePh * num_sa_subarray * 4 * (num_mats - num_act_mats_hor_dir);</span>
<a name="l01141"></a>01141   <span class="keywordtype">double</span> lkgIdle = lkgIdlePh <span class="comment">/*num_sa_subarray * num_subarrays_per_mat*/</span>;
<a name="l01142"></a>01142   <a class="code" href="classMat.html#a3506c4406a0ea453afc394a3fc85e579">leak_power_sense_amps_closed_page_state</a> = lkgIdlePh * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd <span class="comment">/* num_sa_subarray * num_subarrays_per_mat*/</span>;
<a name="l01143"></a>01143   <a class="code" href="classMat.html#a912df55fd47dd5ffc570d34334edc502">leak_power_sense_amps_open_page_state</a>   = lkgReadPh * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd <span class="comment">/* num_sa_subarray * num_subarrays_per_mat*/</span>;
<a name="l01144"></a>01144 
<a name="l01145"></a>01145   <span class="comment">// sense amplifier has to drive logic in &quot;data out driver&quot; and sense precharge load.</span>
<a name="l01146"></a>01146   <span class="comment">// load seen by sense amp. New delay model for sense amp that is sensitive to both the output time</span>
<a name="l01147"></a>01147   <span class="comment">//constant as well as the magnitude of input differential voltage.</span>
<a name="l01148"></a>01148   <span class="keywordtype">double</span> C_ld = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a54075dc6e9d41b660ce0bc6d531f438e">w_sense_p</a> + <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a1f04868b7442b6f0f08b64f0d9a0efd6">w_sense_n</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01149"></a>01149     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a1f04868b7442b6f0f08b64f0d9a0efd6">w_sense_n</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01150"></a>01150     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a54075dc6e9d41b660ce0bc6d531f438e">w_sense_p</a>, PCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01151"></a>01151     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#aad61360b8b2c38d23db4730e1f75a936">w_iso</a>,PCH,1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01152"></a>01152     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01153"></a>01153   <span class="keywordtype">double</span> tau = C_ld / <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a059635b436595a1802a83944bbeeb69a">gm_sense_amp_latch</a>;
<a name="l01154"></a>01154   <a class="code" href="classMat.html#a85bfd5c98438e9ed28d81e053aee8ecd">delay_sa</a> = tau * log(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd / <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#ad2f0df263188a0e3d38dc75c3e0d5406">V_b_sense</a>);
<a name="l01155"></a>01155   <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = C_ld * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd <span class="comment">/* num_sa_subarray</span>
<a name="l01156"></a>01156 <span class="comment">                            num_subarrays_per_mat * num_act_mats_hor_dir*/</span>;
<a name="l01157"></a>01157   <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = lkgIdle * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01158"></a>01158 
<a name="l01159"></a>01159   <span class="keywordtype">double</span> outrisetime = 0;
<a name="l01160"></a>01160   <span class="keywordflow">return</span> outrisetime;
<a name="l01161"></a>01161 }
<a name="l01162"></a>01162 
<a name="l01163"></a>01163 
<a name="l01164"></a>01164 
<a name="l01165"></a><a class="code" href="classMat.html#a7e16ab183c7dd0d16b2af67a7c0d829c">01165</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a7e16ab183c7dd0d16b2af67a7c0d829c">Mat::compute_subarray_out_drv</a>(<span class="keywordtype">double</span> inrisetime)
<a name="l01166"></a>01166 {
<a name="l01167"></a>01167   <span class="keywordtype">double</span> C_ld, rd, tf, this_delay;
<a name="l01168"></a>01168   <span class="keywordtype">double</span> p_to_n_sz_r = <a class="code" href="basic__circuit_8cc.html#a01068a141f18712986d216f729f62f88">pmos_to_nmos_sz_ratio</a>(<a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01169"></a>01169 
<a name="l01170"></a>01170   <span class="comment">// delay of signal through pass-transistor of first level of sense-amp mux to input of inverter-buffer.</span>
<a name="l01171"></a>01171   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01172"></a>01172   C_ld = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> * <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01173"></a>01173     <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a> + p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, 0.0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01174"></a>01174   tf = rd * C_ld;
<a name="l01175"></a>01175   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(inrisetime, tf, 0.5, 0.5, RISE);
<a name="l01176"></a>01176   <a class="code" href="classMat.html#a99dd964a59923ed15a78731d3409f009">delay_subarray_out_drv</a> += this_delay;
<a name="l01177"></a>01177   inrisetime = this_delay/(1.0 - 0.5);
<a name="l01178"></a>01178   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += C_ld * 0.5 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01179"></a>01179   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += 0;  <span class="comment">// for now, let leakage of the pass transistor be 0</span>
<a name="l01180"></a>01180   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, 0, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>)* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01181"></a>01181   <span class="comment">// delay of signal through inverter-buffer to second level of sense-amp mux.</span>
<a name="l01182"></a>01182   <span class="comment">// internal delay of buffer</span>
<a name="l01183"></a>01183   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01184"></a>01184   C_ld = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01185"></a>01185     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01186"></a>01186     <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a> + p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, 0.0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01187"></a>01187   tf = rd * C_ld;
<a name="l01188"></a>01188   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(inrisetime, tf, 0.5, 0.5, RISE);
<a name="l01189"></a>01189   <a class="code" href="classMat.html#a99dd964a59923ed15a78731d3409f009">delay_subarray_out_drv</a> += this_delay;
<a name="l01190"></a>01190   inrisetime = this_delay/(1.0 - 0.5);
<a name="l01191"></a>01191   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>      += C_ld * 0.5 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01192"></a>01192   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>      += <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01193"></a>01193   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>)* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01194"></a>01194 
<a name="l01195"></a>01195   <span class="comment">// inverter driving drain of pass transistor of second level of sense-amp mux.</span>
<a name="l01196"></a>01196   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01197"></a>01197   C_ld = <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01198"></a>01198     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01199"></a>01199     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01200"></a>01200   tf = rd * C_ld;
<a name="l01201"></a>01201   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(inrisetime, tf, 0.5, 0.5, RISE);
<a name="l01202"></a>01202   <a class="code" href="classMat.html#a99dd964a59923ed15a78731d3409f009">delay_subarray_out_drv</a> += this_delay;
<a name="l01203"></a>01203   inrisetime = this_delay/(1.0 - 0.5);
<a name="l01204"></a>01204   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>      += C_ld * 0.5 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01205"></a>01205   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>      += <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>)* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01206"></a>01206   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, p_to_n_sz_r * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>)* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01207"></a>01207 
<a name="l01208"></a>01208 
<a name="l01209"></a>01209   <span class="comment">// delay of signal through pass-transistor to input of subarray output driver.</span>
<a name="l01210"></a>01210   rd = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01211"></a>01211   C_ld = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a> * <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, NCH, 1, 0, <a class="code" href="classMat.html#aee3801982a878cb1a1f6250ce3338a65">camFlag</a>? <a class="code" href="classMat.html#a849ec569487d1e4ff00c6cead030f59a">cam_cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a>:<a class="code" href="classMat.html#aeac9cc492e356b88a799ec4caec368d3">cell</a>.<a class="code" href="classArea.html#a924ebcc555467c49cb26b546e9dea27b">w</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> / (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>), <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01212"></a>01212     <span class="comment">//gate_C(subarray_out_wire-&gt;repeater_size * g_tp.min_w_nmos_ * (1 + p_to_n_sz_r), 0.0, is_dram);</span>
<a name="l01213"></a>01213     <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a025aab5bb47d44eec48b54aa1a95ebe7">repeater_size</a> *(<a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a11a48f2a350fd79cb04ce1bca205ca18">wire_length</a>/<a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classWire.html#a433b6fe9e54b7db78452ddb0b7abdeaa">repeater_spacing</a>) * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a42d457082a8ba810ad02a7bb310a50af">min_w_nmos_</a> * (1 + p_to_n_sz_r), 0.0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01214"></a>01214   tf = rd * C_ld;
<a name="l01215"></a>01215   this_delay = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(inrisetime, tf, 0.5, 0.5, RISE);
<a name="l01216"></a>01216   <a class="code" href="classMat.html#a99dd964a59923ed15a78731d3409f009">delay_subarray_out_drv</a> += this_delay;
<a name="l01217"></a>01217   inrisetime = this_delay/(1.0 - 0.5);
<a name="l01218"></a>01218   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += C_ld * 0.5 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01219"></a>01219   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += 0;  <span class="comment">// for now, let leakage of the pass transistor be 0</span>
<a name="l01220"></a>01220   <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a9fe5267169993f3aef1f3808657b24eb">w_nmos_sa_mux</a>, 0, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a14bc4a471b6166afa4e16857d9f67f0a">nmos</a>)* <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01221"></a>01221 
<a name="l01222"></a>01222 
<a name="l01223"></a>01223   <span class="keywordflow">return</span> inrisetime;
<a name="l01224"></a>01224 }
<a name="l01225"></a>01225 
<a name="l01226"></a>01226 
<a name="l01227"></a>01227 
<a name="l01228"></a><a class="code" href="classMat.html#a37f33f866647d6132be57e4bc5d7454c">01228</a> <span class="keywordtype">double</span> <a class="code" href="classMat.html#a37f33f866647d6132be57e4bc5d7454c">Mat::compute_comparator_delay</a>(<span class="keywordtype">double</span> inrisetime)
<a name="l01229"></a>01229 {
<a name="l01230"></a>01230   <span class="keywordtype">int</span> A = <a class="code" href="parameter_8cc.html#a38c4d3d6fc09617ac7e49c136406a7a6">g_ip</a>-&gt;<a class="code" href="classInputParameter.html#af3954882426a268372990208fa4746d8">tag_assoc</a>;
<a name="l01231"></a>01231 
<a name="l01232"></a>01232   <span class="keywordtype">int</span> tagbits_ = <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#abe569faeaa26cd93808cf15ace27e3a0">tagbits</a> / 4; <span class="comment">// Assuming there are 4 quarter comparators. input tagbits is already</span>
<a name="l01233"></a>01233   <span class="comment">// a multiple of 4.</span>
<a name="l01234"></a>01234 
<a name="l01235"></a>01235   <span class="comment">/* First Inverter */</span>
<a name="l01236"></a>01236   <span class="keywordtype">double</span> Ceq = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a57129fcd00de12d86436e7d28b56fa0e">w_comp_inv_n2</a>+<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a6a54420a52a6c087384697b82df923d8">w_comp_inv_p2</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01237"></a>01237                <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a234be3152f4415891ad34be4b0887886">w_comp_inv_p1</a>, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01238"></a>01238                <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#afaa0b9c6d892c41da2513794969e9ee8">w_comp_inv_n1</a>, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01239"></a>01239   <span class="keywordtype">double</span> Req = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a234be3152f4415891ad34be4b0887886">w_comp_inv_p1</a>, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01240"></a>01240   <span class="keywordtype">double</span> tf  = Req*Ceq;
<a name="l01241"></a>01241   <span class="keywordtype">double</span> st1del = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(inrisetime,tf,VTHCOMPINV,VTHCOMPINV,FALL);
<a name="l01242"></a>01242   <span class="keywordtype">double</span> nextinputtime = st1del/VTHCOMPINV;
<a name="l01243"></a>01243   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += 0.5 * Ceq * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * 4 * A;
<a name="l01244"></a>01244 
<a name="l01245"></a>01245   <span class="comment">//For each degree of associativity</span>
<a name="l01246"></a>01246   <span class="comment">//there are 4 such quarter comparators</span>
<a name="l01247"></a>01247   <span class="keywordtype">double</span> lkgCurrent   = <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#afaa0b9c6d892c41da2513794969e9ee8">w_comp_inv_n1</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a234be3152f4415891ad34be4b0887886">w_comp_inv_p1</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01248"></a>01248   <span class="keywordtype">double</span> gatelkgCurrent = <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#afaa0b9c6d892c41da2513794969e9ee8">w_comp_inv_n1</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a234be3152f4415891ad34be4b0887886">w_comp_inv_p1</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01249"></a>01249   <span class="comment">/* Second Inverter */</span>
<a name="l01250"></a>01250   Ceq = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a7b9460f4902c2fa6dd6da516a3f3d812">w_comp_inv_n3</a>+<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0c355778e2dd9cf7540fde567b6952da">w_comp_inv_p3</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01251"></a>01251     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a6a54420a52a6c087384697b82df923d8">w_comp_inv_p2</a>, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01252"></a>01252     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a57129fcd00de12d86436e7d28b56fa0e">w_comp_inv_n2</a>, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01253"></a>01253   Req = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a57129fcd00de12d86436e7d28b56fa0e">w_comp_inv_n2</a>, NCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01254"></a>01254   tf = Req*Ceq;
<a name="l01255"></a>01255   <span class="keywordtype">double</span> st2del = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(nextinputtime,tf,VTHCOMPINV,VTHCOMPINV,RISE);
<a name="l01256"></a>01256   nextinputtime = st2del/(1.0-VTHCOMPINV);
<a name="l01257"></a>01257   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += 0.5 * Ceq * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * 4 * A;
<a name="l01258"></a>01258   lkgCurrent += <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a57129fcd00de12d86436e7d28b56fa0e">w_comp_inv_n2</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a6a54420a52a6c087384697b82df923d8">w_comp_inv_p2</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01259"></a>01259   gatelkgCurrent += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a57129fcd00de12d86436e7d28b56fa0e">w_comp_inv_n2</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a6a54420a52a6c087384697b82df923d8">w_comp_inv_p2</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01260"></a>01260 
<a name="l01261"></a>01261   <span class="comment">/* Third Inverter */</span>
<a name="l01262"></a>01262   Ceq = <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#adc1d195efe7be617aea5ab0ebc91f542">w_eval_inv_n</a>+<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a66a99b08864d60deac600f7e7394a6a1">w_eval_inv_p</a>, 0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01263"></a>01263     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0c355778e2dd9cf7540fde567b6952da">w_comp_inv_p3</a>, PCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01264"></a>01264     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a7b9460f4902c2fa6dd6da516a3f3d812">w_comp_inv_n3</a>, NCH, 1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01265"></a>01265   Req = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0c355778e2dd9cf7540fde567b6952da">w_comp_inv_p3</a>, PCH, 1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01266"></a>01266   tf = Req*Ceq;
<a name="l01267"></a>01267   <span class="keywordtype">double</span> st3del = <a class="code" href="basic__circuit_8cc.html#ab80cc6a2dad719bb3926cf8a562ca747">horowitz</a>(nextinputtime,tf,VTHCOMPINV,VTHEVALINV,FALL);
<a name="l01268"></a>01268   nextinputtime = st3del/(VTHEVALINV);
<a name="l01269"></a>01269   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += 0.5 * Ceq * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * 4 * A;
<a name="l01270"></a>01270   lkgCurrent += <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a7b9460f4902c2fa6dd6da516a3f3d812">w_comp_inv_n3</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0c355778e2dd9cf7540fde567b6952da">w_comp_inv_p3</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01271"></a>01271   gatelkgCurrent += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a7b9460f4902c2fa6dd6da516a3f3d812">w_comp_inv_n3</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0c355778e2dd9cf7540fde567b6952da">w_comp_inv_p3</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01272"></a>01272 
<a name="l01273"></a>01273   <span class="comment">/* Final Inverter (virtual ground driver) discharging compare part */</span>
<a name="l01274"></a>01274   <span class="keywordtype">double</span> r1 = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>,NCH,2, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01275"></a>01275   <span class="keywordtype">double</span> r2 = <a class="code" href="basic__circuit_8cc.html#abb76177a50f13633ac95be9d451369d7">tr_R_on</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#adc1d195efe7be617aea5ab0ebc91f542">w_eval_inv_n</a>,NCH,1, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>); <span class="comment">/* was switch */</span>
<a name="l01276"></a>01276   <span class="keywordtype">double</span> c2 = (tagbits_)*(<a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>,NCH,1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01277"></a>01277                    <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>,NCH,2, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)) +
<a name="l01278"></a>01278        <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a66a99b08864d60deac600f7e7394a6a1">w_eval_inv_p</a>,PCH,1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01279"></a>01279        <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#adc1d195efe7be617aea5ab0ebc91f542">w_eval_inv_n</a>,NCH,1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01280"></a>01280   <span class="keywordtype">double</span> c1 = (tagbits_)*(<a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>,NCH,1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01281"></a>01281                           <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>,NCH,2, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)) +
<a name="l01282"></a>01282     <a class="code" href="basic__circuit_8cc.html#ab621f3140919a99e539f1ce684ddeb6b">drain_C_</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a3bfd585d241cad2e3c7a29f745d1bf38">w_comp_p</a>,PCH,1, 1, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a037b35ba8545df452f1a4120cddb0fbf">cell_h_def</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>) +
<a name="l01283"></a>01283     <a class="code" href="basic__circuit_8cc.html#a97cac6926a676557b361e9dbd63c369f">gate_C</a>(<a class="code" href="const_8h.html#a878cf234d390712405bf5ad9a6a0c128">WmuxdrvNANDn</a>+<a class="code" href="const_8h.html#ab7cd663924d20aa467c48b5e882f542e">WmuxdrvNANDp</a>,0, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>);
<a name="l01284"></a>01284   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += 0.5 * c2 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * 4 * A;
<a name="l01285"></a>01285   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += c1 * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd *  (A - 1);
<a name="l01286"></a>01286   lkgCurrent += <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#adc1d195efe7be617aea5ab0ebc91f542">w_eval_inv_n</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a66a99b08864d60deac600f7e7394a6a1">w_eval_inv_p</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01287"></a>01287   lkgCurrent += <a class="code" href="basic__circuit_8cc.html#ae801949bb86984ef089bf125db20e79a">cmos_Isub_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;  <span class="comment">// stack factor of 0.2</span>
<a name="l01288"></a>01288 
<a name="l01289"></a>01289   gatelkgCurrent += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#adc1d195efe7be617aea5ab0ebc91f542">w_eval_inv_n</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a66a99b08864d60deac600f7e7394a6a1">w_eval_inv_p</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;
<a name="l01290"></a>01290   gatelkgCurrent += <a class="code" href="basic__circuit_8cc.html#a0a42c8024ca434a261220bd173d2ff30">cmos_Ig_leakage</a>(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>, <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a0b4f40669adf326176309fd7701dc0b4">w_comp_n</a>, 1, <a class="code" href="basic__circuit_8h.html#ac6fe996f112e586445d9f850232a4b19a9e702cb6541439937d818b5a79d5a118">inv</a>, <a class="code" href="classMat.html#aeb32010c84a5335e9788e1c6acefaf58">is_dram</a>)* 4 * A;<span class="comment">//for gate leakage this equals to a inverter</span>
<a name="l01291"></a>01291 
<a name="l01292"></a>01292   <span class="comment">/* time to go to threshold of mux driver */</span>
<a name="l01293"></a>01293   <span class="keywordtype">double</span> tstep = (r2*c2+(r1+r2)*c1)*log(1.0/VTHMUXNAND);
<a name="l01294"></a>01294   <span class="comment">/* take into account non-zero input rise time */</span>
<a name="l01295"></a>01295   <span class="keywordtype">double</span> m = <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd/nextinputtime;
<a name="l01296"></a>01296   <span class="keywordtype">double</span> Tcomparatorni;
<a name="l01297"></a>01297 
<a name="l01298"></a>01298   <span class="keywordflow">if</span>((tstep) &lt;= (0.5*(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd-<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vth)/m))
<a name="l01299"></a>01299   {
<a name="l01300"></a>01300     <span class="keywordtype">double</span> a = m;
<a name="l01301"></a>01301     <span class="keywordtype">double</span> b = 2*((<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd*VTHEVALINV)-<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vth);
<a name="l01302"></a>01302     <span class="keywordtype">double</span> c = -2*(tstep)*(<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd-<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vth)+1/m*((<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd*VTHEVALINV)-<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vth)*((<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd*VTHEVALINV)-<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vth);
<a name="l01303"></a>01303     Tcomparatorni = (-b+sqrt(b*b-4*a*c))/(2*a);
<a name="l01304"></a>01304   }
<a name="l01305"></a>01305   <span class="keywordflow">else</span>
<a name="l01306"></a>01306   {
<a name="l01307"></a>01307     Tcomparatorni = (tstep) + (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd+<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vth)/(2*m) - (<a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd*VTHEVALINV)/m;
<a name="l01308"></a>01308   }
<a name="l01309"></a>01309   <a class="code" href="classMat.html#a4491b5939453b10425d78c46675017c7">delay_comparator</a> = Tcomparatorni+st1del+st2del+st3del;
<a name="l01310"></a>01310   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = lkgCurrent * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01311"></a>01311   <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = gatelkgCurrent * <a class="code" href="parameter_8cc.html#a68cc17910d7f6b81503127badecd0133">g_tp</a>.<a class="code" href="classTechnologyParameter.html#a806839383c23ee93df12e0cbf1b77a02">peri_global</a>.Vdd;
<a name="l01312"></a>01312 
<a name="l01313"></a>01313   <span class="keywordflow">return</span> Tcomparatorni / (1.0 - VTHMUXNAND);;
<a name="l01314"></a>01314 }
<a name="l01315"></a>01315 
<a name="l01316"></a>01316 
<a name="l01317"></a>01317 
<a name="l01318"></a><a class="code" href="classMat.html#ab7976e2598d0fda67b4d5987ced3574e">01318</a> <span class="keywordtype">void</span> <a class="code" href="classMat.html#ab7976e2598d0fda67b4d5987ced3574e">Mat::compute_power_energy</a>()
<a name="l01319"></a>01319 {
<a name="l01320"></a>01320     <span class="comment">//for cam and FA, power.readOp is the plain read power, power.searchOp is the associative search related power</span>
<a name="l01321"></a>01321     <span class="comment">//when search all subarrays and all mats are fully active</span>
<a name="l01322"></a>01322     <span class="comment">//when plain read/write only one subarray in a single mat is active.</span>
<a name="l01323"></a>01323 
<a name="l01324"></a>01324     <span class="comment">// add energy consumed in predecoder drivers. This unit is shared by all subarrays in a mat.</span>
<a name="l01325"></a>01325   <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01326"></a>01326                           <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01327"></a>01327                           <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01328"></a>01328                           <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01329"></a>01329 
<a name="l01330"></a>01330   <span class="comment">// add energy consumed in decoders</span>
<a name="l01331"></a>01331   <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>        = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01332"></a>01332   <span class="keywordflow">if</span> (!(<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>||<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>))
<a name="l01333"></a>01333     <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>        *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01334"></a>01334 
<a name="l01335"></a>01335   <span class="comment">// add energy consumed in bitline prechagers, SAs, and bitlines</span>
<a name="l01336"></a>01336   <span class="keywordflow">if</span> (!(<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>||<a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>))
<a name="l01337"></a>01337   {
<a name="l01338"></a>01338       <span class="comment">// add energy consumed in bitline prechagers</span>
<a name="l01339"></a>01339       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01340"></a>01340       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01341"></a>01341 
<a name="l01342"></a>01342       <span class="comment">//Add sense amps energy</span>
<a name="l01343"></a>01343       <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a> = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> / <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l01344"></a>01344       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> ;
<a name="l01345"></a>01345 
<a name="l01346"></a>01346       <span class="comment">// add energy consumed in bitlines</span>
<a name="l01347"></a>01347       <span class="comment">//cout&lt;&lt;&quot;bitline power&quot;&lt;&lt;power_bitline.readOp.dynamic&lt;&lt;endl;</span>
<a name="l01348"></a>01348       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_subarrays_per_mat*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a>;
<a name="l01349"></a>01349       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= num_subarrays_per_mat*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a>;
<a name="l01350"></a>01350       <span class="comment">//cout&lt;&lt;&quot;bitline power&quot;&lt;&lt;power_bitline.readOp.dynamic&lt;&lt;&quot;subarray&quot;&lt;&lt;num_subarrays_per_mat&lt;&lt;&quot;cols&quot;&lt;&lt;subarray.num_cols&lt;&lt;endl;</span>
<a name="l01351"></a>01351       <span class="comment">//Add subarray output energy</span>
<a name="l01352"></a>01352       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> =
<a name="l01353"></a>01353           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) * <a class="code" href="classMat.html#afd2feaa635d4fe5ede0bc6ef7a4caf55">num_do_b_mat</a>;
<a name="l01354"></a>01354 
<a name="l01355"></a>01355       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01356"></a>01356                               <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01357"></a>01357                               <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01358"></a>01358                               <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01359"></a>01359 
<a name="l01360"></a>01360       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01361"></a>01361                               <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01362"></a>01362                               <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01363"></a>01363                               <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01364"></a>01364                               <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01365"></a>01365   }
<a name="l01366"></a>01366 
<a name="l01367"></a>01367   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>)
<a name="l01368"></a>01368   {
<a name="l01369"></a>01369       <span class="comment">//for plain read/write only one subarray in a mat is active</span>
<a name="l01370"></a>01370       <span class="comment">// add energy consumed in bitline prechagers</span>
<a name="l01371"></a>01371       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>
<a name="l01372"></a>01372                + <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01373"></a>01373       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01374"></a>01374 
<a name="l01375"></a>01375       <span class="comment">//Add sense amps energy</span>
<a name="l01376"></a>01376       <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a> = (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a> + <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a>)/ <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l01377"></a>01377       <a class="code" href="classMat.html#aa8dbfb334ffcffc611d0230c3961e973">num_sa_subarray_search</a> = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a>/ <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l01378"></a>01378       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>*<a class="code" href="classMat.html#aa8dbfb334ffcffc611d0230c3961e973">num_sa_subarray_search</a>;
<a name="l01379"></a>01379       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>;
<a name="l01380"></a>01380 
<a name="l01381"></a>01381 
<a name="l01382"></a>01382       <span class="comment">// add energy consumed in bitlines</span>
<a name="l01383"></a>01383       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01384"></a>01384       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>+<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a>);
<a name="l01385"></a>01385       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= (<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>+<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a>);
<a name="l01386"></a>01386       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af125d9e87d2c255dc8ebcf6eddd81275">num_cols_fa_ram</a>;
<a name="l01387"></a>01387 
<a name="l01388"></a>01388       <span class="comment">//Add subarray output energy</span>
<a name="l01389"></a>01389       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> =
<a name="l01390"></a>01390           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) * <a class="code" href="classMat.html#aa6b0695da729f90322f56b93a336e185">num_so_b_mat</a>;
<a name="l01391"></a>01391       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> =
<a name="l01392"></a>01392           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) * <a class="code" href="classMat.html#afd2feaa635d4fe5ede0bc6ef7a4caf55">num_do_b_mat</a>;
<a name="l01393"></a>01393 
<a name="l01394"></a>01394 
<a name="l01395"></a>01395       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01396"></a>01396                               <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01397"></a>01397                               <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01398"></a>01398                               <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01399"></a>01399 
<a name="l01400"></a>01400       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01401"></a>01401                               <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01402"></a>01402                               <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01403"></a>01403                               <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01404"></a>01404                               <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01405"></a>01405 
<a name="l01406"></a>01406       <span class="comment">//add energy consumed inside cam</span>
<a name="l01407"></a>01407       <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01408"></a>01408       <a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a> = <a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01409"></a>01409       <a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01410"></a>01410       <a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a> = <a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01411"></a>01411       <a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>* <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;;
<a name="l01412"></a>01412       <a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>  = <a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01413"></a>01413       <a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>* <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01414"></a>01414       <a class="code" href="classMat.html#a2c5c36228c9f2274f85e15e112e78177">power_ml_to_ram_wl_drv</a>= <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01415"></a>01415       <a class="code" href="classMat.html#a2c5c36228c9f2274f85e15e112e78177">power_ml_to_ram_wl_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>= <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01416"></a>01416 
<a name="l01417"></a>01417       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01418"></a>01418       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +=<a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01419"></a>01419       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +=<a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01420"></a>01420       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +=<a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01421"></a>01421 
<a name="l01422"></a>01422       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01423"></a>01423       <span class="comment">//power.searchOp.dynamic += ml_to_ram_wl_drv-&gt;power.readOp.dynamic;</span>
<a name="l01424"></a>01424 
<a name="l01425"></a>01425   }
<a name="l01426"></a>01426   <span class="keywordflow">else</span>
<a name="l01427"></a>01427   {
<a name="l01428"></a>01428       <span class="comment">// add energy consumed in bitline prechagers</span>
<a name="l01429"></a>01429       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01430"></a>01430       <span class="comment">//power_bl_precharge_eq_drv.readOp.dynamic *= num_subarrays_per_mat;</span>
<a name="l01431"></a>01431       <span class="comment">//power_bl_precharge_eq_drv.searchOp.dynamic = cam_bl_precharge_eq_drv-&gt;power.readOp.dynamic;</span>
<a name="l01432"></a>01432       <span class="comment">//power_bl_precharge_eq_drv.searchOp.dynamic *= num_subarrays_per_mat;</span>
<a name="l01433"></a>01433 
<a name="l01434"></a>01434       <span class="comment">//Add sense amps energy</span>
<a name="l01435"></a>01435       <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a> = <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>/ <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l01436"></a>01436       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>;<span class="comment">//*num_subarrays_per_mat;</span>
<a name="l01437"></a>01437       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = 0;
<a name="l01438"></a>01438 
<a name="l01439"></a>01439       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;
<a name="l01440"></a>01440       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = 0;
<a name="l01441"></a>01441       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#a7960ffc3275ccb3dc97b37d696f025b3">writeOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;
<a name="l01442"></a>01442 
<a name="l01443"></a>01443       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> =
<a name="l01444"></a>01444           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) * <a class="code" href="classMat.html#aa6b0695da729f90322f56b93a336e185">num_so_b_mat</a>;
<a name="l01445"></a>01445       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> =
<a name="l01446"></a>01446               (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>) * <a class="code" href="classMat.html#afd2feaa635d4fe5ede0bc6ef7a4caf55">num_do_b_mat</a>;
<a name="l01447"></a>01447 
<a name="l01448"></a>01448       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01449"></a>01449                               <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01450"></a>01450                               <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01451"></a>01451                               <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01452"></a>01452 
<a name="l01453"></a>01453       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01454"></a>01454                               <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01455"></a>01455                               <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01456"></a>01456                               <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +
<a name="l01457"></a>01457                               <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01458"></a>01458 
<a name="l01459"></a>01459 
<a name="l01461"></a>01461       <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01462"></a>01462       <a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a> = <a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01463"></a>01463       <a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01464"></a>01464       <a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a> = <a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01465"></a>01465       <a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>* <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;;
<a name="l01466"></a>01466       <a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>  = <a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01467"></a>01467       <a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>* <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01468"></a>01468       <a class="code" href="classMat.html#a2c5c36228c9f2274f85e15e112e78177">power_ml_to_ram_wl_drv</a>= <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>;
<a name="l01469"></a>01469       <a class="code" href="classMat.html#a2c5c36228c9f2274f85e15e112e78177">power_ml_to_ram_wl_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>= <a class="code" href="classMat.html#a8186d2ac68ff30c0e592858a0179dcd3">ml_to_ram_wl_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01470"></a>01470 
<a name="l01471"></a>01471       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> = <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01472"></a>01472       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +=<a class="code" href="classMat.html#a927a7bbe29b77ebd94180998d9b85e92">power_searchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01473"></a>01473       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +=<a class="code" href="classMat.html#a07ee0b78a91846a84c712cedaa6cc622">power_searchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01474"></a>01474       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> +=<a class="code" href="classMat.html#a8675e2f3819aca783713fc4f9d809b0a">power_matchline_precharge</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01475"></a>01475 
<a name="l01476"></a>01476       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a> += <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01477"></a>01477       <span class="comment">//power.searchOp.dynamic += ml_to_ram_wl_drv-&gt;power.readOp.dynamic;</span>
<a name="l01478"></a>01478 
<a name="l01479"></a>01479   }
<a name="l01480"></a>01480 
<a name="l01481"></a>01481 
<a name="l01482"></a>01482 
<a name="l01483"></a>01483   <span class="comment">// calculate leakage power</span>
<a name="l01484"></a>01484   <span class="keywordflow">if</span> (!(<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a> || <a class="code" href="classMat.html#a4a105d025b52bedb880fa0bbb1de9b99">pure_cam</a>))
<a name="l01485"></a>01485   {
<a name="l01486"></a>01486     <span class="keywordtype">int</span> number_output_drivers_subarray = <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a> / (<a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>);
<a name="l01487"></a>01487 
<a name="l01488"></a>01488     <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>            *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01489"></a>01489     <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01490"></a>01490     <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>                 *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l01491"></a>01491 
<a name="l01492"></a>01492     <span class="comment">//num_sa_subarray             = subarray.num_cols / deg_bl_muxing;</span>
<a name="l01493"></a>01493     <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> =
<a name="l01494"></a>01494       (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>) *
<a name="l01495"></a>01495       number_output_drivers_subarray * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l01496"></a>01496 
<a name="l01497"></a>01497     <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01498"></a>01498                             <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01499"></a>01499                             <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01500"></a>01500                             <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01501"></a>01501     <span class="comment">//cout&lt;&lt;&quot;leakage&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01502"></a>01502 
<a name="l01503"></a>01503     <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> *= <a class="code" href="classMat.html#afd2feaa635d4fe5ede0bc6ef7a4caf55">num_do_b_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l01504"></a>01504     <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01505"></a>01505 
<a name="l01506"></a>01506     <span class="comment">//cout&lt;&lt;&quot;leakage1&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01507"></a>01507 
<a name="l01508"></a>01508     <span class="comment">// leakage power</span>
<a name="l01509"></a>01509     <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01510"></a>01510     <a class="code" href="classMat.html#a3aaf0f48be663bce6ac2f8a828560441">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>      = <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l01511"></a>01511     <a class="code" href="classMat.html#a157f675feed50ea559d1346e065321fb">power_sa_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a>;
<a name="l01512"></a>01512     <a class="code" href="classMat.html#a85e75f38cdb6b2f03c8e704f3c23f395">power_sa_mux_lev_2_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>;
<a name="l01513"></a>01513 
<a name="l01514"></a>01514     <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01515"></a>01515                           <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01516"></a>01516                           <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01517"></a>01517                           <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01518"></a>01518                           <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01519"></a>01519                           <a class="code" href="classMat.html#a3aaf0f48be663bce6ac2f8a828560441">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01520"></a>01520                           <a class="code" href="classMat.html#a157f675feed50ea559d1346e065321fb">power_sa_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01521"></a>01521                           <a class="code" href="classMat.html#a85e75f38cdb6b2f03c8e704f3c23f395">power_sa_mux_lev_2_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01522"></a>01522     <span class="comment">//cout&lt;&lt;&quot;leakage2&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01523"></a>01523 
<a name="l01524"></a>01524     <span class="comment">//++++Below is gate leakage</span>
<a name="l01525"></a>01525     <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>            *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01526"></a>01526     <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01527"></a>01527     <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>                 *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l01528"></a>01528 
<a name="l01529"></a>01529     <span class="comment">//num_sa_subarray             = subarray.num_cols / deg_bl_muxing;</span>
<a name="l01530"></a>01530     <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> =
<a name="l01531"></a>01531       (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>) *
<a name="l01532"></a>01532       number_output_drivers_subarray * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l01533"></a>01533 
<a name="l01534"></a>01534     <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01535"></a>01535                             <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01536"></a>01536                             <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01537"></a>01537                             <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01538"></a>01538     <span class="comment">//cout&lt;&lt;&quot;leakage&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01539"></a>01539 
<a name="l01540"></a>01540     <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> *= <a class="code" href="classMat.html#afd2feaa635d4fe5ede0bc6ef7a4caf55">num_do_b_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a>);
<a name="l01541"></a>01541     <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#aaaeb4cc72b465d899aafc7c3d965d9c8">power_comparator</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01542"></a>01542 
<a name="l01543"></a>01543     <span class="comment">//cout&lt;&lt;&quot;leakage1&quot;&lt;&lt;power.readOp.gate_leakage&lt;&lt;endl;</span>
<a name="l01544"></a>01544 
<a name="l01545"></a>01545     <span class="comment">// gate_leakage power</span>
<a name="l01546"></a>01546     <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01547"></a>01547     <a class="code" href="classMat.html#a3aaf0f48be663bce6ac2f8a828560441">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>      = <a class="code" href="classMat.html#afc8c6a9e68970b44cd49011ca8e5ee1b">bit_mux_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#ad209faafd6538f21be11383c98d5916a">deg_bl_muxing</a>;
<a name="l01548"></a>01548     <a class="code" href="classMat.html#a157f675feed50ea559d1346e065321fb">power_sa_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#afa34ddc60c322083a296a01ae01c6c48">sa_mux_lev_1_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a4df8dfe49eb8af09b314b933cb43a305">Ndsam_lev_1</a>;
<a name="l01549"></a>01549     <a class="code" href="classMat.html#a85e75f38cdb6b2f03c8e704f3c23f395">power_sa_mux_lev_2_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a2c9245f573f82c5c824b7a8ed377f430">sa_mux_lev_2_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#a5291b50bc49748be1e518dfa6aa60ff7">dp</a>.<a class="code" href="classDynamicParameter.html#a009a0a87bfd81d060521c3d48fee79de">Ndsam_lev_2</a>;
<a name="l01550"></a>01550 
<a name="l01551"></a>01551     <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01552"></a>01552                           <a class="code" href="classMat.html#a3cf7922089249419d46d4aa5ab7c4e8d">b_mux_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01553"></a>01553                           <a class="code" href="classMat.html#a4ed038218f685a110646d3d82a53c687">sa_mux_lev_1_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01554"></a>01554                           <a class="code" href="classMat.html#ae763f9b67fe7da60e8f46341e51ef751">sa_mux_lev_2_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01555"></a>01555                           <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01556"></a>01556                           <a class="code" href="classMat.html#a3aaf0f48be663bce6ac2f8a828560441">power_bit_mux_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01557"></a>01557                           <a class="code" href="classMat.html#a157f675feed50ea559d1346e065321fb">power_sa_mux_lev_1_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01558"></a>01558                           <a class="code" href="classMat.html#a85e75f38cdb6b2f03c8e704f3c23f395">power_sa_mux_lev_2_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01559"></a>01559   }
<a name="l01560"></a>01560   <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classMat.html#aa81f1f479ae99b1bd2e17d26caf8c60c">is_fa</a>)
<a name="l01561"></a>01561   {
<a name="l01562"></a>01562       <span class="keywordtype">int</span> number_output_drivers_subarray = <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>;<span class="comment">// / (dp.Ndsam_lev_1 * dp.Ndsam_lev_2);</span>
<a name="l01563"></a>01563 
<a name="l01564"></a>01564       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>            *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01565"></a>01565       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01566"></a>01566       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01567"></a>01567       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>                 *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01568"></a>01568 
<a name="l01569"></a>01569       <span class="comment">//cout&lt;&lt;&quot;leakage3&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01570"></a>01570 
<a name="l01571"></a>01571 
<a name="l01572"></a>01572       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> =
<a name="l01573"></a>01573           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>) *
<a name="l01574"></a>01574           number_output_drivers_subarray * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01575"></a>01575 
<a name="l01576"></a>01576       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01577"></a>01577                               <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01578"></a>01578                               <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01579"></a>01579                               <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01580"></a>01580                               <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01581"></a>01581 
<a name="l01582"></a>01582       <span class="comment">//cout&lt;&lt;&quot;leakage4&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01583"></a>01583 
<a name="l01584"></a>01584       <span class="comment">// leakage power</span>
<a name="l01585"></a>01585       <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01586"></a>01586       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01587"></a>01587                               <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01588"></a>01588 
<a name="l01589"></a>01589       <span class="comment">//cout&lt;&lt;&quot;leakage5&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01590"></a>01590 
<a name="l01591"></a>01591       <span class="comment">//inside cam</span>
<a name="l01592"></a>01592       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01593"></a>01593       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +=<a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01594"></a>01594       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +=<a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;
<a name="l01595"></a>01595       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +=<a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01596"></a>01596       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01597"></a>01597 
<a name="l01598"></a>01598       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01599"></a>01599 
<a name="l01600"></a>01600 <span class="comment">//    cout&lt;&lt;&quot;leakage6&quot;&lt;&lt;power.readOp.leakage&lt;&lt;endl;</span>
<a name="l01601"></a>01601 
<a name="l01602"></a>01602       <span class="comment">//+++Below is gate leakage</span>
<a name="l01603"></a>01603       <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>            *= <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#a6bcae7e709ac7ab95d73d342d3a6261f">num_cols</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01604"></a>01604       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a88287312b6a7f06bde99779c6d49d91b">bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01605"></a>01605       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01606"></a>01606       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>                 *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01607"></a>01607 
<a name="l01608"></a>01608       <span class="comment">//cout&lt;&lt;&quot;leakage3&quot;&lt;&lt;power.readOp.gate_leakage&lt;&lt;endl;</span>
<a name="l01609"></a>01609 
<a name="l01610"></a>01610 
<a name="l01611"></a>01611       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> =
<a name="l01612"></a>01612           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>) *
<a name="l01613"></a>01613           number_output_drivers_subarray * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01614"></a>01614 
<a name="l01615"></a>01615       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ae517171523a66f8bc8d0b3f08a6b5afd">power_bitline</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01616"></a>01616       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01617"></a>01617       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01618"></a>01618       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01619"></a>01619       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01620"></a>01620 
<a name="l01621"></a>01621       <span class="comment">//cout&lt;&lt;&quot;leakage4&quot;&lt;&lt;power.readOp.gate_leakage&lt;&lt;endl;</span>
<a name="l01622"></a>01622 
<a name="l01623"></a>01623       <span class="comment">// gate_leakage power</span>
<a name="l01624"></a>01624       <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01625"></a>01625       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01626"></a>01626       <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01627"></a>01627 
<a name="l01628"></a>01628       <span class="comment">//cout&lt;&lt;&quot;leakage5&quot;&lt;&lt;power.readOp.gate_leakage&lt;&lt;endl;</span>
<a name="l01629"></a>01629 
<a name="l01630"></a>01630       <span class="comment">//inside cam</span>
<a name="l01631"></a>01631       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01632"></a>01632       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +=<a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01633"></a>01633       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +=<a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;
<a name="l01634"></a>01634       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +=<a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01635"></a>01635       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01636"></a>01636 
<a name="l01637"></a>01637       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01638"></a>01638 
<a name="l01639"></a>01639   }
<a name="l01640"></a>01640   <span class="keywordflow">else</span>
<a name="l01641"></a>01641   {
<a name="l01642"></a>01642       <span class="keywordtype">int</span> number_output_drivers_subarray = <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>;<span class="comment">// / (dp.Ndsam_lev_1 * dp.Ndsam_lev_2);</span>
<a name="l01643"></a>01643 
<a name="l01644"></a>01644       <span class="comment">//power_bitline.readOp.leakage            *= subarray.num_rows * subarray.num_cols * num_subarrays_per_mat;</span>
<a name="l01645"></a>01645       <span class="comment">//power_bl_precharge_eq_drv.readOp.leakage = bl_precharge_eq_drv-&gt;power.readOp.leakage * num_subarrays_per_mat;</span>
<a name="l01646"></a>01646       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01647"></a>01647       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>                 *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01648"></a>01648 
<a name="l01649"></a>01649 
<a name="l01650"></a>01650       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> =
<a name="l01651"></a>01651           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>) *
<a name="l01652"></a>01652           number_output_drivers_subarray * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01653"></a>01653 
<a name="l01654"></a>01654       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <span class="comment">//power_bitline.readOp.leakage +</span>
<a name="l01655"></a>01655                               <span class="comment">//power_bl_precharge_eq_drv.readOp.leakage +</span>
<a name="l01656"></a>01656                               <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01657"></a>01657                               <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01658"></a>01658                               <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01659"></a>01659 
<a name="l01660"></a>01660       <span class="comment">// leakage power</span>
<a name="l01661"></a>01661       <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>);
<a name="l01662"></a>01662       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +
<a name="l01663"></a>01663                               <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01664"></a>01664 
<a name="l01665"></a>01665       <span class="comment">//inside cam</span>
<a name="l01666"></a>01666       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> = <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01667"></a>01667       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +=<a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01668"></a>01668       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +=<a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;
<a name="l01669"></a>01669       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> +=<a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01670"></a>01670       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01671"></a>01671 
<a name="l01672"></a>01672       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a> += <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#aad6331445a7b816dbe209e93869a0e23">leakage</a>;
<a name="l01673"></a>01673 
<a name="l01674"></a>01674       <span class="comment">//+++Below is gate leakage</span>
<a name="l01675"></a>01675       <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a2111d6c9020f29c710355caeeba10d16">cam_bl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01676"></a>01676       <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>                 *= <a class="code" href="classMat.html#a78c050f1f11b5524befdf09ba5b4668d">num_sa_subarray</a>*<a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01677"></a>01677 
<a name="l01678"></a>01678 
<a name="l01679"></a>01679       <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> =
<a name="l01680"></a>01680           (<a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> + <a class="code" href="classMat.html#a0d57e3b0a73b4106620e5b6208abfbed">subarray_out_wire</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>) *
<a name="l01681"></a>01681           number_output_drivers_subarray * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a> * (<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#ad61c7a9f15de6ba43ec57299beec53ab">SCHP</a>);
<a name="l01682"></a>01682 
<a name="l01683"></a>01683       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <span class="comment">//power_bitline.readOp.gate_leakage +</span>
<a name="l01684"></a>01684                               <span class="comment">//power_bl_precharge_eq_drv.readOp.gate_leakage +</span>
<a name="l01685"></a>01685                               <a class="code" href="classMat.html#a5adc35fa71fe219df31539c56d51325f">power_bl_precharge_eq_drv</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01686"></a>01686                               <a class="code" href="classMat.html#ae040169c4f2237fcad81b86977625a9a">power_sa</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01687"></a>01687                               <a class="code" href="classMat.html#a60b2371237d8592bf3cec156a6c1240f">power_subarray_out_drv</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01688"></a>01688 
<a name="l01689"></a>01689       <span class="comment">// gate_leakage power</span>
<a name="l01690"></a>01690       <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#acecd88a5f93ef04bb89d278884a2971e">row_dec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> * <a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#af76d93ed6f0f84a128c42f953c8f412c">num_rows</a> * <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>*(<a class="code" href="classMat.html#a6fe83d3a4ee816ff1548efd94ec1e78a">RWP</a> + <a class="code" href="classMat.html#a5beac874ff197c29e3df0f718286a3a1">ERP</a> + <a class="code" href="classMat.html#a00eca7562c4cd67982340ad69c28fabb">EWP</a>);
<a name="l01691"></a>01691       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ac7b3cc12f381a0e9926bbc0f308b9d2c">r_predec</a>-&gt;<a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +
<a name="l01692"></a>01692                               <a class="code" href="classMat.html#a3573c3d9264647bba7a70c857d77d269">power_row_decoders</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01693"></a>01693 
<a name="l01694"></a>01694       <span class="comment">//inside cam</span>
<a name="l01695"></a>01695       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> = <a class="code" href="classMat.html#a8e7f93bfb730a449da3eeea38299b703">power_matchline</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01696"></a>01696       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +=<a class="code" href="classMat.html#a42cbbeb0883ab195bfdaa379e29daa98">sl_precharge_eq_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01697"></a>01697       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +=<a class="code" href="classMat.html#a73ed4b8d421ca07931d1cd8ee7435f44">sl_data_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>*<a class="code" href="classMat.html#a9118ac1fc38c0522f8c38d9c1db7d920">subarray</a>.<a class="code" href="classSubarray.html#acab7d7b76cc90fc7c66a0f9b7f4e8688">num_cols_fa_cam</a>;
<a name="l01698"></a>01698       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> +=<a class="code" href="classMat.html#ad0d5b1590a6c802f62bfa44057c98b1e">ml_precharge_drv</a>-&gt;<a class="code" href="classDriver.html#aff1865b42dc1ed4f5d4a7e60dd2c3262">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#adbc9cc35c7bd7abc39074f473d653343">dynamic</a>;
<a name="l01699"></a>01699       <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> *= <a class="code" href="classMat.html#aeeb91bc5e4ca5aa71976e77092dc4b0a">num_subarrays_per_mat</a>;
<a name="l01700"></a>01700 
<a name="l01701"></a>01701       <a class="code" href="classComponent.html#a78cbcea978fe7b69afafed36179f38ac">power</a>.<a class="code" href="classpowerDef.html#ab80f3c788fda52adc2265f931add66d7">readOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a> += <a class="code" href="classMat.html#ad0cbf62c7b94473a6056a1ebf18d4ea9">power_cam_all_active</a>.<a class="code" href="classpowerDef.html#af8fe4a18534fe223c82a07e8aab60a5a">searchOp</a>.<a class="code" href="classpowerComponents.html#a906c03e016cf21baaaf7e050d6d5d459">gate_leakage</a>;
<a name="l01702"></a>01702   }
<a name="l01703"></a>01703 }
<a name="l01704"></a>01704 
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 13 May 2014 for GPGPU-Sim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
