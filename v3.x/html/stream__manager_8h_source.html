<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GPGPU-Sim: v3.x/src/stream_manager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_c934b74ccb33d6b9bfd1e576787940d8.html">v3.x</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_da58ad9beee6988f697f1a76e412a52a.html">src</a>
  </div>
</div>
<div class="contents">
<h1>stream_manager.h</h1><a href="stream__manager_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// Copyright (c) 2009-2011, Tor M. Aamodt</span>
<a name="l00002"></a>00002 <span class="comment">// The University of British Columbia</span>
<a name="l00003"></a>00003 <span class="comment">// All rights reserved.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Redistribution and use in source and binary forms, with or without</span>
<a name="l00006"></a>00006 <span class="comment">// modification, are permitted provided that the following conditions are met:</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// Redistributions of source code must retain the above copyright notice, this</span>
<a name="l00009"></a>00009 <span class="comment">// list of conditions and the following disclaimer.</span>
<a name="l00010"></a>00010 <span class="comment">// Redistributions in binary form must reproduce the above copyright notice, this</span>
<a name="l00011"></a>00011 <span class="comment">// list of conditions and the following disclaimer in the documentation and/or</span>
<a name="l00012"></a>00012 <span class="comment">// other materials provided with the distribution.</span>
<a name="l00013"></a>00013 <span class="comment">// Neither the name of The University of British Columbia nor the names of its</span>
<a name="l00014"></a>00014 <span class="comment">// contributors may be used to endorse or promote products derived from this</span>
<a name="l00015"></a>00015 <span class="comment">// software without specific prior written permission.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00017"></a>00017 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND</span>
<a name="l00018"></a>00018 <span class="comment">// ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<a name="l00019"></a>00019 <span class="comment">// WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<a name="l00020"></a>00020 <span class="comment">// DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE</span>
<a name="l00021"></a>00021 <span class="comment">// FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</span>
<a name="l00022"></a>00022 <span class="comment">// DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span>
<a name="l00023"></a>00023 <span class="comment">// SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER</span>
<a name="l00024"></a>00024 <span class="comment">// CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,</span>
<a name="l00025"></a>00025 <span class="comment">// OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="preprocessor">#ifndef STREAM_MANAGER_H_INCLUDED</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span><span class="preprocessor">#define STREAM_MANAGER_H_INCLUDED</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="abstract__hardware__model_8h.html">abstract_hardware_model.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;list&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;time.h&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">//class stream_barrier {</span>
<a name="l00037"></a>00037 <span class="comment">//public:</span>
<a name="l00038"></a>00038 <span class="comment">//    stream_barrier() { m_pending_streams=0; }</span>
<a name="l00039"></a>00039 <span class="comment">//    void inc() { m_pending_streams++; }</span>
<a name="l00040"></a>00040 <span class="comment">//    void dec() { assert(m_pending_streams); m_pending_streams--; }</span>
<a name="l00041"></a>00041 <span class="comment">//    unsigned value() const { return m_pending_streams; }</span>
<a name="l00042"></a>00042 <span class="comment">//private:</span>
<a name="l00043"></a>00043 <span class="comment">//    unsigned m_pending_streams;</span>
<a name="l00044"></a>00044 <span class="comment">//};</span>
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1">00046</a> <span class="keyword">enum</span> <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1">stream_operation_type</a> {
<a name="l00047"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a888ab935ff3af51b52aba59f50754923">00047</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a888ab935ff3af51b52aba59f50754923">stream_no_op</a>,
<a name="l00048"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1ae191952a5f6e0271c3f1c730dd7b9655">00048</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1ae191952a5f6e0271c3f1c730dd7b9655">stream_memcpy_host_to_device</a>,
<a name="l00049"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a9188912c5b2253b957a222ae125a92ea">00049</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a9188912c5b2253b957a222ae125a92ea">stream_memcpy_device_to_host</a>,
<a name="l00050"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1abf755f68d3c920bb1e63e9e0ff8ff645">00050</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1abf755f68d3c920bb1e63e9e0ff8ff645">stream_memcpy_device_to_device</a>,
<a name="l00051"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1afa4c5464416ccace8384902c9484b800">00051</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1afa4c5464416ccace8384902c9484b800">stream_memcpy_to_symbol</a>,
<a name="l00052"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a1d3621ce7e6fbea7e37076a064bc949c">00052</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a1d3621ce7e6fbea7e37076a064bc949c">stream_memcpy_from_symbol</a>,
<a name="l00053"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a7f986c8e0b7014a0e69aaa77ace5e2e4">00053</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a7f986c8e0b7014a0e69aaa77ace5e2e4">stream_kernel_launch</a>,
<a name="l00054"></a><a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1aa7d11e2fd36ad178f11be25093499343">00054</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1aa7d11e2fd36ad178f11be25093499343">stream_event</a>
<a name="l00055"></a>00055 };
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="classstream__operation.html">00057</a> <span class="keyword">class </span><a class="code" href="classstream__operation.html">stream_operation</a> {
<a name="l00058"></a>00058 <span class="keyword">public</span>:
<a name="l00059"></a><a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">00059</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>()
<a name="l00060"></a>00060     {
<a name="l00061"></a>00061         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00062"></a>00062         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a> = <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a888ab935ff3af51b52aba59f50754923">stream_no_op</a>;
<a name="l00063"></a>00063         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a> = NULL;
<a name="l00064"></a>00064         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">true</span>;
<a name="l00065"></a>00065     }
<a name="l00066"></a><a class="code" href="classstream__operation.html#a51754542b45eea06bbbdbd585efcf4d2">00066</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *src, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classsymbol.html">symbol</a>, <span class="keywordtype">size_t</span> count, <span class="keywordtype">size_t</span> offset, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream )
<a name="l00067"></a>00067     {
<a name="l00068"></a>00068         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00069"></a>00069         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a> = stream;
<a name="l00070"></a>00070         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1afa4c5464416ccace8384902c9484b800">stream_memcpy_to_symbol</a>;
<a name="l00071"></a>00071         <a class="code" href="classstream__operation.html#a290774fe0095a95e60f89a141f795d5d">m_host_address_src</a>=src;
<a name="l00072"></a>00072         <a class="code" href="classstream__operation.html#a0228af2a5ae79986fa6f9b9fe65ef4ad">m_symbol</a>=symbol;
<a name="l00073"></a>00073         <a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">m_cnt</a>=count;
<a name="l00074"></a>00074         <a class="code" href="classstream__operation.html#a69176b7be5f8f51e820c3f0fd6979c0f">m_offset</a>=offset;
<a name="l00075"></a>00075         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00076"></a>00076     }
<a name="l00077"></a><a class="code" href="classstream__operation.html#a880aeb0e86eb9309ed584fb47d076f93">00077</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classsymbol.html">symbol</a>, <span class="keywordtype">void</span> *dst, <span class="keywordtype">size_t</span> count, <span class="keywordtype">size_t</span> offset, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream )
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00080"></a>00080         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a> = stream;
<a name="l00081"></a>00081         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a1d3621ce7e6fbea7e37076a064bc949c">stream_memcpy_from_symbol</a>;
<a name="l00082"></a>00082         <a class="code" href="classstream__operation.html#acc4ab963fe6633cf1136a79dcb3f7ac6">m_host_address_dst</a>=dst;
<a name="l00083"></a>00083         <a class="code" href="classstream__operation.html#a0228af2a5ae79986fa6f9b9fe65ef4ad">m_symbol</a>=symbol;
<a name="l00084"></a>00084         <a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">m_cnt</a>=count;
<a name="l00085"></a>00085         <a class="code" href="classstream__operation.html#a69176b7be5f8f51e820c3f0fd6979c0f">m_offset</a>=offset;
<a name="l00086"></a>00086         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00087"></a>00087     }
<a name="l00088"></a><a class="code" href="classstream__operation.html#aefeb7b24771aa700b0853ab94184e523">00088</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *kernel, <span class="keywordtype">bool</span> sim_mode, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream )
<a name="l00089"></a>00089     {
<a name="l00090"></a>00090         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a7f986c8e0b7014a0e69aaa77ace5e2e4">stream_kernel_launch</a>;
<a name="l00091"></a>00091         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=kernel;
<a name="l00092"></a>00092         <a class="code" href="classstream__operation.html#a070a1a39a958f50d1282ef7003a6c5b6">m_sim_mode</a>=sim_mode;
<a name="l00093"></a>00093         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>=stream;
<a name="l00094"></a>00094         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00095"></a>00095     }
<a name="l00096"></a><a class="code" href="classstream__operation.html#a59356e49063fe141d34eb1d39779cda1">00096</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <span class="keyword">class</span> <a class="code" href="classCUevent__st.html">CUevent_st</a> *e, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream )
<a name="l00097"></a>00097     {
<a name="l00098"></a>00098         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00099"></a>00099         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1aa7d11e2fd36ad178f11be25093499343">stream_event</a>;
<a name="l00100"></a>00100         <a class="code" href="classstream__operation.html#a61a20f0251808b1763b95d18c5122ba2">m_event</a>=e;
<a name="l00101"></a>00101         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>=stream;
<a name="l00102"></a>00102         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00103"></a>00103     }
<a name="l00104"></a><a class="code" href="classstream__operation.html#a7a08b46bb10368495a3f974e19f03184">00104</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <span class="keyword">const</span> <span class="keywordtype">void</span> *host_address_src, <span class="keywordtype">size_t</span> device_address_dst, <span class="keywordtype">size_t</span> cnt, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream )
<a name="l00105"></a>00105     {
<a name="l00106"></a>00106         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00107"></a>00107         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1ae191952a5f6e0271c3f1c730dd7b9655">stream_memcpy_host_to_device</a>;
<a name="l00108"></a>00108         <a class="code" href="classstream__operation.html#a290774fe0095a95e60f89a141f795d5d">m_host_address_src</a>  =host_address_src;
<a name="l00109"></a>00109         <a class="code" href="classstream__operation.html#a00e94516ab26d86dddf7115f35b13264">m_device_address_dst</a>=device_address_dst;
<a name="l00110"></a>00110         <a class="code" href="classstream__operation.html#acc4ab963fe6633cf1136a79dcb3f7ac6">m_host_address_dst</a>=NULL;
<a name="l00111"></a>00111         <a class="code" href="classstream__operation.html#a147bcf5f37de6e807c3f3fcdc658e936">m_device_address_src</a>=0;
<a name="l00112"></a>00112         <a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">m_cnt</a>=cnt;
<a name="l00113"></a>00113         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>=stream;
<a name="l00114"></a>00114         <a class="code" href="classstream__operation.html#a070a1a39a958f50d1282ef7003a6c5b6">m_sim_mode</a>=<span class="keyword">false</span>;
<a name="l00115"></a>00115         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00116"></a>00116     }
<a name="l00117"></a><a class="code" href="classstream__operation.html#ab1305c67e3ca63de5a2b2ac01690b48f">00117</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <span class="keywordtype">size_t</span> device_address_src, <span class="keywordtype">void</span> *host_address_dst, <span class="keywordtype">size_t</span> cnt, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream  )
<a name="l00118"></a>00118     {
<a name="l00119"></a>00119         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00120"></a>00120         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a9188912c5b2253b957a222ae125a92ea">stream_memcpy_device_to_host</a>;
<a name="l00121"></a>00121         <a class="code" href="classstream__operation.html#a147bcf5f37de6e807c3f3fcdc658e936">m_device_address_src</a>=device_address_src;
<a name="l00122"></a>00122         <a class="code" href="classstream__operation.html#acc4ab963fe6633cf1136a79dcb3f7ac6">m_host_address_dst</a>=host_address_dst;
<a name="l00123"></a>00123         <a class="code" href="classstream__operation.html#a00e94516ab26d86dddf7115f35b13264">m_device_address_dst</a>=0;
<a name="l00124"></a>00124         <a class="code" href="classstream__operation.html#a290774fe0095a95e60f89a141f795d5d">m_host_address_src</a>=NULL;
<a name="l00125"></a>00125         <a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">m_cnt</a>=cnt;
<a name="l00126"></a>00126         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>=stream;
<a name="l00127"></a>00127         <a class="code" href="classstream__operation.html#a070a1a39a958f50d1282ef7003a6c5b6">m_sim_mode</a>=<span class="keyword">false</span>;
<a name="l00128"></a>00128         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00129"></a>00129     }
<a name="l00130"></a><a class="code" href="classstream__operation.html#a0a823ad5d97fcc66c107d182259c1373">00130</a>     <a class="code" href="classstream__operation.html#aa2f9144aac9b9e2f33fdfa986a619b47">stream_operation</a>( <span class="keywordtype">size_t</span> device_address_src, <span class="keywordtype">size_t</span> device_address_dst, <span class="keywordtype">size_t</span> cnt, <span class="keyword">struct</span> <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream  )
<a name="l00131"></a>00131     {
<a name="l00132"></a>00132         <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>=NULL;
<a name="l00133"></a>00133         <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>=<a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1abf755f68d3c920bb1e63e9e0ff8ff645">stream_memcpy_device_to_device</a>;
<a name="l00134"></a>00134         <a class="code" href="classstream__operation.html#a147bcf5f37de6e807c3f3fcdc658e936">m_device_address_src</a>=device_address_src;
<a name="l00135"></a>00135         <a class="code" href="classstream__operation.html#a00e94516ab26d86dddf7115f35b13264">m_device_address_dst</a>=device_address_dst;
<a name="l00136"></a>00136         <a class="code" href="classstream__operation.html#a290774fe0095a95e60f89a141f795d5d">m_host_address_src</a>=NULL;
<a name="l00137"></a>00137         <a class="code" href="classstream__operation.html#acc4ab963fe6633cf1136a79dcb3f7ac6">m_host_address_dst</a>=NULL;
<a name="l00138"></a>00138         <a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">m_cnt</a>=cnt;
<a name="l00139"></a>00139         <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>=stream;
<a name="l00140"></a>00140         <a class="code" href="classstream__operation.html#a070a1a39a958f50d1282ef7003a6c5b6">m_sim_mode</a>=<span class="keyword">false</span>;
<a name="l00141"></a>00141         <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>=<span class="keyword">false</span>;
<a name="l00142"></a>00142     }
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="classstream__operation.html#a0f83a7fb1b0c4bb39f52530351204896">00144</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__operation.html#a0f83a7fb1b0c4bb39f52530351204896">is_kernel</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a> == <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a7f986c8e0b7014a0e69aaa77ace5e2e4">stream_kernel_launch</a>; }
<a name="l00145"></a><a class="code" href="classstream__operation.html#adb0063fcfede4e35b95908b66c0f7885">00145</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__operation.html#adb0063fcfede4e35b95908b66c0f7885">is_mem</a>()<span class="keyword"> const </span>{
<a name="l00146"></a>00146         <span class="keywordflow">return</span> <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a> == <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1ae191952a5f6e0271c3f1c730dd7b9655">stream_memcpy_host_to_device</a> ||
<a name="l00147"></a>00147                <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a> == <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a9188912c5b2253b957a222ae125a92ea">stream_memcpy_device_to_host</a> ||
<a name="l00148"></a>00148                <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a> == <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1ae191952a5f6e0271c3f1c730dd7b9655">stream_memcpy_host_to_device</a>;
<a name="l00149"></a>00149     }
<a name="l00150"></a><a class="code" href="classstream__operation.html#a338b99bff6fcd3e3612fbb6be06f4439">00150</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__operation.html#a338b99bff6fcd3e3612fbb6be06f4439">is_noop</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a> == <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1a888ab935ff3af51b52aba59f50754923">stream_no_op</a>; }
<a name="l00151"></a><a class="code" href="classstream__operation.html#aaa01328342cc0216a65ed755b96c5fb2">00151</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__operation.html#aaa01328342cc0216a65ed755b96c5fb2">is_done</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>; }
<a name="l00152"></a><a class="code" href="classstream__operation.html#ad2b1e355bd29f644de208efb842047ab">00152</a>     <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *<a class="code" href="classstream__operation.html#ad2b1e355bd29f644de208efb842047ab">get_kernel</a>() { <span class="keywordflow">return</span> <a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>; }
<a name="l00153"></a>00153     <span class="keywordtype">void</span> <a class="code" href="classstream__operation.html#a56e546a5946b114f83a40be3676c3092">do_operation</a>( <a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> *gpu );
<a name="l00154"></a>00154     <span class="keywordtype">void</span> <a class="code" href="classstream__operation.html#ad06f7c4d61a5133149f5c290bb220a5c">print</a>( FILE *fp ) <span class="keyword">const</span>;
<a name="l00155"></a><a class="code" href="classstream__operation.html#a58fd0361a3b6aad2787fd48e63bf26cd">00155</a>     <span class="keyword">struct </span><a class="code" href="structCUstream__st.html">CUstream_st</a> *<a class="code" href="classstream__operation.html#a58fd0361a3b6aad2787fd48e63bf26cd">get_stream</a>() { <span class="keywordflow">return</span> <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>; }
<a name="l00156"></a><a class="code" href="classstream__operation.html#aca2c21f08313f2d22bf70894fc9e6f7b">00156</a>     <span class="keywordtype">void</span> <a class="code" href="classstream__operation.html#aca2c21f08313f2d22bf70894fc9e6f7b">set_stream</a>( <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream ) { <a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a> = stream; }
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="keyword">private</span>:
<a name="l00159"></a><a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">00159</a>     <span class="keyword">struct </span><a class="code" href="structCUstream__st.html">CUstream_st</a> *<a class="code" href="classstream__operation.html#aaa909272359e57a373fa00c69c7e7b15">m_stream</a>;
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">00161</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__operation.html#ac770e200d4c83935a2fb61c3768c3816">m_done</a>;
<a name="l00162"></a>00162 
<a name="l00163"></a><a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">00163</a>     <a class="code" href="stream__manager_8h.html#a27fa36509388a46aac7c84a320ac40a1">stream_operation_type</a> <a class="code" href="classstream__operation.html#afd468acfb6b5d032128b37d6bebe7591">m_type</a>;
<a name="l00164"></a><a class="code" href="classstream__operation.html#a00e94516ab26d86dddf7115f35b13264">00164</a>     <span class="keywordtype">size_t</span>      <a class="code" href="classstream__operation.html#a00e94516ab26d86dddf7115f35b13264">m_device_address_dst</a>;
<a name="l00165"></a><a class="code" href="classstream__operation.html#a147bcf5f37de6e807c3f3fcdc658e936">00165</a>     <span class="keywordtype">size_t</span>      <a class="code" href="classstream__operation.html#a147bcf5f37de6e807c3f3fcdc658e936">m_device_address_src</a>;
<a name="l00166"></a><a class="code" href="classstream__operation.html#acc4ab963fe6633cf1136a79dcb3f7ac6">00166</a>     <span class="keywordtype">void</span>       *<a class="code" href="classstream__operation.html#acc4ab963fe6633cf1136a79dcb3f7ac6">m_host_address_dst</a>;
<a name="l00167"></a><a class="code" href="classstream__operation.html#a290774fe0095a95e60f89a141f795d5d">00167</a>     <span class="keyword">const</span> <span class="keywordtype">void</span> *<a class="code" href="classstream__operation.html#a290774fe0095a95e60f89a141f795d5d">m_host_address_src</a>;
<a name="l00168"></a><a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">00168</a>     <span class="keywordtype">size_t</span>      <a class="code" href="classstream__operation.html#a4b0cd0c30b4fcaf573251cf34f347d55">m_cnt</a>;
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="classstream__operation.html#a0228af2a5ae79986fa6f9b9fe65ef4ad">00170</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classstream__operation.html#a0228af2a5ae79986fa6f9b9fe65ef4ad">m_symbol</a>;
<a name="l00171"></a><a class="code" href="classstream__operation.html#a69176b7be5f8f51e820c3f0fd6979c0f">00171</a>     <span class="keywordtype">size_t</span> <a class="code" href="classstream__operation.html#a69176b7be5f8f51e820c3f0fd6979c0f">m_offset</a>;
<a name="l00172"></a>00172 
<a name="l00173"></a><a class="code" href="classstream__operation.html#a070a1a39a958f50d1282ef7003a6c5b6">00173</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__operation.html#a070a1a39a958f50d1282ef7003a6c5b6">m_sim_mode</a>;
<a name="l00174"></a><a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">00174</a>     <a class="code" href="classkernel__info__t.html">kernel_info_t</a> *<a class="code" href="classstream__operation.html#a72f0f80e70bee7318861ea855f362cf0">m_kernel</a>;
<a name="l00175"></a><a class="code" href="classstream__operation.html#a61a20f0251808b1763b95d18c5122ba2">00175</a>     <span class="keyword">class </span><a class="code" href="classCUevent__st.html">CUevent_st</a> *<a class="code" href="classstream__operation.html#a61a20f0251808b1763b95d18c5122ba2">m_event</a>;
<a name="l00176"></a>00176 };
<a name="l00177"></a>00177 
<a name="l00178"></a><a class="code" href="classCUevent__st.html">00178</a> <span class="keyword">class </span><a class="code" href="classCUevent__st.html">CUevent_st</a> {
<a name="l00179"></a>00179 <span class="keyword">public</span>:
<a name="l00180"></a><a class="code" href="classCUevent__st.html#af53d5933c95e8c1b44786cf06b921b83">00180</a>    <a class="code" href="classCUevent__st.html#af53d5933c95e8c1b44786cf06b921b83">CUevent_st</a>( <span class="keywordtype">bool</span> blocking )
<a name="l00181"></a>00181    {
<a name="l00182"></a>00182       <a class="code" href="classCUevent__st.html#ac3dd00b7c47d8720af497c7438a953de">m_uid</a> = ++<a class="code" href="classCUevent__st.html#ae83e725cbec82b7f3048bad7b404b636">m_next_event_uid</a>;
<a name="l00183"></a>00183       <a class="code" href="classCUevent__st.html#a9e4beb67cf7ef94534b55e393cb01d2c">m_blocking</a> = blocking;
<a name="l00184"></a>00184       <a class="code" href="classCUevent__st.html#aedddda6b8484985750b8f2b642bc8c5f">m_updates</a> = 0;
<a name="l00185"></a>00185       <a class="code" href="classCUevent__st.html#a985a4f3970462e77f73d8cae6afed5db">m_wallclock</a> = 0;
<a name="l00186"></a>00186       <a class="code" href="classCUevent__st.html#ac6d135382b66bc47cc3d0ab1dbfc4e10">m_gpu_tot_sim_cycle</a> = 0;
<a name="l00187"></a>00187       <a class="code" href="classCUevent__st.html#a82764c5e4228cd6dd22eb53f2cbfc615">m_done</a> = <span class="keyword">false</span>;
<a name="l00188"></a>00188    }
<a name="l00189"></a><a class="code" href="classCUevent__st.html#a34e027d23cf8c29daad01ce219a812c0">00189</a>    <span class="keywordtype">void</span> <a class="code" href="classCUevent__st.html#a34e027d23cf8c29daad01ce219a812c0">update</a>( <span class="keywordtype">double</span> cycle, time_t clk )
<a name="l00190"></a>00190    {
<a name="l00191"></a>00191       <a class="code" href="classCUevent__st.html#aedddda6b8484985750b8f2b642bc8c5f">m_updates</a>++;
<a name="l00192"></a>00192       <a class="code" href="classCUevent__st.html#a985a4f3970462e77f73d8cae6afed5db">m_wallclock</a>=clk;
<a name="l00193"></a>00193       <a class="code" href="classCUevent__st.html#ac6d135382b66bc47cc3d0ab1dbfc4e10">m_gpu_tot_sim_cycle</a>=cycle;
<a name="l00194"></a>00194       <a class="code" href="classCUevent__st.html#a82764c5e4228cd6dd22eb53f2cbfc615">m_done</a> = <span class="keyword">true</span>;
<a name="l00195"></a>00195    }
<a name="l00196"></a>00196    <span class="comment">//void set_done() { assert(!m_done); m_done=true; }</span>
<a name="l00197"></a><a class="code" href="classCUevent__st.html#a70ec98a19918ec74b27494a2cc149049">00197</a>    <span class="keywordtype">int</span> <a class="code" href="classCUevent__st.html#a70ec98a19918ec74b27494a2cc149049">get_uid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCUevent__st.html#ac3dd00b7c47d8720af497c7438a953de">m_uid</a>; }
<a name="l00198"></a><a class="code" href="classCUevent__st.html#a5feaeb27b35c36bbacfcbd8689c0817c">00198</a>    <span class="keywordtype">unsigned</span> <a class="code" href="classCUevent__st.html#a5feaeb27b35c36bbacfcbd8689c0817c">num_updates</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCUevent__st.html#aedddda6b8484985750b8f2b642bc8c5f">m_updates</a>; }
<a name="l00199"></a><a class="code" href="classCUevent__st.html#a2a4488d59326486150a22de676d21ce8">00199</a>    <span class="keywordtype">bool</span> <a class="code" href="classCUevent__st.html#a2a4488d59326486150a22de676d21ce8">done</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCUevent__st.html#a82764c5e4228cd6dd22eb53f2cbfc615">m_done</a>; }
<a name="l00200"></a><a class="code" href="classCUevent__st.html#a6be2f4b966d4c0d21fadb51ef927b7ca">00200</a>    time_t <a class="code" href="classCUevent__st.html#a6be2f4b966d4c0d21fadb51ef927b7ca">clock</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCUevent__st.html#a985a4f3970462e77f73d8cae6afed5db">m_wallclock</a>; }
<a name="l00201"></a>00201 <span class="keyword">private</span>:
<a name="l00202"></a><a class="code" href="classCUevent__st.html#ac3dd00b7c47d8720af497c7438a953de">00202</a>    <span class="keywordtype">int</span> <a class="code" href="classCUevent__st.html#ac3dd00b7c47d8720af497c7438a953de">m_uid</a>;
<a name="l00203"></a><a class="code" href="classCUevent__st.html#a9e4beb67cf7ef94534b55e393cb01d2c">00203</a>    <span class="keywordtype">bool</span> <a class="code" href="classCUevent__st.html#a9e4beb67cf7ef94534b55e393cb01d2c">m_blocking</a>;
<a name="l00204"></a><a class="code" href="classCUevent__st.html#a82764c5e4228cd6dd22eb53f2cbfc615">00204</a>    <span class="keywordtype">bool</span> <a class="code" href="classCUevent__st.html#a82764c5e4228cd6dd22eb53f2cbfc615">m_done</a>;
<a name="l00205"></a><a class="code" href="classCUevent__st.html#aedddda6b8484985750b8f2b642bc8c5f">00205</a>    <span class="keywordtype">int</span> <a class="code" href="classCUevent__st.html#aedddda6b8484985750b8f2b642bc8c5f">m_updates</a>;
<a name="l00206"></a><a class="code" href="classCUevent__st.html#a985a4f3970462e77f73d8cae6afed5db">00206</a>    time_t <a class="code" href="classCUevent__st.html#a985a4f3970462e77f73d8cae6afed5db">m_wallclock</a>;
<a name="l00207"></a><a class="code" href="classCUevent__st.html#ac6d135382b66bc47cc3d0ab1dbfc4e10">00207</a>    <span class="keywordtype">double</span> <a class="code" href="classCUevent__st.html#ac6d135382b66bc47cc3d0ab1dbfc4e10">m_gpu_tot_sim_cycle</a>;
<a name="l00208"></a>00208 
<a name="l00209"></a><a class="code" href="classCUevent__st.html#ae83e725cbec82b7f3048bad7b404b636">00209</a>    <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classCUevent__st.html#ae83e725cbec82b7f3048bad7b404b636">m_next_event_uid</a>;
<a name="l00210"></a>00210 };
<a name="l00211"></a>00211 
<a name="l00212"></a><a class="code" href="structCUstream__st.html">00212</a> <span class="keyword">struct </span><a class="code" href="structCUstream__st.html">CUstream_st</a> {
<a name="l00213"></a>00213 <span class="keyword">public</span>:
<a name="l00214"></a>00214     <a class="code" href="structCUstream__st.html#ae9e60d2bb6d4f804ac857e23bdeab6d5">CUstream_st</a>(); 
<a name="l00215"></a>00215     <span class="keywordtype">bool</span> <a class="code" href="structCUstream__st.html#a6353e37c5be49616c4619c2be27dd6ab">empty</a>();
<a name="l00216"></a>00216     <span class="keywordtype">bool</span> <a class="code" href="structCUstream__st.html#abd04db17f904c2597c0133e74aa9e2e8">busy</a>();
<a name="l00217"></a>00217     <span class="keywordtype">void</span> <a class="code" href="structCUstream__st.html#ab7f96c9dfc21b1b6265cda4f23610894">synchronize</a>();
<a name="l00218"></a>00218     <span class="keywordtype">void</span> <a class="code" href="structCUstream__st.html#aa3d0f8baf87c1c00940c43591232e714">push</a>( <span class="keyword">const</span> <a class="code" href="classstream__operation.html">stream_operation</a> &amp;op );
<a name="l00219"></a>00219     <span class="keywordtype">void</span> <a class="code" href="structCUstream__st.html#acd7caefa4763b67033f9c35ea5a4abb2">record_next_done</a>();
<a name="l00220"></a>00220     <a class="code" href="classstream__operation.html">stream_operation</a> <a class="code" href="structCUstream__st.html#aa231cfc61857d66ca1919e04eea26426">next</a>();
<a name="l00221"></a><a class="code" href="structCUstream__st.html#ad45911fc675c681ee9109821fb9facc8">00221</a>     <a class="code" href="classstream__operation.html">stream_operation</a> &amp;<a class="code" href="structCUstream__st.html#ad45911fc675c681ee9109821fb9facc8">front</a>() { <span class="keywordflow">return</span> <a class="code" href="structCUstream__st.html#a19a94a9c6743b33bdd050dd864d773ee">m_operations</a>.front(); }
<a name="l00222"></a>00222     <span class="keywordtype">void</span> <a class="code" href="structCUstream__st.html#ad0a365c11a0330cfec6011a066634dfa">print</a>( FILE *fp );
<a name="l00223"></a><a class="code" href="structCUstream__st.html#a94db675ff94e87cacf490724248ca9da">00223</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structCUstream__st.html#a94db675ff94e87cacf490724248ca9da">get_uid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structCUstream__st.html#af3398bc3fbc6c73d174946fba337928d">m_uid</a>; }
<a name="l00224"></a>00224 
<a name="l00225"></a>00225 <span class="keyword">private</span>:
<a name="l00226"></a><a class="code" href="structCUstream__st.html#af3398bc3fbc6c73d174946fba337928d">00226</a>     <span class="keywordtype">unsigned</span> <a class="code" href="structCUstream__st.html#af3398bc3fbc6c73d174946fba337928d">m_uid</a>;
<a name="l00227"></a><a class="code" href="structCUstream__st.html#a198aec0837b8f25983ede93086c3020f">00227</a>     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="structCUstream__st.html#a198aec0837b8f25983ede93086c3020f">sm_next_stream_uid</a>;
<a name="l00228"></a>00228 
<a name="l00229"></a><a class="code" href="structCUstream__st.html#a19a94a9c6743b33bdd050dd864d773ee">00229</a>     std::list&lt;stream_operation&gt; <a class="code" href="structCUstream__st.html#a19a94a9c6743b33bdd050dd864d773ee">m_operations</a>;
<a name="l00230"></a><a class="code" href="structCUstream__st.html#a123ee15d518b7c9c382fd3cd4ec7a5fa">00230</a>     <span class="keywordtype">bool</span> <a class="code" href="structCUstream__st.html#a123ee15d518b7c9c382fd3cd4ec7a5fa">m_pending</a>; <span class="comment">// front operation has started but not yet completed</span>
<a name="l00231"></a>00231 
<a name="l00232"></a><a class="code" href="structCUstream__st.html#ab3670c5a6a504d1a13407828eaa2da7a">00232</a>     pthread_mutex_t <a class="code" href="structCUstream__st.html#ab3670c5a6a504d1a13407828eaa2da7a">m_lock</a>; <span class="comment">// ensure only one host or gpu manipulates stream operation at one time</span>
<a name="l00233"></a>00233 };
<a name="l00234"></a>00234 
<a name="l00235"></a><a class="code" href="classstream__manager.html">00235</a> <span class="keyword">class </span><a class="code" href="classstream__manager.html">stream_manager</a> {
<a name="l00236"></a>00236 <span class="keyword">public</span>:
<a name="l00237"></a>00237     <a class="code" href="classstream__manager.html#a4836df6a7b05e46a9ed1371d39a023c7">stream_manager</a>( <a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> *gpu, <span class="keywordtype">bool</span> cuda_launch_blocking );
<a name="l00238"></a>00238     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#aa94ecb2240ccafec3e526486515d02ba">register_finished_kernel</a>(<span class="keywordtype">unsigned</span> grid_uid  );
<a name="l00239"></a>00239     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#a4f557c9b63497b1448a3aae0dbdd998f">check_finished_kernel</a>(  );
<a name="l00240"></a>00240     <a class="code" href="classstream__operation.html">stream_operation</a> <a class="code" href="classstream__manager.html#a2b38d3203340d7803e80dca0f06a8c65">front</a>();
<a name="l00241"></a>00241     <span class="keywordtype">void</span> <a class="code" href="classstream__manager.html#a3b63446aeae32995e6a7e8755756dac2">add_stream</a>( <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream );
<a name="l00242"></a>00242     <span class="keywordtype">void</span> <a class="code" href="classstream__manager.html#a13e4e58764d75af037a2931956d2f8f2">destroy_stream</a>( <a class="code" href="structCUstream__st.html">CUstream_st</a> *stream );
<a name="l00243"></a>00243     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#a911e3a2e95480d26704e29208c567ebf">concurrent_streams_empty</a>();
<a name="l00244"></a>00244     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#a7d6a044af7e823ad57a429e3c3433d28">empty_protected</a>();
<a name="l00245"></a>00245     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#aee9a99d7569210a178e4e850aa25fdd4">empty</a>();
<a name="l00246"></a>00246     <span class="keywordtype">void</span> <a class="code" href="classstream__manager.html#a326e79f26f6957ef4b5a6918d957c0ae">print</a>( FILE *fp);
<a name="l00247"></a>00247     <span class="keywordtype">void</span> <a class="code" href="classstream__manager.html#ad0c71d419b2d1ca2c25ed6f995607c33">push</a>( <a class="code" href="classstream__operation.html">stream_operation</a> op );
<a name="l00248"></a>00248     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#a5be60d10a72aecb05eecc30e149c9521">operation</a>(<span class="keywordtype">bool</span> * sim);
<a name="l00249"></a>00249 <span class="keyword">private</span>:
<a name="l00250"></a>00250     <span class="keywordtype">void</span> <a class="code" href="classstream__manager.html#a798808cde49d1edd94094d4a551946a5">print_impl</a>( FILE *fp);
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="classstream__manager.html#a15a1feae454cbf1f5d0acc048317bb00">00252</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#a15a1feae454cbf1f5d0acc048317bb00">m_cuda_launch_blocking</a>;
<a name="l00253"></a><a class="code" href="classstream__manager.html#ac390749c1ca109fb2a820e91fd771a31">00253</a>     <a class="code" href="classgpgpu__sim.html">gpgpu_sim</a> *<a class="code" href="classstream__manager.html#ac390749c1ca109fb2a820e91fd771a31">m_gpu</a>;
<a name="l00254"></a><a class="code" href="classstream__manager.html#a351a885362aa4dc0764fa1afac66d018">00254</a>     std::list&lt;CUstream_st *&gt; <a class="code" href="classstream__manager.html#a351a885362aa4dc0764fa1afac66d018">m_streams</a>;
<a name="l00255"></a><a class="code" href="classstream__manager.html#ab3ec8ffce0eab27f04c22c431a555922">00255</a>     std::map&lt;unsigned,CUstream_st *&gt; <a class="code" href="classstream__manager.html#ab3ec8ffce0eab27f04c22c431a555922">m_grid_id_to_stream</a>;
<a name="l00256"></a><a class="code" href="classstream__manager.html#a105af875315b725b9e1f82e83a1ec4ad">00256</a>     <a class="code" href="structCUstream__st.html">CUstream_st</a> <a class="code" href="classstream__manager.html#a105af875315b725b9e1f82e83a1ec4ad">m_stream_zero</a>;
<a name="l00257"></a><a class="code" href="classstream__manager.html#ad7398688925a9a544b636dcc4b2671b3">00257</a>     <span class="keywordtype">bool</span> <a class="code" href="classstream__manager.html#ad7398688925a9a544b636dcc4b2671b3">m_service_stream_zero</a>;
<a name="l00258"></a><a class="code" href="classstream__manager.html#aa8f140643036de7d43793d9de18384f8">00258</a>     pthread_mutex_t <a class="code" href="classstream__manager.html#aa8f140643036de7d43793d9de18384f8">m_lock</a>;
<a name="l00259"></a>00259 };
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="preprocessor">#endif</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 13 May 2014 for GPGPU-Sim by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
